! function(t) {
    function e(r) {
        if (n[r]) return n[r].exports;
        var i = n[r] = {
            i: r,
            l: !1,
            exports: {}
        };
        return t[r].call(i.exports, i, i.exports, e), i.l = !0, i.exports
    }
    var n = {};
    e.m = t, e.c = n, e.d = function(t, n, r) {
        e.o(t, n) || Object.defineProperty(t, n, {
            configurable: !1,
            enumerable: !0,
            get: r
        })
    }, e.n = function(t) {
        var n = t && t.__esModule ? function() {
            return t.default
        } : function() {
            return t
        };
        return e.d(n, "a", n), n
    }, e.o = function(t, e) {
        return Object.prototype.hasOwnProperty.call(t, e)
    }, e.p = "", e(e.s = 527)
}([function(t, e, n) {
    "use strict";
    (function(t) {
        function n(t, e) {
            function n() {
                this.constructor = t
            }
            r(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
        }
        e.a = n;
        /*! *****************************************************************************
        Copyright (c) Microsoft Corporation.

        Permission to use, copy, modify, and/or distribute this software for any
        purpose with or without fee is hereby granted.

        THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
        REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
        AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
        INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
        LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
        OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
        PERFORMANCE OF THIS SOFTWARE.
        ***************************************************************************** */
        var r = function(t, e) {
            return (r = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                })(t, e)
        }
    }).call(e, n(6))
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return c
    });
    var r = n(0),
        i = n(42),
        o = n(124),
        s = n(10),
        a = n(82),
        u = n(61),
        l = n(80),
        c = function(t) {
            function e(n, r, i) {
                var s = t.call(this) || this;
                switch (s.syncErrorValue = null, s.syncErrorThrown = !1, s.syncErrorThrowable = !1, s.isStopped = !1, arguments.length) {
                    case 0:
                        s.destination = o.a;
                        break;
                    case 1:
                        if (!n) {
                            s.destination = o.a;
                            break
                        }
                        if ("object" == typeof n) {
                            n instanceof e ? (s.syncErrorThrowable = n.syncErrorThrowable, s.destination = n, n.add(s)) : (s.syncErrorThrowable = !0, s.destination = new h(s, n));
                            break
                        }
                        default:
                            s.syncErrorThrowable = !0, s.destination = new h(s, n, r, i)
                }
                return s
            }
            return r.a(e, t), e.prototype[a.a] = function() {
                return this
            }, e.create = function(t, n, r) {
                var i = new e(t, n, r);
                return i.syncErrorThrowable = !1, i
            }, e.prototype.next = function(t) {
                this.isStopped || this._next(t)
            }, e.prototype.error = function(t) {
                this.isStopped || (this.isStopped = !0, this._error(t))
            }, e.prototype.complete = function() {
                this.isStopped || (this.isStopped = !0, this._complete())
            }, e.prototype.unsubscribe = function() {
                this.closed || (this.isStopped = !0, t.prototype.unsubscribe.call(this))
            }, e.prototype._next = function(t) {
                this.destination.next(t)
            }, e.prototype._error = function(t) {
                this.destination.error(t), this.unsubscribe()
            }, e.prototype._complete = function() {
                this.destination.complete(), this.unsubscribe()
            }, e.prototype._unsubscribeAndRecycle = function() {
                var t = this._parentOrParents;
                return this._parentOrParents = null, this.unsubscribe(), this.closed = !1, this.isStopped = !1, this._parentOrParents = t, this
            }, e
        }(s.a),
        h = function(t) {
            function e(e, n, r, s) {
                var a = t.call(this) || this;
                a._parentSubscriber = e;
                var u, l = a;
                return Object(i.a)(n) ? u = n : n && (u = n.next, r = n.error, s = n.complete, n !== o.a && (l = Object.create(n), Object(i.a)(l.unsubscribe) && a.add(l.unsubscribe.bind(l)), l.unsubscribe = a.unsubscribe.bind(a))), a._context = l, a._next = u, a._error = r, a._complete = s, a
            }
            return r.a(e, t), e.prototype.next = function(t) {
                if (!this.isStopped && this._next) {
                    var e = this._parentSubscriber;
                    u.a.useDeprecatedSynchronousErrorHandling && e.syncErrorThrowable ? this.__tryOrSetError(e, this._next, t) && this.unsubscribe() : this.__tryOrUnsub(this._next, t)
                }
            }, e.prototype.error = function(t) {
                if (!this.isStopped) {
                    var e = this._parentSubscriber,
                        n = u.a.useDeprecatedSynchronousErrorHandling;
                    if (this._error) n && e.syncErrorThrowable ? (this.__tryOrSetError(e, this._error, t), this.unsubscribe()) : (this.__tryOrUnsub(this._error, t), this.unsubscribe());
                    else if (e.syncErrorThrowable) n ? (e.syncErrorValue = t, e.syncErrorThrown = !0) : Object(l.a)(t), this.unsubscribe();
                    else {
                        if (this.unsubscribe(), n) throw t;
                        Object(l.a)(t)
                    }
                }
            }, e.prototype.complete = function() {
                var t = this;
                if (!this.isStopped) {
                    var e = this._parentSubscriber;
                    if (this._complete) {
                        var n = function() {
                            return t._complete.call(t._context)
                        };
                        u.a.useDeprecatedSynchronousErrorHandling && e.syncErrorThrowable ? (this.__tryOrSetError(e, n), this.unsubscribe()) : (this.__tryOrUnsub(n), this.unsubscribe())
                    } else this.unsubscribe()
                }
            }, e.prototype.__tryOrUnsub = function(t, e) {
                try {
                    t.call(this._context, e)
                } catch (t) {
                    if (this.unsubscribe(), u.a.useDeprecatedSynchronousErrorHandling) throw t;
                    Object(l.a)(t)
                }
            }, e.prototype.__tryOrSetError = function(t, e, n) {
                if (!u.a.useDeprecatedSynchronousErrorHandling) throw new Error("bad call");
                try {
                    e.call(this._context, n)
                } catch (e) {
                    return u.a.useDeprecatedSynchronousErrorHandling ? (t.syncErrorValue = e, t.syncErrorThrown = !0, !0) : (Object(l.a)(e), !0)
                }
                return !1
            }, e.prototype._unsubscribe = function() {
                var t = this._parentSubscriber;
                this._context = null, this._parentSubscriber = null, t.unsubscribe()
            }, e
        }(c)
}, function(t, e, n) {
    "use strict";
    (function(t) {
        function r(e) {
            if (e || (e = u.a.Promise || t), !e) throw new Error("no Promise impl found");
            return e
        }
        n.d(e, "a", function() {
            return l
        });
        var i = n(79),
            o = n(214),
            s = n(33),
            a = n(83),
            u = n(61),
            l = function() {
                function t(t) {
                    this._isScalar = !1, t && (this._subscribe = t)
                }
                return t.prototype.lift = function(e) {
                    var n = new t;
                    return n.source = this, n.operator = e, n
                }, t.prototype.subscribe = function(t, e, n) {
                    var r = this.operator,
                        i = Object(o.a)(t, e, n);
                    if (r ? i.add(r.call(i, this.source)) : i.add(this.source || u.a.useDeprecatedSynchronousErrorHandling && !i.syncErrorThrowable ? this._subscribe(i) : this._trySubscribe(i)), u.a.useDeprecatedSynchronousErrorHandling && i.syncErrorThrowable && (i.syncErrorThrowable = !1, i.syncErrorThrown)) throw i.syncErrorValue;
                    return i
                }, t.prototype._trySubscribe = function(t) {
                    try {
                        return this._subscribe(t)
                    } catch (e) {
                        u.a.useDeprecatedSynchronousErrorHandling && (t.syncErrorThrown = !0, t.syncErrorValue = e), Object(i.a)(t) ? t.error(e) : console.warn(e)
                    }
                }, t.prototype.forEach = function(t, e) {
                    var n = this;
                    return new(e = r(e))(function(e, r) {
                        var i;
                        i = n.subscribe(function(e) {
                            try {
                                t(e)
                            } catch (t) {
                                r(t), i && i.unsubscribe()
                            }
                        }, r, e)
                    })
                }, t.prototype._subscribe = function(t) {
                    var e = this.source;
                    return e && e.subscribe(t)
                }, t.prototype[s.a] = function() {
                    return this
                }, t.prototype.pipe = function() {
                    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                    return 0 === t.length ? this : Object(a.b)(t)(this)
                }, t.prototype.toPromise = function(t) {
                    var e = this;
                    return new(t = r(t))(function(t, n) {
                        var r;
                        e.subscribe(function(t) {
                            return r = t
                        }, function(t) {
                            return n(t)
                        }, function() {
                            return t(r)
                        })
                    })
                }, t.create = function(e) {
                    return new t(e)
                }, t
            }()
    }).call(e, n(6))
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return o
    });
    var r = n(0),
        i = n(1),
        o = function(t) {
            function e() {
                return null !== t && t.apply(this, arguments) || this
            }
            return r.a(e, t), e.prototype.notifyNext = function(t, e, n, r, i) {
                this.destination.next(e)
            }, e.prototype.notifyError = function(t, e) {
                this.destination.error(t)
            }, e.prototype.notifyComplete = function(t) {
                this.destination.complete()
            }, e
        }(i.a)
}, function(t, e, n) {
    "use strict";

    function r(t, e, n, r, a) {
        if (void 0 === a && (a = new i.a(t, n, r)), !a.closed) return e instanceof s.a ? e.subscribe(a) : Object(o.a)(e)(a)
    }
    e.a = r;
    var i = n(30),
        o = n(84),
        s = n(2)
}, function(t, e) {
    t.exports = $
}, function(t, e, n) {
    (function(e, r) {
        /*!
         * @overview es6-promise - a tiny implementation of Promises/A+.
         * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
         * @license   Licensed under MIT license
         *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
         * @version   v4.2.2+97478eb6
         */
        ! function(e, n) {
            t.exports = n()
        }(0, function() {
            "use strict";

            function t(t) {
                var e = typeof t;
                return null !== t && ("object" === e || "function" === e)
            }

            function i(t) {
                return "function" == typeof t
            }

            function o(t) {
                H = t
            }

            function s(t) {
                G = t
            }

            function a() {
                return void 0 !== U ? function() {
                    U(l)
                } : u()
            }

            function u() {
                var t = setTimeout;
                return function() {
                    return t(l, 1)
                }
            }

            function l() {
                for (var t = 0; t < V; t += 2) {
                    (0, $[t])($[t + 1]), $[t] = void 0, $[t + 1] = void 0
                }
                V = 0
            }

            function c(t, e) {
                var n = this,
                    r = new this.constructor(f);
                void 0 === r[J] && k(r);
                var i = n._state;
                if (i) {
                    var o = arguments[i - 1];
                    G(function() {
                        return E(i, r, o, n._result)
                    })
                } else C(n, r, t, e);
                return r
            }

            function h(t) {
                var e = this;
                if (t && "object" == typeof t && t.constructor === e) return t;
                var n = new e(f);
                return _(n, t), n
            }

            function f() {}

            function p() {
                return new TypeError("You cannot resolve a promise with itself")
            }

            function d() {
                return new TypeError("A promises callback cannot return that same promise.")
            }

            function g(t) {
                try {
                    return t.then
                } catch (t) {
                    return nt.error = t, nt
                }
            }

            function m(t, e, n, r) {
                try {
                    t.call(e, n, r)
                } catch (t) {
                    return t
                }
            }

            function v(t, e, n) {
                G(function(t) {
                    var r = !1,
                        i = m(n, e, function(n) {
                            r || (r = !0, e !== n ? _(t, n) : x(t, n))
                        }, function(e) {
                            r || (r = !0, T(t, e))
                        }, "Settle: " + (t._label || " unknown promise"));
                    !r && i && (r = !0, T(t, i))
                }, t)
            }

            function b(t, e) {
                e._state === tt ? x(t, e._result) : e._state === et ? T(t, e._result) : C(e, void 0, function(e) {
                    return _(t, e)
                }, function(e) {
                    return T(t, e)
                })
            }

            function y(t, e, n) {
                e.constructor === t.constructor && n === c && e.constructor.resolve === h ? b(t, e) : n === nt ? (T(t, nt.error), nt.error = null) : void 0 === n ? x(t, e) : i(n) ? v(t, e, n) : x(t, e)
            }

            function _(e, n) {
                e === n ? T(e, p()) : t(n) ? y(e, n, g(n)) : x(e, n)
            }

            function w(t) {
                t._onerror && t._onerror(t._result), I(t)
            }

            function x(t, e) {
                t._state === Q && (t._result = e, t._state = tt, 0 !== t._subscribers.length && G(I, t))
            }

            function T(t, e) {
                t._state === Q && (t._state = et, t._result = e, G(w, t))
            }

            function C(t, e, n, r) {
                var i = t._subscribers,
                    o = i.length;
                t._onerror = null, i[o] = e, i[o + tt] = n, i[o + et] = r, 0 === o && t._state && G(I, t)
            }

            function I(t) {
                var e = t._subscribers,
                    n = t._state;
                if (0 !== e.length) {
                    for (var r = void 0, i = void 0, o = t._result, s = 0; s < e.length; s += 3) r = e[s], i = e[s + n], r ? E(n, r, i, o) : i(o);
                    t._subscribers.length = 0
                }
            }

            function S() {
                this.error = null
            }

            function O(t, e) {
                try {
                    return t(e)
                } catch (t) {
                    return rt.error = t, rt
                }
            }

            function E(t, e, n, r) {
                var o = i(n),
                    s = void 0,
                    a = void 0,
                    u = void 0,
                    l = void 0;
                if (o) {
                    if (s = O(n, r), s === rt ? (l = !0, a = s.error, s.error = null) : u = !0, e === s) return void T(e, d())
                } else s = r, u = !0;
                e._state !== Q || (o && u ? _(e, s) : l ? T(e, a) : t === tt ? x(e, s) : t === et && T(e, s))
            }

            function P(t, e) {
                try {
                    e(function(e) {
                        _(t, e)
                    }, function(e) {
                        T(t, e)
                    })
                } catch (e) {
                    T(t, e)
                }
            }

            function M() {
                return it++
            }

            function k(t) {
                t[J] = it++, t._state = void 0, t._result = void 0, t._subscribers = []
            }

            function L() {
                return new Error("Array Methods must be provided an Array")
            }

            function L() {
                return new Error("Array Methods must be provided an Array")
            }

            function A(t) {
                return new ot(this, t).promise
            }

            function R(t) {
                var e = this;
                return new e(F(t) ? function(n, r) {
                    for (var i = t.length, o = 0; o < i; o++) e.resolve(t[o]).then(n, r)
                } : function(t, e) {
                    return e(new TypeError("You must pass an array to race."))
                })
            }

            function N(t) {
                var e = this,
                    n = new e(f);
                return T(n, t), n
            }

            function j() {
                throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")
            }

            function B() {
                throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")
            }

            function z() {
                var t = void 0;
                if (void 0 !== r) t = r;
                else if ("undefined" != typeof self) t = self;
                else try {
                    t = Function("return this")()
                } catch (t) {
                    throw new Error("polyfill failed because global object is unavailable in this environment")
                }
                var e = t.Promise;
                if (e) {
                    var n = null;
                    try {
                        n = Object.prototype.toString.call(e.resolve())
                    } catch (t) {}
                    if ("[object Promise]" === n && !e.cast) return
                }
                t.Promise = st
            }
            var D = void 0;
            D = Array.isArray ? Array.isArray : function(t) {
                return "[object Array]" === Object.prototype.toString.call(t)
            };
            var F = D,
                V = 0,
                U = void 0,
                H = void 0,
                G = function(t, e) {
                    $[V] = t, $[V + 1] = e, 2 === (V += 2) && (H ? H(l) : Z())
                },
                W = "undefined" != typeof window ? window : void 0,
                X = W || {},
                q = X.MutationObserver || X.WebKitMutationObserver,
                Y = "undefined" == typeof self && void 0 !== e && "[object process]" === {}.toString.call(e),
                K = "undefined" != typeof Uint8ClampedArray && "undefined" != typeof importScripts && "undefined" != typeof MessageChannel,
                $ = new Array(1e3),
                Z = void 0;
            Z = Y ? function() {
                return function() {
                    return e.nextTick(l)
                }
            }() : q ? function() {
                var t = 0,
                    e = new q(l),
                    n = document.createTextNode("");
                return e.observe(n, {
                        characterData: !0
                    }),
                    function() {
                        n.data = t = ++t % 2
                    }
            }() : K ? function() {
                var t = new MessageChannel;
                return t.port1.onmessage = l,
                    function() {
                        return t.port2.postMessage(0)
                    }
            }() : void 0 === W ? function() {
                try {
                    var t = n(194);
                    return U = t.runOnLoop || t.runOnContext, a()
                } catch (t) {
                    return u()
                }
            }() : u();
            var J = Math.random().toString(36).substring(16),
                Q = void 0,
                tt = 1,
                et = 2,
                nt = new S,
                rt = new S,
                it = 0,
                ot = function() {
                    function t(t, e) {
                        this._instanceConstructor = t, this.promise = new t(f), this.promise[J] || k(this.promise), F(e) ? (this.length = e.length, this._remaining = e.length, this._result = new Array(this.length), 0 === this.length ? x(this.promise, this._result) : (this.length = this.length || 0, this._enumerate(e), 0 === this._remaining && x(this.promise, this._result))) : T(this.promise, L())
                    }
                    return t.prototype._enumerate = function(t) {
                        for (var e = 0; this._state === Q && e < t.length; e++) this._eachEntry(t[e], e)
                    }, t.prototype._eachEntry = function(t, e) {
                        var n = this._instanceConstructor,
                            r = n.resolve;
                        if (r === h) {
                            var i = g(t);
                            if (i === c && t._state !== Q) this._settledAt(t._state, e, t._result);
                            else if ("function" != typeof i) this._remaining--, this._result[e] = t;
                            else if (n === st) {
                                var o = new n(f);
                                y(o, t, i), this._willSettleAt(o, e)
                            } else this._willSettleAt(new n(function(e) {
                                return e(t)
                            }), e)
                        } else this._willSettleAt(r(t), e)
                    }, t.prototype._settledAt = function(t, e, n) {
                        var r = this.promise;
                        r._state === Q && (this._remaining--, t === et ? T(r, n) : this._result[e] = n), 0 === this._remaining && x(r, this._result)
                    }, t.prototype._willSettleAt = function(t, e) {
                        var n = this;
                        C(t, void 0, function(t) {
                            return n._settledAt(tt, e, t)
                        }, function(t) {
                            return n._settledAt(et, e, t)
                        })
                    }, t
                }(),
                st = function() {
                    function t(e) {
                        this[J] = M(), this._result = this._state = void 0, this._subscribers = [], f !== e && ("function" != typeof e && j(), this instanceof t ? P(this, e) : B())
                    }
                    return t.prototype.catch = function(t) {
                        return this.then(null, t)
                    }, t.prototype.finally = function(t) {
                        var e = this,
                            n = e.constructor;
                        return e.then(function(e) {
                            return n.resolve(t()).then(function() {
                                return e
                            })
                        }, function(e) {
                            return n.resolve(t()).then(function() {
                                throw e
                            })
                        })
                    }, t
                }();
            return st.prototype.then = c, st.all = A, st.race = R, st.resolve = h, st.reject = N, st._setScheduler = o, st._setAsap = s, st._asap = G, st.polyfill = z, st.Promise = st, st
        })
    }).call(e, n(107), n(77))
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.Matrix = void 0;
    var r = n(25),
        i = function() {
            function t(t, e, n, r, i, o) {
                void 0 === t && (t = 1), void 0 === e && (e = 0), void 0 === n && (n = 0), void 0 === r && (r = 1), void 0 === i && (i = 0), void 0 === o && (o = 0), this.a = t, this.b = e, this.c = n, this.d = r, this.tx = i, this.ty = o, this.u = 0, this.v = 0, this.w = 1
            }
            return Object.defineProperty(t.prototype, "forSvg", {
                get: function() {
                    return "matrix(" + this.a + ", " + this.b + ", " + this.c + ", " + this.d + ", " + this.tx + ", " + this.ty + ")"
                },
                enumerable: !1,
                configurable: !0
            }), t.prototype.identity = function() {
                this.a = 1, this.b = 0, this.c = 0, this.d = 1, this.tx = 0, this.ty = 0, this.u = 0, this.v = 0, this.w = 1
            }, t.prototype.concat = function(t) {
                var e = this.a * t.a,
                    n = 0,
                    r = 0,
                    i = this.d * t.d,
                    o = this.tx * t.a + t.tx,
                    s = this.ty * t.d + t.ty;
                0 === this.b && 0 === this.c && 0 === t.b && 0 === t.c || (e += this.b * t.c, i += this.c * t.b, n += this.a * t.b + this.b * t.d, r += this.c * t.a + this.d * t.c, o += this.ty * t.c, s += this.tx * t.b), this.a = e, this.b = n, this.c = r, this.d = i, this.tx = o, this.ty = s
            }, t.prototype.scale = function(e, n) {
                this.concat(new t(e, 0, 0, n, 0, 0))
            }, t.prototype.translate = function(e, n) {
                this.concat(new t(1, 0, 0, 1, e, n))
            }, t.prototype.rotate = function(t) {
                var e = Math.cos(t),
                    n = Math.sin(t),
                    r = this.a;
                this.a = e * this.a - n * this.b, this.b = n * r + e * this.b, r = this.c, this.c = e * this.c - n * this.d, this.d = n * r + e * this.d, r = this.tx, this.tx = e * this.tx - n * this.ty, this.ty = n * r + e * this.ty
            }, t.prototype.rotatePoint = function(t, e, n) {
                this.translate(-(e.left + n.x), -(e.top + n.y)), this.rotate(t), this.translate(e.left + n.x, e.top + n.y)
            }, t.prototype.skew = function(e, n) {
                this.concat(new t(1, Math.tan(n), Math.tan(e), 1, 0, 0))
            }, t.prototype.clone = function() {
                return new t(this.a, this.b, this.c, this.d, this.tx, this.ty)
            }, t.prototype.setToContext2d = function(t) {
                t.setTransform(this.a, this.b, this.c, this.d, this.tx, this.ty)
            }, t.prototype.transformPoint = function(t) {
                var e = this.a * t.x + this.c * t.y + this.tx,
                    n = this.b * t.x + this.d * t.y + this.ty;
                return new r.Point(e, n)
            }, t.prototype.deltaTransformPoint = function(t) {
                var e = this.transformPoint(t);
                return new r.Point(e.x - t.x, e.y - t.y)
            }, t.prototype.equals = function(t) {
                return this.a === t.a && this.b === t.b && this.c === t.c && this.d === t.d && this.tx === t.tx && this.ty === t.ty
            }, t.prototype.copyFrom = function(t) {
                this.a = t.a, this.b = t.b, this.c = t.c, this.d = t.d, this.tx = t.tx, this.ty = t.ty
            }, t.prototype.getRotationX = function() {
                return Math.atan2(this.b, this.a)
            }, t.prototype.getRotationY = function() {
                return Math.atan2(this.c, this.d)
            }, t.prototype.containsPoint = function(e, n, r, i) {
                var o = t.temp;
                o.copyFrom(this), o.invert();
                var s = o.tx + o.a * e + o.c * n,
                    a = o.ty + o.d * n + o.b * e;
                return s >= 0 && s <= r && a >= 0 && a <= i
            }, t.prototype.invert = function() {
                if (0 === this.b && 0 === this.c && 0 !== this.a && 0 !== this.d) this.a = 1 / this.a, this.d = 1 / this.d, this.b = 0, this.c = 0, this.tx = -this.a * this.tx, this.ty = -this.d * this.ty;
                else {
                    var t = this.a * this.d - this.b * this.c;
                    if (0 === t) return void this.identity();
                    t = 1 / t;
                    var e = this.a;
                    this.a = this.d * t, this.b = -this.b * t, this.c = -this.c * t, this.d = e * t, e = this.ty, this.ty = -(this.b * this.tx + this.d * this.ty), this.tx = -(this.a * this.tx + this.c * e)
                }
            }, t.resetContext2d = function(e) {
                var n = t.temp;
                n.identity(), n.setToContext2d(e)
            }, t.prototype.toStringCSS = function() {
                return "matrix(" + this.a + ", " + this.b + ", " + this.c + ", " + this.d + ", " + this.tx + ", " + this.ty + ")"
            }, t.prototype.fromStringCSS = function(t) {
                t = t.replace("matrix(", "").replace(")", "");
                var e = t.split(",");
                this.a = parseFloat(e[0]), this.b = parseFloat(e[1]), this.c = parseFloat(e[2]), this.d = parseFloat(e[3]), this.tx = parseFloat(e[4]), this.ty = parseFloat(e[5])
            }, t.prototype.serialize = function() {
                return t.temp.identity(), this.equals(t.temp) ? "d" : (t.temp.copyFrom(this), t.round(t.temp), t.temp.a + " " + t.temp.b + " " + t.temp.c + " " + t.temp.d + " " + t.temp.tx + " " + t.temp.ty)
            }, t.deserialize = function(e) {
                var n = new t;
                if ("d" === e) return n;
                var r = e.split(" ");
                return n.a = parseFloat(r[0]), n.b = parseFloat(r[1]), n.c = parseFloat(r[2]), n.d = parseFloat(r[3]), n.tx = parseFloat(r[4]), n.ty = parseFloat(r[5]), n
            }, t.prototype.subtract = function(t) {
                var e = t.clone();
                return e.invert(), e.concat(this), e
            }, t.round = function(t) {
                t.a = parseFloat(t.a.toFixed(3)), t.b = parseFloat(t.b.toFixed(3)), t.c = parseFloat(t.c.toFixed(3)), t.d = parseFloat(t.d.toFixed(3)), t.tx = parseFloat(t.tx.toFixed(3)), t.ty = parseFloat(t.ty.toFixed(3))
            }, t.temp = new t, t
        }();
    e.Matrix = i
}, function(t, e, n) {
    "use strict";
    (function(t) {
        Object.defineProperty(e, "__esModule", {
            value: !0
        }), e.Logo = e.LogoV3PaidStatus = e.LogasterV3Product = void 0;
        var r = n(9),
            i = n(13),
            o = n(19),
            s = n(71),
            a = n(207),
            u = n(209),
            l = n(120),
            c = n(25),
            h = n(14),
            f = n(7),
            p = n(39),
            d = n(103),
            g = n(60),
            m = n(121),
            v = n(122);
        ! function(t) {
            t.SmallLogo = "small_logo", t.Logo = "logo", t.SocialMediaKit = "social", t.BusinessCard = "business_card", t.FontColorsGuidelines = "font_colors_guidelines", t.Favicon = "favicon", t.Letterhead = "letterhead", t.EmailSignature = "email_signature", t.BrandBook = "brand_book", t.TemplateLogo = "template_logo", t.ClientApiLogo = "client_api_logo"
        }(e.LogasterV3Product || (e.LogasterV3Product = {}));
        ! function(t) {
            t[t.All = 0] = "All", t[t.Free = 1] = "Free", t[t.Paid = 2] = "Paid"
        }(e.LogoV3PaidStatus || (e.LogoV3PaidStatus = {}));
        var b = function() {
            function e() {
                this._source = null, this.id = 0, this.maker = null, this.primaryId = null, this.makerType = null, this.created = null, this.modified = null, this.makerSlogans = null, this.text = "", this.status = e.STATUS_DEFAULT, this.items = [], this.deletedItems = null, this.activityTypeId = 0, this.number = null, this.sharedUrl = "", this._colorRange = null, this._minAllowedItems = null, this._groupedItemsByType = null
            }
            return Object.defineProperty(e, "SERVICE_URL", {
                get: function() {
                    return i.Site.MAIN_URL + "/v3/js/logo/"
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "BRANDS_URL", {
                get: function() {
                    return i.Site.MAIN_URL + "/v3/brands/"
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "CREATE_URL", {
                get: function() {
                    return i.Site.MAIN_URL + "/logo/"
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "EDIT_URL", {
                get: function() {
                    return i.Site.MAIN_URL + "/v3/logo/edit/{id}/"
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "BRAND_LOGOS_URL", {
                get: function() {
                    return i.Site.MAIN_URL + "/v3/brands/{id}/logos/"
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "LOGO_TEXT_SIZE", {
                get: function() {
                    return 24
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "LOGO_SUGGESTION_WIDTH", {
                get: function() {
                    return 172
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "LOGO_SUGGESTION_HEIGHT", {
                get: function() {
                    return 143
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "VERTICAL", {
                get: function() {
                    return 1
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "HORIZONTAL", {
                get: function() {
                    return 2
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "TEXT", {
                get: function() {
                    return 3
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "ICON", {
                get: function() {
                    return 4
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "START_INDEX", {
                get: function() {
                    return 10
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "I_0", {
                get: function() {
                    return 10
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "I_1", {
                get: function() {
                    return 11
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "I_2", {
                get: function() {
                    return 12
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "I_3", {
                get: function() {
                    return 13
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "I_4", {
                get: function() {
                    return 14
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "I_5", {
                get: function() {
                    return 15
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "I_6", {
                get: function() {
                    return 16
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "STATUS_DEFAULT", {
                get: function() {
                    return 0
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "STATUS_XS", {
                get: function() {
                    return 1
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "STATUS_S", {
                get: function() {
                    return 2
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "STATUS_M", {
                get: function() {
                    return 3
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "STATUS_L", {
                get: function() {
                    return 4
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "STATUS_FAVORITE", {
                get: function() {
                    return 5
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "STATUS_PROPOSED", {
                get: function() {
                    return 6
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "STATUS_LOGO_PACK_20", {
                get: function() {
                    return 7
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "STATUS_SUBSCRIPTION_20", {
                get: function() {
                    return 8
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "STATUS_SUBSCRIPTION_PACK_20", {
                get: function() {
                    return 9
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "IMAGE_FORMAT_PNG", {
                get: function() {
                    return "png"
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "IMAGE_FORMAT_JPG", {
                get: function() {
                    return "jpeg"
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "IMAGE_FORMAT_PDF", {
                get: function() {
                    return "pdf"
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "IMAGE_FORMAT_SVG", {
                get: function() {
                    return "svg"
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "IMAGE_FORMAT_SVG_CURVES", {
                get: function() {
                    return "svg_curves"
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "IMAGE_FORMAT_ICO", {
                get: function() {
                    return "ico"
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "IMAGE_FORMAT_DOCX", {
                get: function() {
                    return "docx"
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "FREE_LOGO_WIDTH", {
                get: function() {
                    return 275
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "FREE_LOGO_HEIGHT", {
                get: function() {
                    return 91
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "ALIGN_LEFT_TOP", {
                get: function() {
                    return 1
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "ALIGN_CENTER", {
                get: function() {
                    return 3
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "colorRange", {
                get: function() {
                    return this._colorRange
                },
                set: function(t) {
                    this._colorRange = t
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "textItems", {
                get: function() {
                    for (var t = [], e = 0, n = this.items; e < n.length; e++) {
                        var r = n[e];
                        r.isText && t.push(r)
                    }
                    return t
                },
                enumerable: !1,
                configurable: !0
            }), e.fetch = function(n, r) {
                void 0 === r && (r = null), t.ajax({
                    type: "GET",
                    url: e.SERVICE_URL + n.toString() + "/",
                    dataType: "json",
                    success: function(t) {
                        var n = e.deserialize(t);
                        r && r(n)
                    }
                })
            }, e.prototype.getPrimaryId = function() {
                return null === this.primaryId ? this.id : this.primaryId
            }, e.prototype.serialize = function(t) {
                void 0 === t && (t = !1);
                for (var e = {
                        id: this.id,
                        primaryId: this.getPrimaryId(),
                        makerId: this.makerId,
                        status: this.status,
                        text: this.text,
                        colorRange: this.colorRange,
                        activityTypeId: 0 === this.activityTypeId ? null : this.activityTypeId,
                        items: []
                    }, n = 0, r = this.items; n < r.length; n++) {
                    var i = r[n];
                    if (!t || i.hasChanges()) {
                        var o = i.serialize();
                        e.items.push(o)
                    }
                }
                return null !== this.deletedItems && (e.deletedItems = this.deletedItems), JSON.stringify(e)
            }, e.deserialize = function(t) {
                var n = new e;
                t = JSON.parse(t), n.id = Number(t.id), n.makerId = Number(t.makerId), n.primaryId = t.primaryId, n.status = Number(t.status), n.colorRange = r.ColorRange.fromId(t.cr), n.makerType = Number(t.mt), n.makerSlogans = Number(t.ms), n.maker = p.LogoMap.deserialize(t.maker), n.activityTypeId = null === t.activityTypeId ? 0 : Number(t.activityTypeId), n.number = t.number, n.text = t.text;
                for (var i = t.i, c = 0, h = i; c < h.length; c++) {
                    var f = h[c],
                        g = null;
                    switch (f.t) {
                        case o.LogoItem.SVG_ICON:
                            g = s.SvgIcon.deserialize(f);
                            break;
                        case o.LogoItem.TEXT_ICON:
                            g = u.TextIcon.deserialize(f);
                            break;
                        case o.LogoItem.BASE_TEXT:
                        case o.LogoItem.LOGO_NAME:
                        case o.LogoItem.TAGLINE:
                        case o.LogoItem.MONOGRAM:
                        case o.LogoItem.CUSTOM_TEXT:
                            g = d.BaseText.deserialize(f);
                            break;
                        case o.LogoItem.RICH_TEXT:
                            g = a.RichText.deserialize(f);
                            break;
                        case o.LogoItem.LINE:
                            g = l.Line.deserialize(f);
                            break;
                        case o.LogoItem.ELLIPSE:
                            g = m.Ellipse.deserialize(f);
                            break;
                        case o.LogoItem.RECT:
                            g = v.Rect.deserialize(f)
                    }
                    g && n.items.push(g)
                }
                return n._source = n.clone_without_items(), n
            }, e.deserializeNg = function(t) {
                var n = new e;
                n.text = t.text, n.maker = p.LogoMap.deserializeNg(t.maker), n.number = t.number, n.id = Number(t.id), n.primaryId = t.logo_id, n.modified = t.modified, n.created = t.created, n.status = Number(t.status), n.makerId = Number(t.maker.id), n.makerType = Number(t.maker.type), n.makerSlogans = Number(t.maker.slogans), n.colorRange = r.ColorRange.fromId(t.colorRange_id), n.activityTypeId = null === t.activityType_id ? 0 : Number(t.activityType_id), n.sharedUrl = t.sharedUrl;
                for (var i = 0, c = t.items; i < c.length; i++) {
                    var h = c[i],
                        f = null;
                    switch (h.type) {
                        case o.LogoItem.SVG_ICON:
                            f = s.SvgIcon.deserializeNg(h);
                            break;
                        case o.LogoItem.TEXT_ICON:
                            f = u.TextIcon.deserialize(h);
                            break;
                        case o.LogoItem.BASE_TEXT:
                        case o.LogoItem.LOGO_NAME:
                        case o.LogoItem.TAGLINE:
                        case o.LogoItem.MONOGRAM:
                        case o.LogoItem.CUSTOM_TEXT:
                            f = d.BaseText.deserializeNg(h);
                            break;
                        case o.LogoItem.RICH_TEXT:
                            f = a.RichText.deserializeNg(h);
                            break;
                        case o.LogoItem.LINE:
                            f = l.Line.deserializeNg(h)
                    }
                    f && n.items.push(f)
                }
                return n._source = n.clone_without_items(), n
            }, e.prototype.center = function(t, n, r) {
                void 0 === t && (t = 10), void 0 === n && (n = e.LOGO_SUGGESTION_WIDTH), void 0 === r && (r = e.LOGO_SUGGESTION_HEIGHT), this.align(e.ALIGN_CENTER, t, n, r)
            }, e.prototype.align = function(t, n, r, i) {
                void 0 === n && (n = 10), void 0 === r && (r = e.LOGO_SUGGESTION_WIDTH), void 0 === i && (i = e.LOGO_SUGGESTION_HEIGHT);
                for (var o = this.calculateAlignMatrix(t, n, r, i), s = 0, a = this.items; s < a.length; s++) {
                    var u = a[s];
                    u.isText && "" === u.text || u.maths.matrix.concat(o)
                }
            }, e.prototype.getBounds = function() {
                for (var t = [], e = 0, n = this.items; e < n.length; e++) {
                    var r = n[e];
                    if (!r.isText || "" !== r.text) {
                        t.push(r.maths.matrix.transformPoint(r.bounds.topLeft)), t.push(r.maths.matrix.transformPoint(r.bounds.bottomRight));
                        var i = new c.Point(r.bounds.bottomRight.x, r.bounds.bottomRight.y - r.bounds.height),
                            o = new c.Point(r.bounds.topLeft.x, r.bounds.topLeft.y + r.bounds.height);
                        t.push(r.maths.matrix.transformPoint(i)), t.push(r.maths.matrix.transformPoint(o))
                    }
                }
                for (var s = Number.POSITIVE_INFINITY, a = Number.POSITIVE_INFINITY, u = Number.NEGATIVE_INFINITY, l = Number.NEGATIVE_INFINITY, f = 0, p = t; f < p.length; f++) {
                    var d = p[f];
                    s = Math.min(s, d.x), a = Math.min(a, d.y), u = Math.max(u, d.x), l = Math.max(l, d.y)
                }
                return new h.Rectangle(s, a, u - s, l - a)
            }, e.prototype.getCenteringMatrix = function(t, n, r) {
                return void 0 === t && (t = 10), void 0 === n && (n = e.LOGO_SUGGESTION_WIDTH), void 0 === r && (r = e.LOGO_SUGGESTION_HEIGHT), this.calculateAlignMatrix(e.ALIGN_CENTER, t, n, r)
            }, e.prototype.calculateAlignMatrix = function(t, n, r, i) {
                void 0 === n && (n = 10), void 0 === r && (r = e.LOGO_SUGGESTION_WIDTH), void 0 === i && (i = e.LOGO_SUGGESTION_HEIGHT);
                var o = this.getBounds(),
                    s = o.width * i / o.height;
                s > r && (s = r, o.height, o.width);
                var a = s / o.width,
                    u = new f.Matrix;
                u.scale(a, a);
                var l = -o.x * a,
                    c = -o.y * a;
                switch (t) {
                    case e.ALIGN_LEFT_TOP:
                        break;
                    case e.ALIGN_CENTER:
                    default:
                        l += (r - o.width * a) / 2, c += (i - o.height * a) / 2
                }
                return u.translate(l, c), a = (i - 2 * n) / i, u.scale(a, a), u.translate(r / i * n, n), u
            }, e.prototype.save = function(n) {
                void 0 === n && (n = null);
                var r = this.serialize(),
                    i = this;
                t.ajax({
                    type: "POST",
                    url: e.SERVICE_URL,
                    dataType: "json",
                    data: r,
                    success: function(t) {
                        i.id = t.id, n && n(t)
                    }
                })
            }, e.prototype.update = function(n) {
                void 0 === n && (n = null);
                var r = this.serialize();
                t.ajax({
                    type: "PUT",
                    url: e.SERVICE_URL + (this.id + "/"),
                    dataType: "json",
                    data: r,
                    success: function(t) {
                        n && n(t)
                    }
                })
            }, e.prototype.delete = function(n) {
                void 0 === n && (n = null);
                var r = JSON.stringify({
                        id: this.id
                    }),
                    i = this;
                t.ajax({
                    type: "DELETE",
                    url: e.SERVICE_URL + (this.id + "/"),
                    dataType: "json",
                    data: r,
                    success: function() {
                        i.id = 0, n && n()
                    }
                })
            }, e.prototype.usedFonts = function() {
                for (var t = [], e = 0, n = this.textItems; e < n.length; e++) {
                    var r = n[e]; - 1 == t.indexOf(r.font.id) && t.push(r.font.id)
                }
                return t
            }, e.prototype.getLogoNameItem = function() {
                for (var t = [], e = 0, n = this.textItems; e < n.length; e++) {
                    var r = n[e];
                    r.type == o.LogoItem.LOGO_NAME && t.push(r)
                }
                if (0 === t.length) return null;
                for (var i, s = t[0].group, a = 0, u = t; a < u.length; a++) {
                    var r = u[a];
                    r.group <= s && (s = r.group, i = r)
                }
                return i
            }, e.prototype.toggleFavorite = function(t) {
                void 0 === t && (t = null), this.status == e.STATUS_FAVORITE ? (this.status = e.STATUS_DEFAULT, this.delete(function() {
                    t && t(this)
                })) : (this.status = e.STATUS_FAVORITE, this.save(function() {
                    t && t(this)
                }))
            }, e.bulkPartialUpdate = function(t, e) {
                void 0 === e && (e = null), (new g.BrandManager).updateLogosStatus(t).subscribe(function(t) {
                    e && e(t.status, t.isTemp)
                })
            }, e.prototype.clone = function() {
                for (var t = this.clone_without_items(), e = 0, n = this.items; e < n.length; e++) {
                    var r = n[e];
                    t.items.push(r.clone())
                }
                return t
            }, e.prototype.clone_without_items = function() {
                var t = new e;
                return t.id = this.id, t.text = this.text, t.status = this.status, t.makerId = this.makerId, t.modified = this.modified, t.created = this.created, t.colorRange = this.colorRange ? this.colorRange : null, t.items = [], t.activityTypeId = this.activityTypeId, t.makerType = this.makerType, t.makerSlogans = this.makerSlogans, t.primaryId = this.primaryId, t.maker = this.maker, t
            }, e.prototype.getItem = function(t) {
                for (var e = 0, n = this.items; e < n.length; e++) {
                    var r = n[e];
                    if (r.uid === t) return r
                }
                return null
            }, e.prototype.replaceItem = function(t) {
                for (var e = 0; e < this.items.length; e++) this.items[e].uid === t.uid && (this.items[e] = t)
            }, e.prototype.isValid = function() {
                var t = !0;
                return 0 === this.items.length ? t = !1 : 1 === this.items.length && this.items[0].isText && 0 === this.items[0].text.length && (t = !1), t
            }, Object.defineProperty(e.prototype, "icon", {
                get: function() {
                    if (null === this.maker.itype) return null;
                    for (var t = 0, e = this.items; t < e.length; t++) {
                        var n = e[t];
                        if (n.type === o.LogoItem.SVG_ICON) return n
                    }
                    return null
                },
                enumerable: !1,
                configurable: !0
            }), e.prototype.hasChanges = function() {
                for (var t = 0, e = this.items; t < e.length; t++) {
                    if (e[t].hasChanges()) return !0
                }
                return null !== this.deletedItems || this.text !== this._source.text || this.status !== this._source.status || this.makerId !== this._source.makerId || this.colorRange.id !== this._source.colorRange.id || this.activityTypeId !== this._source.activityTypeId || this.maker !== this._source.maker
            }, e.prototype.addItem = function(t) {
                return this.items.push(t), this.groupItemsByType(), t
            }, e.prototype.deleteItem = function(t) {
                for (var e = null, n = 0; n < this.items.length; n++) {
                    if (this.items[n].uid === t) {
                        e = this.items.splice(n, 1)[0], e.id > 0 && (null === this.deletedItems && (this.deletedItems = []), this.deletedItems.push(e.id)), this.groupItemsByType();
                        break
                    }
                }
                return e
            }, Object.defineProperty(e.prototype, "minAllowedItems", {
                get: function() {
                    if (null !== this._minAllowedItems) return this._minAllowedItems;
                    this._minAllowedItems = {};
                    var t;
                    if (null !== this.maker)
                        for (var e = 0, n = this.maker; e < n.length; e++) {
                            var r = n[e];
                            t = r.logoItemType, this._minAllowedItems.hasOwnProperty(t) ? this._minAllowedItems[t] += 1 : this._minAllowedItems[t] = 1
                        }
                    return this._minAllowedItems
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "groupedItemsByType", {
                get: function() {
                    return null !== this._groupedItemsByType ? this._groupedItemsByType : (this.groupItemsByType(), this._groupedItemsByType)
                },
                enumerable: !1,
                configurable: !0
            }), e.prototype.groupItemsByType = function() {
                this._groupedItemsByType = {};
                for (var t = 0, e = this.items; t < e.length; t++) {
                    var n = e[t];
                    this._groupedItemsByType.hasOwnProperty(n.type) ? this._groupedItemsByType[n.type].push(n) : this._groupedItemsByType[n.type] = [n]
                }
            }, e.prototype.canDeleteItem = function(t) {
                return !this.minAllowedItems.hasOwnProperty(t.type) || this.minAllowedItems.hasOwnProperty(t.type) && this.groupedItemsByType.hasOwnProperty(t.type) && this.groupedItemsByType[t.type].length > this.minAllowedItems[t.type]
            }, e.prototype.debug = function() {
                for (var t = "Maker id: " + this.makerId + "\nFamily id: " + this.maker.familyId + "\nFamily name: " + this.maker.familyName + "\nFamily style: " + this.maker.familyStyle + "\n\n", e = 0, n = this.items; e < n.length; e++) {
                    t += n[e].debug() + "\n"
                }
                return t
            }, e.prototype.equals = function(t) {
                if (null === t || this.items.length != t.items.length) return !1;
                for (var e = 0; e < this.items.length; e++)
                    if (!this.items[e].equals(t.items[e])) return !1;
                return !0
            }, e
        }();
        e.Logo = b
    }).call(e, n(5))
}, function(module, exports, __webpack_require__) {
    "use strict";
    (function($) {
        Object.defineProperty(exports, "__esModule", {
            value: !0
        }), exports.ColorRange = void 0;
        var iro = __webpack_require__(165),
            Site_1 = __webpack_require__(13),
            Fill_1 = __webpack_require__(11),
            ColorRange = function() {
                function ColorRange(t, e) {
                    void 0 === t && (t = null), void 0 === e && (e = null), this.userProfileId = null, this.isCustom = !1, this.categories = null, this.colors = null, this.isActive = !0, this.options = 0, this.version = 2, this.map = null, this.id = t, this.title = e
                }
                return Object.defineProperty(ColorRange, "SERVICE_URL", {
                    get: function() {
                        return Site_1.Site.MAIN_URL + "/v3/js/color-range/"
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(ColorRange, "BRAND_COLOR", {
                    get: function() {
                        return 0
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(ColorRange, "TEXTURE_COLOR", {
                    get: function() {
                        return 1
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(ColorRange, "TEXTURE_LOGO_COLOR", {
                    get: function() {
                        return 2
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(ColorRange, "BG_WHITE", {
                    get: function() {
                        return 1
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(ColorRange, "BG_A", {
                    get: function() {
                        return 2
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(ColorRange, "BG_B", {
                    get: function() {
                        return 3
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(ColorRange, "BG_C", {
                    get: function() {
                        return 4
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(ColorRange, "BG_BLACK", {
                    get: function() {
                        return 5
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(ColorRange, "BG_GRAY", {
                    get: function() {
                        return 6
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(ColorRange, "BG_TRANSPARENT", {
                    get: function() {
                        return 7
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(ColorRange, "EL_LOGO1", {
                    get: function() {
                        return 1
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(ColorRange, "EL_LOGO2", {
                    get: function() {
                        return 2
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(ColorRange, "EL_HEADER", {
                    get: function() {
                        return 3
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(ColorRange, "EL_TEXT", {
                    get: function() {
                        return 4
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(ColorRange, "EL_DESIGN1", {
                    get: function() {
                        return 5
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(ColorRange, "EL_DESIGN2", {
                    get: function() {
                        return 6
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(ColorRange, "EL_LOGO_DB", {
                    get: function() {
                        return 7
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(ColorRange, "INDEX_LOGO1", {
                    get: function() {
                        return 0
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(ColorRange, "INDEX_LOGO2", {
                    get: function() {
                        return 1
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(ColorRange, "INDEX_DESIGN1", {
                    get: function() {
                        return 2
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(ColorRange, "INDEX_DESIGN2", {
                    get: function() {
                        return 3
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(ColorRange, "INDEX_HEADER", {
                    get: function() {
                        return 4
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(ColorRange, "INDEX_TEXT", {
                    get: function() {
                        return 5
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(ColorRange, "INDEX_BG", {
                    get: function() {
                        return 6
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(ColorRange, "INDEX_WHITE", {
                    get: function() {
                        return 7
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(ColorRange, "INDEX_BLACK", {
                    get: function() {
                        return 8
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(ColorRange, "INDEX_GREY", {
                    get: function() {
                        return 9
                    },
                    enumerable: !1,
                    configurable: !0
                }), ColorRange.createBlank = function() {
                    var t = new ColorRange;
                    return t.title = "", t.colors = [16777215, 16777215, 16777215, 16777215, 16777215, 16777215, 16777215, 16777215, 0, 15987699], t.categories = [], t.map = {}, t.map[ColorRange.BG_WHITE] = [null, null, null, null, null, null], t.map[ColorRange.BG_A] = [null, null, null, null, null, null], t.map[ColorRange.BG_B] = [null, null, null, null, null, null], t.map[ColorRange.BG_C] = [null, null, null, null, null, null], t.map[ColorRange.BG_BLACK] = [null, null, null, null, null, null], t.map[ColorRange.BG_GRAY] = [null, null, null, null, null, null], t
                }, Object.defineProperty(ColorRange, "colorRanges", {
                    get: function() {
                        return null == ColorRange._colorRanges ? null : ColorRange._colorRanges.active
                    },
                    enumerable: !1,
                    configurable: !0
                }), ColorRange.fromId = function(t) {
                    for (var e = 0, n = ColorRange.colorRanges; e < n.length; e++) {
                        var r = n[e];
                        if (r.id == t) return r
                    }
                    return null
                }, ColorRange.fromIdAll = function(t) {
                    for (var e = 0, n = ColorRange._colorRanges.all; e < n.length; e++) {
                        var r = n[e];
                        if (r.id == t) return r
                    }
                    return null
                }, ColorRange.setColorRanges = function(t) {
                    ColorRange._colorRanges = t
                }, Object.defineProperty(ColorRange.prototype, "categoriesData", {
                    get: function() {
                        return null === this.categories ? "" : this.categories.join(";")
                    },
                    set: function(t) {
                        for (var e = t.split(";"), n = [], r = 0; r < e.length; r++) "" != e[r] && n.push(parseInt(e[r]));
                        this.categories = n
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(ColorRange.prototype, "colorsData", {
                    get: function() {
                        for (var t = "", e = 0; e < this.colors.length; e++) t += this.colors[e].toString(16) + ";";
                        return t
                    },
                    set: function(t) {
                        for (var e = t.split(";"), n = [], r = 0; r < e.length; r++) "" != e[r] && n.push(parseInt("0x" + e[r]));
                        void 0 === n[ColorRange.INDEX_WHITE] && (n[ColorRange.INDEX_WHITE] = 16777215), void 0 === n[ColorRange.INDEX_BLACK] && (n[ColorRange.INDEX_BLACK] = 0), void 0 === n[ColorRange.INDEX_GREY] && (n[ColorRange.INDEX_GREY] = 15987699), this.colors = n
                    },
                    enumerable: !1,
                    configurable: !0
                }), ColorRange.init = function(t) {
                    if (void 0 === t && (t = void 0), null === ColorRange.colorRanges) {
                        for (var e = t || getColorRanges(), n = e, r = {
                                active: [],
                                notActive: [],
                                all: []
                            }, i = null, o = 0; o < n.length; o++) null != (i = ColorRange.parseColorRange(n[o])) && (i.isActive ? r.active.push(i) : r.notActive.push(i), r.all.push(i));
                        r.all.length > 0 && (ColorRange._colorRanges = r)
                    }
                }, ColorRange.parseColorRange = function(source) {
                    if (null === source) return null;
                    var colorRange = new ColorRange(source.id, source.title);
                    return colorRange.userProfileId = source.upId, colorRange.colorsData = source.colorsData, colorRange.categoriesData = source.categoriesData, colorRange.isActive = Boolean(source.isActive), colorRange.options = source.options, colorRange.map = "string" == typeof source.map ? eval("({" + source.map + "})") : source.map, colorRange
                }, ColorRange.getColorRange = function(t) {
                    return null === t || 0 == t.length ? ColorRange.getRandom() : t[Math.round(Math.random() * (t.length - 1))]
                }, ColorRange.getRandom = function(t, e) {
                    if (void 0 === t && (t = null), void 0 === e && (e = !0), null == ColorRange._colorRanges) return null;
                    null == t && (t = e ? ColorRange._colorRanges.active : ColorRange._colorRanges.notActive);
                    var n;
                    do {
                        n = t[Math.round(Math.random() * (t.length - 1))]
                    } while (n.id === this.previousId);
                    return ColorRange.previousId = n.id, n
                }, ColorRange.prototype.getBgColor = function(t) {
                    t === ColorRange.BG_TRANSPARENT && (t = ColorRange.BG_WHITE);
                    var e = this.colors[this.map[t][0]];
                    return void 0 !== e ? ColorRange.toColorString(e) : null
                }, ColorRange.prototype.getElColor = function(t, e) {
                    var n = this.colors[this.map[t][e]];
                    return void 0 !== n ? ColorRange.toColorString(n) : null
                }, ColorRange.prototype.getColor = function(t, e) {
                    if (e == ColorRange.EL_LOGO_DB) return null;
                    t === ColorRange.BG_TRANSPARENT && (t = ColorRange.BG_WHITE);
                    var n = this.colors[this.map[t][e]];
                    return void 0 !== n ? ColorRange.toColorString(n) : null
                }, ColorRange.prototype.getColorByIndex = function(t) {
                    return ColorRange.toColorString(this.colors[t])
                }, ColorRange.prototype.serialize = function(t) {
                    void 0 === t && (t = null);
                    for (var e = [], n = 0, r = this.colors; n < r.length; n++) {
                        var i = r[n];
                        e.push(ColorRange.toColorString(i).toLowerCase())
                    }
                    var o = JSON.stringify(this.map);
                    o = o.replace("{", "").replace("}", "").replace(/"/g, "");
                    var s = {
                        id: this.id,
                        userProfileId: this.userProfileId,
                        isCustom: this.isCustom,
                        title: this.title,
                        isActive: this.isActive,
                        colors: e.join(";"),
                        categories: this.categories.join(";"),
                        options: this.options,
                        version: this.version,
                        map: o,
                        brandId: t
                    };
                    return JSON.stringify(s)
                }, ColorRange.prototype.save = function(t, e, n) {
                    void 0 === t && (t = null), void 0 === e && (e = null), void 0 === n && (n = null);
                    var r = this.serialize(t),
                        i = this;
                    $.ajax({
                        type: "POST",
                        url: ColorRange.SERVICE_URL,
                        dataType: "json",
                        data: r,
                        success: function(t) {
                            t.success ? (i.id = t.id, e && e()) : n(t.message)
                        }
                    })
                }, ColorRange.prototype.update = function(t, e) {
                    void 0 === t && (t = null), void 0 === e && (e = null);
                    var n = this.serialize(t);
                    $.ajax({
                        type: "PUT",
                        url: ColorRange.SERVICE_URL + (this.id + "/"),
                        dataType: "json",
                        data: n,
                        success: function(t) {
                            e && e(t)
                        }
                    })
                }, ColorRange.toColorString = function(t) {
                    var e = "000000" + t.toString(16).toUpperCase();
                    return e.substr(e.length - 6)
                }, ColorRange.prototype.getFill = function(t, e) {
                    if (void 0 === t && (t = null), void 0 === e && (e = null), null == t && null == e) return null;
                    if (null != e) switch (typeof e) {
                        case "string":
                            return new Fill_1.Fill(e);
                        case "number":
                            var n = this.getColor(t, e);
                            return null === n ? null : new Fill_1.Fill(n)
                    } else if (null != t) switch (typeof t) {
                        case "string":
                            return new Fill_1.Fill(t);
                        case "number":
                            return new Fill_1.Fill(this.getBgColor(t))
                    }
                    return null
                }, ColorRange.getColorKey = function(t, e) {
                    var n = "";
                    return e == ColorRange.BG_TRANSPARENT ? n = "bg_alpha" : e == ColorRange.BG_WHITE ? n = "bg_white" : e == ColorRange.BG_B ? n = "bg_b" : e == ColorRange.BG_BLACK && (n = "bg_black"), "000000" == t && (n += "_000000"), n
                }, ColorRange.blendColorsAlpha = function(t, e, n) {
                    void 0 === n && (n = 1);
                    var r = iro.Color.parseHexStr(t),
                        i = iro.Color.parseHexStr(e),
                        o = r.r * (1 - n) + i.r * n,
                        s = r.g * (1 - n) + i.g * n,
                        a = r.b * (1 - n) + i.b * n;
                    return iro.Color.rgb2Hex({
                        r: Math.round(o),
                        g: Math.round(s),
                        b: Math.round(a)
                    })
                }, ColorRange.luminance = function(t, e, n) {
                    var r = [t, e, n].map(function(t) {
                        return t /= 255, t <= .03928 ? t / 12.92 : Math.pow((t + .055) / 1.055, 2.4)
                    });
                    return .2126 * r[0] + .7152 * r[1] + .0722 * r[2]
                }, ColorRange.contrast = function(t, e) {
                    var n = iro.Color.parseHexStr(t),
                        r = iro.Color.parseHexStr(e),
                        i = (ColorRange.luminance(r.r, r.g, r.b) + .05) / (ColorRange.luminance(n.r, n.g, n.b) + .05);
                    return i < 1 && (i = 1 / i), i
                }, ColorRange.prototype.equals = function(t) {
                    return null !== t && this.id === t.id
                }, ColorRange.prototype.getUniqueColors = function() {
                    return this.colors.filter(function(t, e, n) {
                        return n.indexOf(t) == e
                    })
                }, ColorRange.NO_OPTIONS = 0, ColorRange.LIGHT = 1, ColorRange._colorRanges = null, ColorRange
            }();
        exports.ColorRange = ColorRange
    }).call(exports, __webpack_require__(5))
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t.reduce(function(t, e) {
            return t.concat(e instanceof a.a ? e.errors : e)
        }, [])
    }
    n.d(e, "a", function() {
        return u
    });
    var i = n(15),
        o = n(81),
        s = n(42),
        a = n(125),
        u = function() {
            function t(t) {
                this.closed = !1, this._parentOrParents = null, this._subscriptions = null, t && (this._unsubscribe = t)
            }
            return t.prototype.unsubscribe = function() {
                var e;
                if (!this.closed) {
                    var n = this,
                        u = n._parentOrParents,
                        l = n._unsubscribe,
                        c = n._subscriptions;
                    if (this.closed = !0, this._parentOrParents = null, this._subscriptions = null, u instanceof t) u.remove(this);
                    else if (null !== u)
                        for (var h = 0; h < u.length; ++h) {
                            var f = u[h];
                            f.remove(this)
                        }
                    if (Object(s.a)(l)) try {
                        l.call(this)
                    } catch (t) {
                        e = t instanceof a.a ? r(t.errors) : [t]
                    }
                    if (Object(i.a)(c))
                        for (var h = -1, p = c.length; ++h < p;) {
                            var d = c[h];
                            if (Object(o.a)(d)) try {
                                d.unsubscribe()
                            } catch (t) {
                                e = e || [], t instanceof a.a ? e = e.concat(r(t.errors)) : e.push(t)
                            }
                        }
                    if (e) throw new a.a(e)
                }
            }, t.prototype.add = function(e) {
                var n = e;
                if (!e) return t.EMPTY;
                switch (typeof e) {
                    case "function":
                        n = new t(e);
                    case "object":
                        if (n === this || n.closed || "function" != typeof n.unsubscribe) return n;
                        if (this.closed) return n.unsubscribe(), n;
                        if (!(n instanceof t)) {
                            var r = n;
                            n = new t, n._subscriptions = [r]
                        }
                        break;
                    default:
                        throw new Error("unrecognized teardown " + e + " added to Subscription.")
                }
                var i = n._parentOrParents;
                if (null === i) n._parentOrParents = this;
                else if (i instanceof t) {
                    if (i === this) return n;
                    n._parentOrParents = [i, this]
                } else {
                    if (-1 !== i.indexOf(this)) return n;
                    i.push(this)
                }
                var o = this._subscriptions;
                return null === o ? this._subscriptions = [n] : o.push(n), n
            }, t.prototype.remove = function(t) {
                var e = this._subscriptions;
                if (e) {
                    var n = e.indexOf(t); - 1 !== n && e.splice(n, 1)
                }
            }, t.EMPTY = function(t) {
                return t.closed = !0, t
            }(new t), t
        }()
}, function(t, e, n) {
    "use strict";
    var r = this && this.__extends || function() {
            var t = function(e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                    })(e, n)
            };
            return function(e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        i = this && this.__spreadArrays || function() {
            for (var t = 0, e = 0, n = arguments.length; e < n; e++) t += arguments[e].length;
            for (var r = Array(t), i = 0, e = 0; e < n; e++)
                for (var o = arguments[e], s = 0, a = o.length; s < a; s++, i++) r[i] = o[s];
            return r
        };
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.MultiColorFill = e.OverrideFill = e.Fill = void 0;
    var o = n(28),
        s = function() {
            function t(e) {
                this.color = null, this.type = t.BASE_FILL, this.color = e
            }
            return Object.defineProperty(t, "BASE_FILL", {
                get: function() {
                    return 1
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t, "OVERRIDE_FILL", {
                get: function() {
                    return 2
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t, "MULTI_COLOR_FILL", {
                get: function() {
                    return 3
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "hex", {
                get: function() {
                    return "#" + this.color
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "rgb", {
                get: function() {
                    return {
                        r: (16711680 & parseInt(this.color, 16)) >> 16,
                        g: (65280 & parseInt(this.color, 16)) >> 8,
                        b: 255 & parseInt(this.color, 16)
                    }
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "cmyk", {
                get: function() {
                    var t = this.rgb,
                        e = {},
                        n = t.r / 255,
                        r = t.g / 255,
                        i = t.b / 255;
                    return e.k = Math.min(1 - n, 1 - r, 1 - i), e.c = (1 - n - e.k) / (1 - e.k), e.m = (1 - r - e.k) / (1 - e.k), e.y = (1 - i - e.k) / (1 - e.k), e.c = Math.round(100 * e.c), e.m = Math.round(100 * e.m), e.y = Math.round(100 * e.y), e.k = Math.round(100 * e.k), e
                },
                enumerable: !1,
                configurable: !0
            }), t.prototype.toContext2d = function(t, e) {
                void 0 === e && (e = null), t.fillStyle = this.hex
            }, t.prototype.strokeToContext2d = function(t, e) {
                void 0 === e && (e = 0), t.lineWidth = e, t.strokeStyle = this.hex
            }, t.prototype.toSvg = function(t, e) {
                if ("style" !== t.tagName) {
                    var n = t.getAttribute("stroke"),
                        r = t.getAttribute("fill"),
                        i = "" != n && null != n,
                        o = "" != r && null != r;
                    i ? (t.setAttribute("stroke", this.hex), o && t.setAttribute("fill", "none")) : "none" !== r && t.setAttribute("fill", this.hex)
                }
            }, t.prototype.serialize = function() {
                return this.color
            }, t.serialize = function(t) {
                return null === t ? null : t.serialize()
            }, t.deserialize = function(e) {
                return null === e ? null : e.indexOf(",") > -1 ? u.deserialize(e) : e.indexOf(";") > -1 ? a.deserialize(e) : new t(e)
            }, t.prototype.clone = function() {
                return t.deserialize(this.serialize())
            }, t.equals = function(t, e) {
                return o.isEqual(t, e)
            }, t.prototype.update = function(t, e, n) {
                void 0 === n && (n = null)
            }, t
        }();
    e.Fill = s;
    var a = function(t) {
        function e(n, r) {
            void 0 === r && (r = null);
            var i = t.call(this, n) || this;
            return i.type = s.OVERRIDE_FILL, i.colors = o.times(e.EDITABLE_COMBINATIONS_COUNT, o.constant(r)), i
        }
        return r(e, t), e.prototype.serialize = function() {
            return this.colors.join(";")
        }, e.deserialize = function(t) {
            for (var n = new e("000000"), r = [], i = t.split(";"), o = 0, s = i; o < s.length; o++) {
                var a = s[o],
                    u = Number(a);
                "" == a ? r.push(null) : isNaN(u) ? r.push(a) : r.push(u)
            }
            return n.colors = r, n
        }, e.prototype.update = function(t, e, n) {
            void 0 === n && (n = null), this.colors[t] = e
        }, e.EDITABLE_COMBINATIONS_COUNT = 5, e
    }(s);
    e.OverrideFill = a;
    var u = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.colorsArray = null, e.type = s.MULTI_COLOR_FILL, e
        }
        return r(e, t), e.prototype.build = function(t, e) {
            void 0 === e && (e = null), this.colorsArray = {};
            var n;
            n = null !== e ? e.colors : Array(a.EDITABLE_COMBINATIONS_COUNT).fill(null);
            for (var r = 0, o = t; r < o.length; r++) {
                var s = o[r];
                this.colorsArray[s] = i(n)
            }
        }, e.prototype.serialize = function() {
            for (var t = [], e = 0, n = Object.keys(this.colorsArray); e < n.length; e++) {
                var r = n[e],
                    i = this.colorsArray[r];
                i.every(function(t) {
                    return null === t
                }) ? t.push(r) : t.push(r + ":" + i.join(","))
            }
            return t.join(";")
        }, e.deserialize = function(t) {
            var n = t.split(";"),
                r = n.map(function(t) {
                    return t.split(":")[0]
                }),
                i = new e("000000");
            i.build(r);
            for (var o = 0, s = n; o < s.length; o++) {
                var a = s[o],
                    u = a.split(":");
                if (1 !== u.length)
                    for (var l = u[1].split(","), c = 0; c < l.length; c++) {
                        var h = l[c];
                        if ("" != h) {
                            var f = h;
                            6 !== h.length && (f = Number(h)), i.update(c, f, u[0])
                        }
                    }
            }
            return i
        }, e.prototype.update = function(t, e, n) {
            void 0 === n && (n = null), this.colorsArray[n][t] = e
        }, e.prototype.getShapeFill = function(t, e) {
            if (-1 === e.index) return e.getFill(null);
            var n = this.colorsArray[t];
            if (void 0 === n) return e.getFill(null);
            var r = n[e.index];
            return null === r ? e.getFill(null) : new s("string" == typeof r ? r : e.colorRange.getColorByIndex(r))
        }, e.prototype.getColorsByCC = function(t) {
            for (var e = {}, n = 0, r = Object.keys(this.colorsArray); n < r.length; n++) {
                var i = r[n];
                e[i] = this.getShapeFill(i, t).hex
            }
            return e
        }, e
    }(s);
    e.MultiColorFill = u
}, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return c
    }), n.d(e, "a", function() {
        return h
    });
    var r = n(0),
        i = n(2),
        o = n(1),
        s = n(10),
        a = n(67),
        u = n(140),
        l = n(82),
        c = function(t) {
            function e(e) {
                var n = t.call(this, e) || this;
                return n.destination = e, n
            }
            return r.a(e, t), e
        }(o.a),
        h = function(t) {
            function e() {
                var e = t.call(this) || this;
                return e.observers = [], e.closed = !1, e.isStopped = !1, e.hasError = !1, e.thrownError = null, e
            }
            return r.a(e, t), e.prototype[l.a] = function() {
                return new c(this)
            }, e.prototype.lift = function(t) {
                var e = new f(this, this);
                return e.operator = t, e
            }, e.prototype.next = function(t) {
                if (this.closed) throw new a.a;
                if (!this.isStopped)
                    for (var e = this.observers, n = e.length, r = e.slice(), i = 0; i < n; i++) r[i].next(t)
            }, e.prototype.error = function(t) {
                if (this.closed) throw new a.a;
                this.hasError = !0, this.thrownError = t, this.isStopped = !0;
                for (var e = this.observers, n = e.length, r = e.slice(), i = 0; i < n; i++) r[i].error(t);
                this.observers.length = 0
            }, e.prototype.complete = function() {
                if (this.closed) throw new a.a;
                this.isStopped = !0;
                for (var t = this.observers, e = t.length, n = t.slice(), r = 0; r < e; r++) n[r].complete();
                this.observers.length = 0
            }, e.prototype.unsubscribe = function() {
                this.isStopped = !0, this.closed = !0, this.observers = null
            }, e.prototype._trySubscribe = function(e) {
                if (this.closed) throw new a.a;
                return t.prototype._trySubscribe.call(this, e)
            }, e.prototype._subscribe = function(t) {
                if (this.closed) throw new a.a;
                return this.hasError ? (t.error(this.thrownError), s.a.EMPTY) : this.isStopped ? (t.complete(), s.a.EMPTY) : (this.observers.push(t), new u.a(this, t))
            }, e.prototype.asObservable = function() {
                var t = new i.a;
                return t.source = this, t
            }, e.create = function(t, e) {
                return new f(t, e)
            }, e
        }(i.a),
        f = function(t) {
            function e(e, n) {
                var r = t.call(this) || this;
                return r.destination = e, r.source = n, r
            }
            return r.a(e, t), e.prototype.next = function(t) {
                var e = this.destination;
                e && e.next && e.next(t)
            }, e.prototype.error = function(t) {
                var e = this.destination;
                e && e.error && this.destination.error(t)
            }, e.prototype.complete = function() {
                var t = this.destination;
                t && t.complete && this.destination.complete()
            }, e.prototype._subscribe = function(t) {
                return this.source ? this.source.subscribe(t) : s.a.EMPTY
            }, e
        }(h)
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.Site = e.SiteId = void 0;
    var r = n(105),
        i = function() {
            function t() {}
            return Object.defineProperty(t, "Com", {
                get: function() {
                    return 1
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t, "Ru", {
                get: function() {
                    return 2
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t, "De", {
                get: function() {
                    return 3
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t, "Jp", {
                get: function() {
                    return 4
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t, "ComBr", {
                get: function() {
                    return 5
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t, "ComEs", {
                get: function() {
                    return 6
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t, "Tr", {
                get: function() {
                    return 7
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t, "ComMx", {
                get: function() {
                    return 8
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t, "CoUk", {
                get: function() {
                    return 9
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t, "Cn", {
                get: function() {
                    return 10
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t, "ComUa", {
                get: function() {
                    return 11
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t, "ComFr", {
                get: function() {
                    return 12
                },
                enumerable: !1,
                configurable: !0
            }), t
        }();
    e.SiteId = i;
    var o = function() {
        function t() {}
        return Object.defineProperty(t, "SIGN_UP_URL", {
            get: function() {
                return t.MAIN_URL + "/v3/signup/"
            },
            enumerable: !1,
            configurable: !0
        }), Object.defineProperty(t, "SIGN_IN_URL", {
            get: function() {
                return t.MAIN_URL + "/v3/signin/"
            },
            enumerable: !1,
            configurable: !0
        }), Object.defineProperty(t, "STATIC_ROOT_URL", {
            get: function() {
                return r.AngularInit.isNgWidget ? t.WIDGET_STATIC_ROOT_URL : "https://devlogaster.com" === t.MAIN_URL ? t.MAIN_URL : (null === t.extStaticUrls && "function" == typeof getExternalStaticUrls && (t.extStaticUrls = getExternalStaticUrls()), t.extStaticUrls && t.extStaticUrls.length > 0 ? t.extStaticUrls[Math.round(Math.random() * (t.extStaticUrls.length - 1))] : "")
            },
            enumerable: !1,
            configurable: !0
        }), Object.defineProperty(t, "WIDGET_STATIC_ROOT_URL", {
            get: function() {
                return "" == t.MAIN_URL ? "https://www.logaster.com" : t.MAIN_URL
            },
            enumerable: !1,
            configurable: !0
        }), Object.defineProperty(t, "ACCOUNT_SOURCE_URL", {
            get: function() {
                return t.MAIN_URL + "/v3/fe/get-brand/"
            },
            enumerable: !1,
            configurable: !0
        }), Object.defineProperty(t, "BC_SOURCE_URL", {
            get: function() {
                return t.MAIN_URL + "/v3/fe/get-bc/"
            },
            enumerable: !1,
            configurable: !0
        }), Object.defineProperty(t, "BRANDS_URL", {
            get: function() {
                return t.MAIN_URL + "/v3/fe/brands/"
            },
            enumerable: !1,
            configurable: !0
        }), Object.defineProperty(t, "UPDATE_BRAND_URL", {
            get: function() {
                return t.MAIN_URL + "/v3/js/brand/"
            },
            enumerable: !1,
            configurable: !0
        }), Object.defineProperty(t, "UPDATE_STATUS_URL", {
            get: function() {
                return t.MAIN_URL + "/v3/js/logo/"
            },
            enumerable: !1,
            configurable: !0
        }), Object.defineProperty(t, "CLONE_BRAND_URL", {
            get: function() {
                return t.MAIN_URL + "/v3/fe/clone-brand/"
            },
            enumerable: !1,
            configurable: !0
        }), Object.defineProperty(t, "DELETE_BRAND_URL", {
            get: function() {
                return t.MAIN_URL + "/v3/fe/delete-brand/"
            },
            enumerable: !1,
            configurable: !0
        }), t.INIT_DATA_URL = function() {
            return t.MAIN_URL + "/v3/fe/start-app/"
        }, t.HASH_URL = function() {
            return t.MAIN_URL + "/v3/fe/get-hash/"
        }, t.getShowcaseImageUrl = function(e, n) {
            var r = e;
            if (n < 1) {
                var i = e.split("."),
                    o = ("0" + String(Math.round(100 * n))).slice(-2);
                r = i[0] + "_" + o + "." + i[1]
            }
            return t.STATIC_ROOT_URL + "/v3/showcase-image" + r
        }, t.SITE_ID = i.Com, t.MAIN_URL = "", t.extStaticUrls = null, t
    }();
    e.Site = o
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.Rectangle = void 0;
    var r = n(25),
        i = function() {
            function t(t, e, n, r) {
                void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === n && (n = 0), void 0 === r && (r = 0), this.x = t, this.y = e, this.width = n, this.height = r
            }
            return Object.defineProperty(t.prototype, "left", {
                get: function() {
                    return this.x
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "top", {
                get: function() {
                    return this.y
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "right", {
                get: function() {
                    return this.x + this.width
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "bottom", {
                get: function() {
                    return this.y + this.height
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "topLeft", {
                get: function() {
                    return new r.Point(this.x, this.y)
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "bottomRight", {
                get: function() {
                    return new r.Point(this.right, this.bottom)
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "size", {
                get: function() {
                    return new r.Point(this.width, this.height)
                },
                enumerable: !1,
                configurable: !0
            }), t.prototype.intersects = function(t) {
                return !(t.left > this.right || t.right < this.left || t.top > this.bottom || t.bottom < this.top)
            }, t.prototype.clone = function() {
                return new t(this.x, this.y, this.width, this.height)
            }, t.prototype.serialize = function() {
                return this.x + " " + this.y + " " + this.width + " " + this.height
            }, t.prototype.serializeBounds = function() {
                return this.x + ";" + this.y + ";" + this.width + ";" + this.height
            }, t.deserialize = function(e) {
                var n = e.split(" ");
                return new t(parseFloat(n[0]), parseFloat(n[1]), parseFloat(n[2]), parseFloat(n[3]))
            }, t.prototype.equals = function(t) {
                return null !== t && (this.x === t.x && this.y === t.y && this.width === t.width && this.height === t.height)
            }, t
        }();
    e.Rectangle = i
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return r
    });
    var r = function() {
        return Array.isArray || function(t) {
            return t && "number" == typeof t.length
        }
    }()
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return o
    });
    var r = n(44),
        i = n(45),
        o = new i.a(r.a)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return function(n) {
            if ("function" != typeof t) throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");
            return n.lift(new s(t, e))
        }
    }
    e.a = r;
    var i = n(0),
        o = n(1),
        s = function() {
            function t(t, e) {
                this.project = t, this.thisArg = e
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new a(t, this.project, this.thisArg))
            }, t
        }(),
        a = function(t) {
            function e(e, n, r) {
                var i = t.call(this, e) || this;
                return i.project = n, i.count = 0, i.thisArg = r || i, i
            }
            return i.a(e, t), e.prototype._next = function(t) {
                var e;
                try {
                    e = this.project.call(this.thisArg, t, this.count++)
                } catch (t) {
                    return void this.destination.error(t)
                }
                this.destination.next(e)
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return "[object Array]" === I.call(t)
    }

    function i(t) {
        return void 0 === t
    }

    function o(t) {
        return null !== t && !i(t) && null !== t.constructor && !i(t.constructor) && "function" == typeof t.constructor.isBuffer && t.constructor.isBuffer(t)
    }

    function s(t) {
        return "[object ArrayBuffer]" === I.call(t)
    }

    function a(t) {
        return "undefined" != typeof FormData && t instanceof FormData
    }

    function u(t) {
        return "undefined" != typeof ArrayBuffer && ArrayBuffer.isView ? ArrayBuffer.isView(t) : t && t.buffer && t.buffer instanceof ArrayBuffer
    }

    function l(t) {
        return "string" == typeof t
    }

    function c(t) {
        return "number" == typeof t
    }

    function h(t) {
        return null !== t && "object" == typeof t
    }

    function f(t) {
        return "[object Date]" === I.call(t)
    }

    function p(t) {
        return "[object File]" === I.call(t)
    }

    function d(t) {
        return "[object Blob]" === I.call(t)
    }

    function g(t) {
        return "[object Function]" === I.call(t)
    }

    function m(t) {
        return h(t) && g(t.pipe)
    }

    function v(t) {
        return "undefined" != typeof URLSearchParams && t instanceof URLSearchParams
    }

    function b(t) {
        return t.replace(/^\s*/, "").replace(/\s*$/, "")
    }

    function y() {
        return ("undefined" == typeof navigator || "ReactNative" !== navigator.product && "NativeScript" !== navigator.product && "NS" !== navigator.product) && ("undefined" != typeof window && "undefined" != typeof document)
    }

    function _(t, e) {
        if (null !== t && void 0 !== t)
            if ("object" != typeof t && (t = [t]), r(t))
                for (var n = 0, i = t.length; n < i; n++) e.call(null, t[n], n, t);
            else
                for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && e.call(null, t[o], o, t)
    }

    function w() {
        function t(t, n) {
            "object" == typeof e[n] && "object" == typeof t ? e[n] = w(e[n], t) : e[n] = t
        }
        for (var e = {}, n = 0, r = arguments.length; n < r; n++) _(arguments[n], t);
        return e
    }

    function x() {
        function t(t, n) {
            "object" == typeof e[n] && "object" == typeof t ? e[n] = x(e[n], t) : e[n] = "object" == typeof t ? x({}, t) : t
        }
        for (var e = {}, n = 0, r = arguments.length; n < r; n++) _(arguments[n], t);
        return e
    }

    function T(t, e, n) {
        return _(e, function(e, r) {
            t[r] = n && "function" == typeof e ? C(e, n) : e
        }), t
    }
    var C = n(156),
        I = Object.prototype.toString;
    t.exports = {
        isArray: r,
        isArrayBuffer: s,
        isBuffer: o,
        isFormData: a,
        isArrayBufferView: u,
        isString: l,
        isNumber: c,
        isObject: h,
        isUndefined: i,
        isDate: f,
        isFile: p,
        isBlob: d,
        isFunction: g,
        isStream: m,
        isURLSearchParams: v,
        isStandardBrowserEnv: y,
        forEach: _,
        merge: w,
        deepMerge: x,
        extend: T,
        trim: b
    }
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.LogoItem = void 0;
    var r = n(11),
        i = n(109),
        o = function() {
            function t() {
                this._source = null, this.id = null, this._bounds = null, this._maths = null, this.type = null, this.group = null, this.fill = null, this.editable = !1, this.stroke = 0, this._uid = ++t._uid
            }
            return Object.defineProperty(t, "UNKNOWN", {
                get: function() {
                    return 0
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t, "SVG_ICON", {
                get: function() {
                    return 1
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t, "TEXT_ICON", {
                get: function() {
                    return 2
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t, "BASE_TEXT", {
                get: function() {
                    return 3
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t, "RICH_TEXT", {
                get: function() {
                    return 4
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t, "LINE", {
                get: function() {
                    return 5
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t, "RECT", {
                get: function() {
                    return 6
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t, "LOGO_NAME", {
                get: function() {
                    return 7
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t, "TAGLINE", {
                get: function() {
                    return 8
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t, "MONOGRAM", {
                get: function() {
                    return 9
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t, "CUSTOM_TEXT", {
                get: function() {
                    return 10
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t, "SLOGANBOX", {
                get: function() {
                    return 11
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t, "ELLIPSE", {
                get: function() {
                    return 12
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "blendManager", {
                get: function() {
                    return t.blendManager
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "bounds", {
                get: function() {
                    return this._bounds
                },
                set: function(t) {
                    t != this._bounds && (this._bounds = t)
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "maths", {
                get: function() {
                    return this._maths
                },
                set: function(t) {
                    this._maths = t
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "uid", {
                get: function() {
                    return this._uid
                },
                set: function(t) {
                    this._uid = t
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "isText", {
                get: function() {
                    return !1
                },
                enumerable: !1,
                configurable: !0
            }), t.prototype.serialize = function() {
                var t = {
                    id: this.id,
                    type: this.type,
                    group: this.group,
                    fill: r.Fill.serialize(this.fill),
                    maths: this.maths.serialize(),
                    blendMode: this.blendMode
                };
                return JSON.stringify(t)
            }, t.deserialize = function(t) {
                return null
            }, t.prototype.clone = function() {
                return null
            }, t.prototype.hasChanges = function() {
                return null === this.id || null === this._source || this.id !== this._source.id || this.type !== this._source.type || this.group !== this._source.group || !this.maths.equals(this._source.maths) || !r.Fill.equals(this.fill, this._source.fill) || !this.bounds.equals(this._source.bounds) || this.blendMode !== this._source.blendMode
            }, t.prototype.debug = function() {
                return "Group: " + this.group + "\nMaths: " + this.maths.serialize() + "\nBlend mode: " + this.blendMode
            }, t.prototype.equals = function(t, e) {
                if (void 0 === e && (e = !1), null == t) return !1;
                var n = this.id === t.id && this.type === t.type && this.blendMode === t.blendMode && r.Fill.equals(this.fill, t.fill);
                return e && (n = n && this._maths.equals(t._maths)), n
            }, t._uid = 0, t.blendManager = new i.BlendManager, t
        }();
    e.LogoItem = o
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.Maths = void 0;
    var r = n(7),
        i = function() {
            function t() {
                this.matrix = new r.Matrix
            }
            return t.prototype.serialize = function() {
                return this.matrix.serialize()
            }, t.deserialize = function(e) {
                var n = new t;
                return n.matrix = r.Matrix.deserialize(e), n
            }, t.prototype.clone = function() {
                var e = new t;
                return e.matrix = this.matrix.clone(), e
            }, t.prototype.equals = function(t) {
                return this.matrix.equals(t.matrix)
            }, t
        }();
    e.Maths = i
}, function(t, e, n) {
    "use strict";
    (function(t) {
        Object.defineProperty(e, "__esModule", {
            value: !0
        }), e.BPItem = void 0;
        var r = n(7),
            i = function() {
                function e() {
                    this.imageUrl = null, this._uid = ++e._uid
                }
                return Object.defineProperty(e, "LOGO", {
                    get: function() {
                        return 1
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e, "SVG", {
                    get: function() {
                        return 2
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e, "TEXT", {
                    get: function() {
                        return 3
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e, "Image", {
                    get: function() {
                        return 4
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e, "CUSTOM_SVG", {
                    get: function() {
                        return 5
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "bounds", {
                    get: function() {
                        return this._bounds
                    },
                    set: function(t) {
                        t != this._bounds && (this._bounds = t)
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "maths", {
                    get: function() {
                        return this._maths
                    },
                    set: function(t) {
                        this._maths = t
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "content", {
                    get: function() {
                        return this._content
                    },
                    set: function(t) {
                        this._content = t
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "uid", {
                    get: function() {
                        return this._uid
                    },
                    set: function(t) {
                        this._uid = t
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.deserialize = function(t) {
                    return null
                }, e.prototype.serialize = function(t) {
                    return void 0 === t && (t = !1), {
                        type: this.type,
                        maths: this.maths.serialize(),
                        content: this.content,
                        fill: this.fill.serialize(),
                        group: this.group,
                        target: this.target
                    }
                }, e.prototype.clone = function() {
                    return null
                }, e.prototype.loadDynamic = function(e, n) {
                    return void 0 === e && (e = null), void 0 === n && (n = 1), t.resolve()
                }, e.prototype.getInitialSizeMatrix = function(t) {
                    var e = new r.Matrix,
                        n = t.width / this.bounds.width,
                        i = n;
                    return i * this.bounds.height > t.height && (i = t.height / this.bounds.height, n = i), e.scale(n, i), e
                }, e._uid = 0, e
            }();
        e.BPItem = i
    }).call(e, n(6))
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && "function" == typeof t.schedule
    }
    e.a = r
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return e ? Object(s.a)(t, e) : t instanceof i.a ? t : new i.a(Object(o.a)(t))
    }
    e.a = r;
    var i = n(2),
        o = n(84),
        s = n(133)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t ? i(t) : s
    }

    function i(t) {
        return new o.a(function(e) {
            return t.schedule(function() {
                return e.complete()
            })
        })
    }
    n.d(e, "a", function() {
        return s
    }), e.b = r;
    var o = n(2),
        s = new o.a(function(t) {
            return t.complete()
        })
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.Point = void 0;
    var r = function() {
        function t(t, e) {
            void 0 === t && (t = 0), void 0 === e && (e = 0), this.x = t, this.y = e
        }
        return Object.defineProperty(t.prototype, "left", {
            get: function() {
                return this.x
            },
            enumerable: !1,
            configurable: !0
        }), Object.defineProperty(t.prototype, "top", {
            get: function() {
                return this.y
            },
            enumerable: !1,
            configurable: !0
        }), t.prototype.equals = function(t) {
            return this.x === t.x && this.y === t.y
        }, t.geometricMean = function(t) {
            return Math.sqrt(t.x * t.x + t.y * t.y)
        }, t.distanceBetweenPoint = function(t, e) {
            var n = t.x - e.x,
                r = t.y - e.y;
            return Math.sqrt(n * n + r * r)
        }, t.prototype.round = function() {
            this.x = parseFloat(this.x.toFixed(2)), this.y = parseFloat(this.y.toFixed(2))
        }, t.prototype.clone = function() {
            return new t(this.x, this.y)
        }, t
    }();
    e.Point = r
}, function(t, e, n) {
    "use strict";
    (function(t) {
        Object.defineProperty(e, "__esModule", {
            value: !0
        }), e.Font = void 0;
        var r = n(28),
            i = n(76),
            o = n(8),
            s = n(13),
            a = n(155),
            u = n(27),
            l = function() {
                function e(t) {
                    this.id = null, this.fontFamily = null, this.xHeight = null, this.capHeight = null, this.em = null, this.scripts = null, this.png = null, this.kerningPairs = null, this.glyphWidthData = null, this.id = t.id, this.fontFamily = t.fontName, this.xHeight = t.xHeight, this.capHeight = t.capHeight, this.em = t.em, this.scripts = t.scripts, this.png = t.png
                }
                return Object.defineProperty(e, "SERVICE_URL", {
                    get: function() {
                        return s.Site.MAIN_URL + "/v3/fe/fonts/"
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e, "TTF_URL", {
                    get: function() {
                        return s.Site.STATIC_ROOT_URL + "/static/v3/fonts/"
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.xHeightPx = function(t) {
                    return void 0 === t && (t = o.Logo.LOGO_TEXT_SIZE), this.fUnitsToPx(this.xHeight, t)
                }, e.prototype.capHeightPx = function(t) {
                    return void 0 === t && (t = o.Logo.LOGO_TEXT_SIZE), this.fUnitsToPx(this.capHeight, t)
                }, e.prototype.kerning = function(t, e) {
                    var n = t.charCodeAt(0) + ";" + e.charCodeAt(0),
                        r = 0;
                    return this.kerningPairs.hasOwnProperty(n) && (r = this.kerningPairs[n]), r
                }, e.prototype.getTextWidth = function(t, e) {
                    var n = u.Context2DManager.forTemp();
                    n.save(), n.font = e;
                    var r = n.measureText(t);
                    return n.restore(), r.width
                }, e.prototype.glyphWidth = function(t) {
                    var e = this.glyphWidthData[t.charCodeAt(0)];
                    if (void 0 === e) {
                        e = this.getTextWidth(t, "24px courier-new") * this.em / 24, this.glyphWidthData[t.charCodeAt(0)] = e
                    }
                    return e
                }, e.prototype.fUnitsToPx = function(t, e) {
                    void 0 === e && (e = o.Logo.LOGO_TEXT_SIZE);
                    var n = e * t / this.em;
                    return parseFloat(n.toFixed(2))
                }, e.init = function(t) {
                    void 0 === t && (t = void 0), e.fonts = [], e.usedFontsIds = [];
                    for (var n = t || getFonts(), r = 0, i = n; r < i.length; r++) {
                        var o = i[r],
                            s = new e(o);
                        e.fonts.push(s), e.nameFontsMap[s.fontFamily] = s, e.idFontsMap[s.id] = s
                    }
                    null == e.helperContainer && (e.helperContainer = document.createElement("div"), e.helperContainer.setAttribute("class", "canvas-hidden"), document.body.appendChild(e.helperContainer))
                }, e.fromName = function(t) {
                    var n = e.nameFontsMap[t];
                    return void 0 === n ? null : n
                }, e.fromId = function(t) {
                    var n = e.idFontsMap[t];
                    return void 0 === n ? null : n
                }, e.fromIds = function(t) {
                    for (var n = [], r = 0, i = t; r < i.length; r++) {
                        var o = i[r],
                            s = e.fromId(o);
                        null !== s && n.push(s)
                    }
                    return n
                }, e.match = function(t, n) {
                    for (var r = !1, o = "", s = 0, a = n.texts; s < a.length; s++) {
                        o += a[s]
                    }
                    for (var u = 0, l = n.abbrs; u < l.length; u++) {
                        o += l[u]
                    }
                    for (var c = i.LanguageScript.determineScripts(o), h = 0, f = t; h < f.length; h++) {
                        var p = f[h],
                            d = e.fromName(p.fontFamily);
                        if (!(r = i.LanguageScript.doesHaveScripts(d.scripts, c))) return !1
                    }
                    return r
                }, e.isLoaded = function(t) {
                    return 0 === r.difference(t, e.usedFontsIds).length
                }, e.load = function(n) {
                    var i = r.uniq(r.difference(n, e.usedFontsIds));
                    if (i = i.filter(function(t) {
                            return !isNaN(t)
                        }), 0 === i.length) return new t(function(t) {
                        t()
                    });
                    var o = function(t, n) {
                            var r = document.createDocumentFragment();
                            t.forEach(function(t) {
                                var e = document.createElement("span");
                                e.setAttribute("style", "font-family: '" + t.fontFamily + "'"), r.appendChild(e), n.forEach(function(e) {
                                    e.id === t.id && (t.kerningPairs = e.k, t.glyphWidthData = e.w)
                                })
                            }), e.helperContainer.appendChild(r)
                        },
                        s = function(n) {
                            var r = [],
                                i = [];
                            return n.forEach(function(t) {
                                i.push(a.AxiosRequest.ajax({
                                    type: "GET",
                                    cache: !0,
                                    crossDomain: !0,
                                    url: "" + e.TTF_URL + t.id + "/" + t.id + ".html",
                                    dataType: "html"
                                }).then(function(t) {
                                    r.push(t)
                                }))
                            }), t.all(i).then(function() {
                                return document.head.insertAdjacentHTML("beforeend", r.join("")), new t(function(t, e) {
                                    setTimeout(t, 300)
                                })
                            })
                        };
                    return a.AxiosRequest.ajax({
                        type: "GET",
                        cache: !0,
                        url: e.SERVICE_URL,
                        dataType: "json",
                        data: {
                            fi: i.join(",")
                        }
                    }).then(function(t) {
                        var n = t.map(function(t) {
                                return Number(t.id)
                            }),
                            r = e.fromIds(n);
                        return e.usedFontsIds = e.usedFontsIds.concat(n), o(r, t), s(t)
                    })
                }, e.prototype.equals = function(t) {
                    return null !== t && this.id === t.id
                }, e.fonts = null, e.nameFontsMap = new Map, e.idFontsMap = new Map, e.usedFontsIds = null, e.helperContainer = null, e.parser = new DOMParser, e
            }();
        e.Font = l
    }).call(e, n(6))
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.Context2DManager = void 0;
    var r = n(7),
        i = function() {
            function t() {
                this.canvases = new Map, this.contexts2d = new Map
            }
            return t.getInstance = function() {
                return null === t.instance && (t.instance = new t), t.instance
            }, t.prototype.getCanvas = function(t) {
                if (void 0 === this.canvases[t]) {
                    var e = document.createElement("canvas");
                    e.width = 1920, e.height = 1080, this.canvases[t] = e
                }
                return this.canvases[t]
            }, t.prototype.getContext = function(t, e, n) {
                if (void 0 === e && (e = 0), void 0 === n && (n = 0), void 0 === this.contexts2d[t]) {
                    var i = this.getCanvas(t);
                    this.contexts2d[t] = i.getContext("2d")
                }
                var o = this.contexts2d[t];
                return r.Matrix.resetContext2d(o), e > 0 && n > 0 && (o.canvas.width = e, o.canvas.height = n), o.clearRect(0, 0, o.canvas.width, o.canvas.height), o
            }, t.clearContext2d = function(t) {
                t.clearRect(0, 0, t.canvas.width, t.canvas.height)
            }, t.forTextCalculation = function(e, n) {
                return void 0 === e && (e = 0), void 0 === n && (n = 0), t.getInstance().getContext("textcalculation", e, n)
            }, t.forTemp = function(e, n) {
                return void 0 === e && (e = 0), void 0 === n && (n = 0), t.getInstance().getContext("temp", e, n)
            }, t.forLogo = function(e, n) {
                return void 0 === e && (e = 0), void 0 === n && (n = 0), t.getInstance().getContext("logo", e, n)
            }, t.forLogoItem = function(e, n) {
                return void 0 === e && (e = 0), void 0 === n && (n = 0), t.getInstance().getContext("logoitem", e, n)
            }, t.forBrandProduct = function(e, n) {
                return void 0 === e && (e = 0), void 0 === n && (n = 0), t.getInstance().getContext("brandproduct", e, n)
            }, t.forBrandProductItem = function(e, n) {
                return void 0 === e && (e = 0), void 0 === n && (n = 0), t.getInstance().getContext("brandproductitem", e, n)
            }, t.instance = null, t
        }();
    e.Context2DManager = i
}, function(t, e, n) {
    var r, i;
    (function() {
        function n(t) {
            function e(e, n, r, i, o, s) {
                for (; o >= 0 && o < s; o += t) {
                    var a = i ? i[o] : o;
                    r = n(r, e[a], a, e)
                }
                return r
            }
            return function(n, r, i, o) {
                r = T(r, o, 4);
                var s = !M(n) && x.keys(n),
                    a = (s || n).length,
                    u = t > 0 ? 0 : a - 1;
                return arguments.length < 3 && (i = n[s ? s[u] : u], u += t), e(n, r, i, s, u, a)
            }
        }

        function o(t) {
            return function(e, n, r) {
                n = C(n, r);
                for (var i = P(e), o = t > 0 ? 0 : i - 1; o >= 0 && o < i; o += t)
                    if (n(e[o], o, e)) return o;
                return -1
            }
        }

        function s(t, e, n) {
            return function(r, i, o) {
                var s = 0,
                    a = P(r);
                if ("number" == typeof o) t > 0 ? s = o >= 0 ? o : Math.max(o + a, s) : a = o >= 0 ? Math.min(o + 1, a) : o + a + 1;
                else if (n && o && a) return o = n(r, i), r[o] === i ? o : -1;
                if (i !== i) return o = e(d.call(r, s, a), x.isNaN), o >= 0 ? o + s : -1;
                for (o = t > 0 ? s : a - 1; o >= 0 && o < a; o += t)
                    if (r[o] === i) return o;
                return -1
            }
        }

        function a(t, e) {
            var n = N.length,
                r = t.constructor,
                i = x.isFunction(r) && r.prototype || h,
                o = "constructor";
            for (x.has(t, o) && !x.contains(e, o) && e.push(o); n--;)(o = N[n]) in t && t[o] !== i[o] && !x.contains(e, o) && e.push(o)
        }
        var u = this,
            l = u._,
            c = Array.prototype,
            h = Object.prototype,
            f = Function.prototype,
            p = c.push,
            d = c.slice,
            g = h.toString,
            m = h.hasOwnProperty,
            v = Array.isArray,
            b = Object.keys,
            y = f.bind,
            _ = Object.create,
            w = function() {},
            x = function(t) {
                return t instanceof x ? t : this instanceof x ? void(this._wrapped = t) : new x(t)
            };
        void 0 !== t && t.exports && (e = t.exports = x), e._ = x, x.VERSION = "1.8.3";
        var T = function(t, e, n) {
                if (void 0 === e) return t;
                switch (null == n ? 3 : n) {
                    case 1:
                        return function(n) {
                            return t.call(e, n)
                        };
                    case 2:
                        return function(n, r) {
                            return t.call(e, n, r)
                        };
                    case 3:
                        return function(n, r, i) {
                            return t.call(e, n, r, i)
                        };
                    case 4:
                        return function(n, r, i, o) {
                            return t.call(e, n, r, i, o)
                        }
                }
                return function() {
                    return t.apply(e, arguments)
                }
            },
            C = function(t, e, n) {
                return null == t ? x.identity : x.isFunction(t) ? T(t, e, n) : x.isObject(t) ? x.matcher(t) : x.property(t)
            };
        x.iteratee = function(t, e) {
            return C(t, e, 1 / 0)
        };
        var I = function(t, e) {
                return function(n) {
                    var r = arguments.length;
                    if (r < 2 || null == n) return n;
                    for (var i = 1; i < r; i++)
                        for (var o = arguments[i], s = t(o), a = s.length, u = 0; u < a; u++) {
                            var l = s[u];
                            e && void 0 !== n[l] || (n[l] = o[l])
                        }
                    return n
                }
            },
            S = function(t) {
                if (!x.isObject(t)) return {};
                if (_) return _(t);
                w.prototype = t;
                var e = new w;
                return w.prototype = null, e
            },
            O = function(t) {
                return function(e) {
                    return null == e ? void 0 : e[t]
                }
            },
            E = Math.pow(2, 53) - 1,
            P = O("length"),
            M = function(t) {
                var e = P(t);
                return "number" == typeof e && e >= 0 && e <= E
            };
        x.each = x.forEach = function(t, e, n) {
            e = T(e, n);
            var r, i;
            if (M(t))
                for (r = 0, i = t.length; r < i; r++) e(t[r], r, t);
            else {
                var o = x.keys(t);
                for (r = 0, i = o.length; r < i; r++) e(t[o[r]], o[r], t)
            }
            return t
        }, x.map = x.collect = function(t, e, n) {
            e = C(e, n);
            for (var r = !M(t) && x.keys(t), i = (r || t).length, o = Array(i), s = 0; s < i; s++) {
                var a = r ? r[s] : s;
                o[s] = e(t[a], a, t)
            }
            return o
        }, x.reduce = x.foldl = x.inject = n(1), x.reduceRight = x.foldr = n(-1), x.find = x.detect = function(t, e, n) {
            var r;
            if (void 0 !== (r = M(t) ? x.findIndex(t, e, n) : x.findKey(t, e, n)) && -1 !== r) return t[r]
        }, x.filter = x.select = function(t, e, n) {
            var r = [];
            return e = C(e, n), x.each(t, function(t, n, i) {
                e(t, n, i) && r.push(t)
            }), r
        }, x.reject = function(t, e, n) {
            return x.filter(t, x.negate(C(e)), n)
        }, x.every = x.all = function(t, e, n) {
            e = C(e, n);
            for (var r = !M(t) && x.keys(t), i = (r || t).length, o = 0; o < i; o++) {
                var s = r ? r[o] : o;
                if (!e(t[s], s, t)) return !1
            }
            return !0
        }, x.some = x.any = function(t, e, n) {
            e = C(e, n);
            for (var r = !M(t) && x.keys(t), i = (r || t).length, o = 0; o < i; o++) {
                var s = r ? r[o] : o;
                if (e(t[s], s, t)) return !0
            }
            return !1
        }, x.contains = x.includes = x.include = function(t, e, n, r) {
            return M(t) || (t = x.values(t)), ("number" != typeof n || r) && (n = 0), x.indexOf(t, e, n) >= 0
        }, x.invoke = function(t, e) {
            var n = d.call(arguments, 2),
                r = x.isFunction(e);
            return x.map(t, function(t) {
                var i = r ? e : t[e];
                return null == i ? i : i.apply(t, n)
            })
        }, x.pluck = function(t, e) {
            return x.map(t, x.property(e))
        }, x.where = function(t, e) {
            return x.filter(t, x.matcher(e))
        }, x.findWhere = function(t, e) {
            return x.find(t, x.matcher(e))
        }, x.max = function(t, e, n) {
            var r, i, o = -1 / 0,
                s = -1 / 0;
            if (null == e && null != t) {
                t = M(t) ? t : x.values(t);
                for (var a = 0, u = t.length; a < u; a++)(r = t[a]) > o && (o = r)
            } else e = C(e, n), x.each(t, function(t, n, r) {
                ((i = e(t, n, r)) > s || i === -1 / 0 && o === -1 / 0) && (o = t, s = i)
            });
            return o
        }, x.min = function(t, e, n) {
            var r, i, o = 1 / 0,
                s = 1 / 0;
            if (null == e && null != t) {
                t = M(t) ? t : x.values(t);
                for (var a = 0, u = t.length; a < u; a++)(r = t[a]) < o && (o = r)
            } else e = C(e, n), x.each(t, function(t, n, r) {
                ((i = e(t, n, r)) < s || i === 1 / 0 && o === 1 / 0) && (o = t, s = i)
            });
            return o
        }, x.shuffle = function(t) {
            for (var e, n = M(t) ? t : x.values(t), r = n.length, i = Array(r), o = 0; o < r; o++) e = x.random(0, o), e !== o && (i[o] = i[e]), i[e] = n[o];
            return i
        }, x.sample = function(t, e, n) {
            return null == e || n ? (M(t) || (t = x.values(t)), t[x.random(t.length - 1)]) : x.shuffle(t).slice(0, Math.max(0, e))
        }, x.sortBy = function(t, e, n) {
            return e = C(e, n), x.pluck(x.map(t, function(t, n, r) {
                return {
                    value: t,
                    index: n,
                    criteria: e(t, n, r)
                }
            }).sort(function(t, e) {
                var n = t.criteria,
                    r = e.criteria;
                if (n !== r) {
                    if (n > r || void 0 === n) return 1;
                    if (n < r || void 0 === r) return -1
                }
                return t.index - e.index
            }), "value")
        };
        var k = function(t) {
            return function(e, n, r) {
                var i = {};
                return n = C(n, r), x.each(e, function(r, o) {
                    var s = n(r, o, e);
                    t(i, r, s)
                }), i
            }
        };
        x.groupBy = k(function(t, e, n) {
            x.has(t, n) ? t[n].push(e) : t[n] = [e]
        }), x.indexBy = k(function(t, e, n) {
            t[n] = e
        }), x.countBy = k(function(t, e, n) {
            x.has(t, n) ? t[n]++ : t[n] = 1
        }), x.toArray = function(t) {
            return t ? x.isArray(t) ? d.call(t) : M(t) ? x.map(t, x.identity) : x.values(t) : []
        }, x.size = function(t) {
            return null == t ? 0 : M(t) ? t.length : x.keys(t).length
        }, x.partition = function(t, e, n) {
            e = C(e, n);
            var r = [],
                i = [];
            return x.each(t, function(t, n, o) {
                (e(t, n, o) ? r : i).push(t)
            }), [r, i]
        }, x.first = x.head = x.take = function(t, e, n) {
            if (null != t) return null == e || n ? t[0] : x.initial(t, t.length - e)
        }, x.initial = function(t, e, n) {
            return d.call(t, 0, Math.max(0, t.length - (null == e || n ? 1 : e)))
        }, x.last = function(t, e, n) {
            if (null != t) return null == e || n ? t[t.length - 1] : x.rest(t, Math.max(0, t.length - e))
        }, x.rest = x.tail = x.drop = function(t, e, n) {
            return d.call(t, null == e || n ? 1 : e)
        }, x.compact = function(t) {
            return x.filter(t, x.identity)
        };
        var L = function(t, e, n, r) {
            for (var i = [], o = 0, s = r || 0, a = P(t); s < a; s++) {
                var u = t[s];
                if (M(u) && (x.isArray(u) || x.isArguments(u))) {
                    e || (u = L(u, e, n));
                    var l = 0,
                        c = u.length;
                    for (i.length += c; l < c;) i[o++] = u[l++]
                } else n || (i[o++] = u)
            }
            return i
        };
        x.flatten = function(t, e) {
            return L(t, e, !1)
        }, x.without = function(t) {
            return x.difference(t, d.call(arguments, 1))
        }, x.uniq = x.unique = function(t, e, n, r) {
            x.isBoolean(e) || (r = n, n = e, e = !1), null != n && (n = C(n, r));
            for (var i = [], o = [], s = 0, a = P(t); s < a; s++) {
                var u = t[s],
                    l = n ? n(u, s, t) : u;
                e ? (s && o === l || i.push(u), o = l) : n ? x.contains(o, l) || (o.push(l), i.push(u)) : x.contains(i, u) || i.push(u)
            }
            return i
        }, x.union = function() {
            return x.uniq(L(arguments, !0, !0))
        }, x.intersection = function(t) {
            for (var e = [], n = arguments.length, r = 0, i = P(t); r < i; r++) {
                var o = t[r];
                if (!x.contains(e, o)) {
                    for (var s = 1; s < n && x.contains(arguments[s], o); s++);
                    s === n && e.push(o)
                }
            }
            return e
        }, x.difference = function(t) {
            var e = L(arguments, !0, !0, 1);
            return x.filter(t, function(t) {
                return !x.contains(e, t)
            })
        }, x.zip = function() {
            return x.unzip(arguments)
        }, x.unzip = function(t) {
            for (var e = t && x.max(t, P).length || 0, n = Array(e), r = 0; r < e; r++) n[r] = x.pluck(t, r);
            return n
        }, x.object = function(t, e) {
            for (var n = {}, r = 0, i = P(t); r < i; r++) e ? n[t[r]] = e[r] : n[t[r][0]] = t[r][1];
            return n
        }, x.findIndex = o(1), x.findLastIndex = o(-1), x.sortedIndex = function(t, e, n, r) {
            n = C(n, r, 1);
            for (var i = n(e), o = 0, s = P(t); o < s;) {
                var a = Math.floor((o + s) / 2);
                n(t[a]) < i ? o = a + 1 : s = a
            }
            return o
        }, x.indexOf = s(1, x.findIndex, x.sortedIndex), x.lastIndexOf = s(-1, x.findLastIndex), x.range = function(t, e, n) {
            null == e && (e = t || 0, t = 0), n = n || 1;
            for (var r = Math.max(Math.ceil((e - t) / n), 0), i = Array(r), o = 0; o < r; o++, t += n) i[o] = t;
            return i
        };
        var A = function(t, e, n, r, i) {
            if (!(r instanceof e)) return t.apply(n, i);
            var o = S(t.prototype),
                s = t.apply(o, i);
            return x.isObject(s) ? s : o
        };
        x.bind = function(t, e) {
            if (y && t.bind === y) return y.apply(t, d.call(arguments, 1));
            if (!x.isFunction(t)) throw new TypeError("Bind must be called on a function");
            var n = d.call(arguments, 2),
                r = function() {
                    return A(t, r, e, this, n.concat(d.call(arguments)))
                };
            return r
        }, x.partial = function(t) {
            var e = d.call(arguments, 1),
                n = function() {
                    for (var r = 0, i = e.length, o = Array(i), s = 0; s < i; s++) o[s] = e[s] === x ? arguments[r++] : e[s];
                    for (; r < arguments.length;) o.push(arguments[r++]);
                    return A(t, n, this, this, o)
                };
            return n
        }, x.bindAll = function(t) {
            var e, n, r = arguments.length;
            if (r <= 1) throw new Error("bindAll must be passed function names");
            for (e = 1; e < r; e++) n = arguments[e], t[n] = x.bind(t[n], t);
            return t
        }, x.memoize = function(t, e) {
            var n = function(r) {
                var i = n.cache,
                    o = "" + (e ? e.apply(this, arguments) : r);
                return x.has(i, o) || (i[o] = t.apply(this, arguments)), i[o]
            };
            return n.cache = {}, n
        }, x.delay = function(t, e) {
            var n = d.call(arguments, 2);
            return setTimeout(function() {
                return t.apply(null, n)
            }, e)
        }, x.defer = x.partial(x.delay, x, 1), x.throttle = function(t, e, n) {
            var r, i, o, s = null,
                a = 0;
            n || (n = {});
            var u = function() {
                a = !1 === n.leading ? 0 : x.now(), s = null, o = t.apply(r, i), s || (r = i = null)
            };
            return function() {
                var l = x.now();
                a || !1 !== n.leading || (a = l);
                var c = e - (l - a);
                return r = this, i = arguments, c <= 0 || c > e ? (s && (clearTimeout(s), s = null), a = l, o = t.apply(r, i), s || (r = i = null)) : s || !1 === n.trailing || (s = setTimeout(u, c)), o
            }
        }, x.debounce = function(t, e, n) {
            var r, i, o, s, a, u = function() {
                var l = x.now() - s;
                l < e && l >= 0 ? r = setTimeout(u, e - l) : (r = null, n || (a = t.apply(o, i), r || (o = i = null)))
            };
            return function() {
                o = this, i = arguments, s = x.now();
                var l = n && !r;
                return r || (r = setTimeout(u, e)), l && (a = t.apply(o, i), o = i = null), a
            }
        }, x.wrap = function(t, e) {
            return x.partial(e, t)
        }, x.negate = function(t) {
            return function() {
                return !t.apply(this, arguments)
            }
        }, x.compose = function() {
            var t = arguments,
                e = t.length - 1;
            return function() {
                for (var n = e, r = t[e].apply(this, arguments); n--;) r = t[n].call(this, r);
                return r
            }
        }, x.after = function(t, e) {
            return function() {
                if (--t < 1) return e.apply(this, arguments)
            }
        }, x.before = function(t, e) {
            var n;
            return function() {
                return --t > 0 && (n = e.apply(this, arguments)), t <= 1 && (e = null), n
            }
        }, x.once = x.partial(x.before, 2);
        var R = !{
                toString: null
            }.propertyIsEnumerable("toString"),
            N = ["valueOf", "isPrototypeOf", "toString", "propertyIsEnumerable", "hasOwnProperty", "toLocaleString"];
        x.keys = function(t) {
            if (!x.isObject(t)) return [];
            if (b) return b(t);
            var e = [];
            for (var n in t) x.has(t, n) && e.push(n);
            return R && a(t, e), e
        }, x.allKeys = function(t) {
            if (!x.isObject(t)) return [];
            var e = [];
            for (var n in t) e.push(n);
            return R && a(t, e), e
        }, x.values = function(t) {
            for (var e = x.keys(t), n = e.length, r = Array(n), i = 0; i < n; i++) r[i] = t[e[i]];
            return r
        }, x.mapObject = function(t, e, n) {
            e = C(e, n);
            for (var r, i = x.keys(t), o = i.length, s = {}, a = 0; a < o; a++) r = i[a], s[r] = e(t[r], r, t);
            return s
        }, x.pairs = function(t) {
            for (var e = x.keys(t), n = e.length, r = Array(n), i = 0; i < n; i++) r[i] = [e[i], t[e[i]]];
            return r
        }, x.invert = function(t) {
            for (var e = {}, n = x.keys(t), r = 0, i = n.length; r < i; r++) e[t[n[r]]] = n[r];
            return e
        }, x.functions = x.methods = function(t) {
            var e = [];
            for (var n in t) x.isFunction(t[n]) && e.push(n);
            return e.sort()
        }, x.extend = I(x.allKeys), x.extendOwn = x.assign = I(x.keys), x.findKey = function(t, e, n) {
            e = C(e, n);
            for (var r, i = x.keys(t), o = 0, s = i.length; o < s; o++)
                if (r = i[o], e(t[r], r, t)) return r
        }, x.pick = function(t, e, n) {
            var r, i, o = {},
                s = t;
            if (null == s) return o;
            x.isFunction(e) ? (i = x.allKeys(s), r = T(e, n)) : (i = L(arguments, !1, !1, 1), r = function(t, e, n) {
                return e in n
            }, s = Object(s));
            for (var a = 0, u = i.length; a < u; a++) {
                var l = i[a],
                    c = s[l];
                r(c, l, s) && (o[l] = c)
            }
            return o
        }, x.omit = function(t, e, n) {
            if (x.isFunction(e)) e = x.negate(e);
            else {
                var r = x.map(L(arguments, !1, !1, 1), String);
                e = function(t, e) {
                    return !x.contains(r, e)
                }
            }
            return x.pick(t, e, n)
        }, x.defaults = I(x.allKeys, !0), x.create = function(t, e) {
            var n = S(t);
            return e && x.extendOwn(n, e), n
        }, x.clone = function(t) {
            return x.isObject(t) ? x.isArray(t) ? t.slice() : x.extend({}, t) : t
        }, x.tap = function(t, e) {
            return e(t), t
        }, x.isMatch = function(t, e) {
            var n = x.keys(e),
                r = n.length;
            if (null == t) return !r;
            for (var i = Object(t), o = 0; o < r; o++) {
                var s = n[o];
                if (e[s] !== i[s] || !(s in i)) return !1
            }
            return !0
        };
        var j = function(t, e, n, r) {
            if (t === e) return 0 !== t || 1 / t == 1 / e;
            if (null == t || null == e) return t === e;
            t instanceof x && (t = t._wrapped), e instanceof x && (e = e._wrapped);
            var i = g.call(t);
            if (i !== g.call(e)) return !1;
            switch (i) {
                case "[object RegExp]":
                case "[object String]":
                    return "" + t == "" + e;
                case "[object Number]":
                    return +t != +t ? +e != +e : 0 == +t ? 1 / +t == 1 / e : +t == +e;
                case "[object Date]":
                case "[object Boolean]":
                    return +t == +e
            }
            var o = "[object Array]" === i;
            if (!o) {
                if ("object" != typeof t || "object" != typeof e) return !1;
                var s = t.constructor,
                    a = e.constructor;
                if (s !== a && !(x.isFunction(s) && s instanceof s && x.isFunction(a) && a instanceof a) && "constructor" in t && "constructor" in e) return !1
            }
            n = n || [], r = r || [];
            for (var u = n.length; u--;)
                if (n[u] === t) return r[u] === e;
            if (n.push(t), r.push(e), o) {
                if ((u = t.length) !== e.length) return !1;
                for (; u--;)
                    if (!j(t[u], e[u], n, r)) return !1
            } else {
                var l, c = x.keys(t);
                if (u = c.length, x.keys(e).length !== u) return !1;
                for (; u--;)
                    if (l = c[u], !x.has(e, l) || !j(t[l], e[l], n, r)) return !1
            }
            return n.pop(), r.pop(), !0
        };
        x.isEqual = function(t, e) {
            return j(t, e)
        }, x.isEmpty = function(t) {
            return null == t || (M(t) && (x.isArray(t) || x.isString(t) || x.isArguments(t)) ? 0 === t.length : 0 === x.keys(t).length)
        }, x.isElement = function(t) {
            return !(!t || 1 !== t.nodeType)
        }, x.isArray = v || function(t) {
            return "[object Array]" === g.call(t)
        }, x.isObject = function(t) {
            var e = typeof t;
            return "function" === e || "object" === e && !!t
        }, x.each(["Arguments", "Function", "String", "Number", "Date", "RegExp", "Error"], function(t) {
            x["is" + t] = function(e) {
                return g.call(e) === "[object " + t + "]"
            }
        }), x.isArguments(arguments) || (x.isArguments = function(t) {
            return x.has(t, "callee")
        }), "function" != typeof /./ && "object" != typeof Int8Array && (x.isFunction = function(t) {
            return "function" == typeof t || !1
        }), x.isFinite = function(t) {
            return isFinite(t) && !isNaN(parseFloat(t))
        }, x.isNaN = function(t) {
            return x.isNumber(t) && t !== +t
        }, x.isBoolean = function(t) {
            return !0 === t || !1 === t || "[object Boolean]" === g.call(t)
        }, x.isNull = function(t) {
            return null === t
        }, x.isUndefined = function(t) {
            return void 0 === t
        }, x.has = function(t, e) {
            return null != t && m.call(t, e)
        }, x.noConflict = function() {
            return u._ = l, this
        }, x.identity = function(t) {
            return t
        }, x.constant = function(t) {
            return function() {
                return t
            }
        }, x.noop = function() {}, x.property = O, x.propertyOf = function(t) {
            return null == t ? function() {} : function(e) {
                return t[e]
            }
        }, x.matcher = x.matches = function(t) {
            return t = x.extendOwn({}, t),
                function(e) {
                    return x.isMatch(e, t)
                }
        }, x.times = function(t, e, n) {
            var r = Array(Math.max(0, t));
            e = T(e, n, 1);
            for (var i = 0; i < t; i++) r[i] = e(i);
            return r
        }, x.random = function(t, e) {
            return null == e && (e = t, t = 0), t + Math.floor(Math.random() * (e - t + 1))
        }, x.now = Date.now || function() {
            return (new Date).getTime()
        };
        var B = {
                "&": "&amp;",
                "<": "&lt;",
                ">": "&gt;",
                '"': "&quot;",
                "'": "&#x27;",
                "`": "&#x60;"
            },
            z = x.invert(B),
            D = function(t) {
                var e = function(e) {
                        return t[e]
                    },
                    n = "(?:" + x.keys(t).join("|") + ")",
                    r = RegExp(n),
                    i = RegExp(n, "g");
                return function(t) {
                    return t = null == t ? "" : "" + t, r.test(t) ? t.replace(i, e) : t
                }
            };
        x.escape = D(B), x.unescape = D(z), x.result = function(t, e, n) {
            var r = null == t ? void 0 : t[e];
            return void 0 === r && (r = n), x.isFunction(r) ? r.call(t) : r
        };
        var F = 0;
        x.uniqueId = function(t) {
            var e = ++F + "";
            return t ? t + e : e
        }, x.templateSettings = {
            evaluate: /<%([\s\S]+?)%>/g,
            interpolate: /<%=([\s\S]+?)%>/g,
            escape: /<%-([\s\S]+?)%>/g
        };
        var V = /(.)^/,
            U = {
                "'": "'",
                "\\": "\\",
                "\r": "r",
                "\n": "n",
                "\u2028": "u2028",
                "\u2029": "u2029"
            },
            H = /\\|'|\r|\n|\u2028|\u2029/g,
            G = function(t) {
                return "\\" + U[t]
            };
        x.template = function(t, e, n) {
            !e && n && (e = n), e = x.defaults({}, e, x.templateSettings);
            var r = RegExp([(e.escape || V).source, (e.interpolate || V).source, (e.evaluate || V).source].join("|") + "|$", "g"),
                i = 0,
                o = "__p+='";
            t.replace(r, function(e, n, r, s, a) {
                return o += t.slice(i, a).replace(H, G), i = a + e.length, n ? o += "'+\n((__t=(" + n + "))==null?'':_.escape(__t))+\n'" : r ? o += "'+\n((__t=(" + r + "))==null?'':__t)+\n'" : s && (o += "';\n" + s + "\n__p+='"), e
            }), o += "';\n", e.variable || (o = "with(obj||{}){\n" + o + "}\n"), o = "var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n" + o + "return __p;\n";
            try {
                var s = new Function(e.variable || "obj", "_", o)
            } catch (t) {
                throw t.source = o, t
            }
            var a = function(t) {
                return s.call(this, t, x)
            };
            return a.source = "function(" + (e.variable || "obj") + "){\n" + o + "}", a
        }, x.chain = function(t) {
            var e = x(t);
            return e._chain = !0, e
        };
        var W = function(t, e) {
            return t._chain ? x(e).chain() : e
        };
        x.mixin = function(t) {
            x.each(x.functions(t), function(e) {
                var n = x[e] = t[e];
                x.prototype[e] = function() {
                    var t = [this._wrapped];
                    return p.apply(t, arguments), W(this, n.apply(x, t))
                }
            })
        }, x.mixin(x), x.each(["pop", "push", "reverse", "shift", "sort", "splice", "unshift"], function(t) {
            var e = c[t];
            x.prototype[t] = function() {
                var n = this._wrapped;
                return e.apply(n, arguments), "shift" !== t && "splice" !== t || 0 !== n.length || delete n[0], W(this, n)
            }
        }), x.each(["concat", "join", "slice"], function(t) {
            var e = c[t];
            x.prototype[t] = function() {
                return W(this, e.apply(this._wrapped, arguments))
            }
        }), x.prototype.value = function() {
            return this._wrapped
        }, x.prototype.valueOf = x.prototype.toJSON = x.prototype.value, x.prototype.toString = function() {
            return "" + this._wrapped
        }, r = [], void 0 !== (i = function() {
            return x
        }.apply(e, r)) && (t.exports = i)
    }).call(this)
}, function(t, e, n) {
    "use strict";
    var r = "undefined" != typeof Uint8Array && "undefined" != typeof Uint16Array && "undefined" != typeof Int32Array;
    e.assign = function(t) {
        for (var e = Array.prototype.slice.call(arguments, 1); e.length;) {
            var n = e.shift();
            if (n) {
                if ("object" != typeof n) throw new TypeError(n + "must be non-object");
                for (var r in n) n.hasOwnProperty(r) && (t[r] = n[r])
            }
        }
        return t
    }, e.shrinkBuf = function(t, e) {
        return t.length === e ? t : t.subarray ? t.subarray(0, e) : (t.length = e, t)
    };
    var i = {
            arraySet: function(t, e, n, r, i) {
                if (e.subarray && t.subarray) return void t.set(e.subarray(n, n + r), i);
                for (var o = 0; o < r; o++) t[i + o] = e[n + o]
            },
            flattenChunks: function(t) {
                var e, n, r, i, o, s;
                for (r = 0, e = 0, n = t.length; e < n; e++) r += t[e].length;
                for (s = new Uint8Array(r), i = 0, e = 0, n = t.length; e < n; e++) o = t[e], s.set(o, i), i += o.length;
                return s
            }
        },
        o = {
            arraySet: function(t, e, n, r, i) {
                for (var o = 0; o < r; o++) t[i + o] = e[n + o]
            },
            flattenChunks: function(t) {
                return [].concat.apply([], t)
            }
        };
    e.setTyped = function(t) {
        t ? (e.Buf8 = Uint8Array, e.Buf16 = Uint16Array, e.Buf32 = Int32Array, e.assign(e, i)) : (e.Buf8 = Array, e.Buf16 = Array, e.Buf32 = Array, e.assign(e, o))
    }, e.setTyped(r)
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return o
    });
    var r = n(0),
        i = n(1),
        o = function(t) {
            function e(e, n, r) {
                var i = t.call(this) || this;
                return i.parent = e, i.outerValue = n, i.outerIndex = r, i.index = 0, i
            }
            return r.a(e, t), e.prototype._next = function(t) {
                this.parent.notifyNext(this.outerValue, t, this.outerIndex, this.index++, this)
            }, e.prototype._error = function(t) {
                this.parent.notifyError(t, this), this.unsubscribe()
            }, e.prototype._complete = function() {
                this.parent.notifyComplete(this), this.unsubscribe()
            }, e
        }(i.a)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t
    }
    e.a = r
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.LogoItemView = void 0;
    var r = n(75),
        i = n(7),
        o = n(25),
        s = n(11),
        a = n(352),
        u = n(98),
        l = n(180),
        c = n(27),
        h = function() {
            function t(e) {
                this._item = null, this._cloned = null, this.context2d = null, this.zoom = 1, this.transformable = null, this.offsetMatrix = null, this.editable = !1, this._lastColorCombination = null, this._hasChanges = !1, this._cachedWidth = 0, this.context2d = e, this.id = u.v4(), this._cachedContext2d = c.Context2DManager.forLogoItem(e.canvas.width + t._CACHE_CANVAS_SIZE, e.canvas.height + t._CACHE_CANVAS_SIZE)
            }
            return Object.defineProperty(t.prototype, "item", {
                get: function() {
                    return this._item
                },
                enumerable: !1,
                configurable: !0
            }), t.prototype.setItem = function(t) {
                t.equals(this._cloned, !0) || (this._item = t, this._hasChanges = !0, this._cloned = t.clone())
            }, Object.defineProperty(t.prototype, "hasChanges", {
                get: function() {
                    return this._hasChanges
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "lastColorCombination", {
                set: function(t) {
                    this._lastColorCombination = t.clone()
                },
                enumerable: !1,
                configurable: !0
            }), t.prototype.draw = function(t) {
                void 0 === t && (t = null), this.context2d.save(), this.setMatrixTransformations(), this.item.blendManager.toContext2d(this.item.blendMode, this.context2d), this.setFill(t), this.drawPrimitive(this.context2d, t), this.context2d.restore()
            }, t.prototype.setMatrixTransformations = function(t) {
                void 0 === t && (t = null), null === t && (t = this.getMatrixForContext2d()), t.scale(this.zoom, this.zoom), null !== this.offsetMatrix && t.concat(this.offsetMatrix), t.setToContext2d(this.context2d)
            }, t.prototype.setFill = function(t) {
                var e = this.getFill(t);
                0 === this.item.stroke ? e.toContext2d(this.context2d, this.item.bounds) : e.strokeToContext2d(this.context2d, this.item.stroke)
            }, t.prototype.drawPrimitive = function(t, e) {
                void 0 === e && (e = null)
            }, t.prototype.getFill = function(t) {
                return void 0 === t && (t = null), null === t ? null !== this.item.fill ? this.item.fill : new s.Fill("000000") : t.getFill(this.item.fill)
            }, t.prototype.resetTransformable = function() {
                this.transformable = null
            }, t.prototype.initializeTransformable = function() {
                this.transformable = new r.Transformable(this._item.bounds.width, this._item.bounds.height, this.getMatrixForTransformable(), this)
            }, t.prototype.getMatrixForTransformable = function() {
                var t = new i.Matrix;
                return t.translate(this._item.bounds.x, this._item.bounds.y), t.concat(this._item.maths.matrix), t.scale(this.zoom, this.zoom), null !== this.offsetMatrix && t.concat(this.offsetMatrix), t
            }, t.prototype._getCurrentBounds = function() {
                var t = null !== this.transformable ? this.transformable.matrix.clone() : this.getMatrixForTransformable(),
                    e = null !== this.transformable ? this.transformable.width : this.item.bounds.width,
                    n = null !== this.transformable ? this.transformable.height : this.item.bounds.height,
                    r = t.transformPoint(new o.Point(0, 0)),
                    i = t.transformPoint(new o.Point(e, 0)),
                    s = t.transformPoint(new o.Point(e, n)),
                    u = t.transformPoint(new o.Point(0, n));
                return new a.TransformRectangle(r, i, s, u)
            }, t.prototype.drawBorder = function(t, e) {
                void 0 === t && (t = "#9c9c9c"), void 0 === e && (e = 1);
                var n = this._getCurrentBounds(),
                    r = n.p1,
                    i = n.p2,
                    o = n.p3,
                    s = n.p4;
                this.context2d.save(), this.context2d.strokeStyle = t, this.context2d.lineWidth = e, this.context2d.beginPath(), this.context2d.moveTo(r.x, r.y), this.context2d.lineTo(i.x, i.y), this.context2d.lineTo(o.x, o.y), this.context2d.lineTo(s.x, s.y), this.context2d.lineTo(r.x, r.y), this.context2d.stroke(), this.context2d.restore()
            }, t.prototype.getMatrixFromTransformable = function() {
                var t = this.transformable.matrix.clone(),
                    e = new i.Matrix;
                return null !== this.offsetMatrix && (e.concat(this.offsetMatrix), e.invert(), t.concat(e)), e.identity(), e.scale(this.zoom, this.zoom), e.invert(), t.concat(e), e.identity(), e.translate(this._item.bounds.x, this._item.bounds.y), e.invert(), e.concat(t), e
            }, t.prototype.getMatrixForContext2d = function() {
                return null !== this.transformable ? this.getMatrixFromTransformable() : this._item.maths.matrix.clone()
            }, t.prototype.getId = function() {
                return this.id
            }, t.prototype.getSegments = function() {
                var t = [],
                    e = this._getCurrentBounds(),
                    n = [e.p1, e.p2, e.p3, e.p4],
                    r = 5e3,
                    i = 5e3,
                    s = 0,
                    a = 0;
                n.forEach(function(t) {
                    t.x < r && (r = t.x), t.y < i && (i = t.y), t.x > s && (s = t.x), t.y > a && (a = t.y)
                });
                var u = new o.Point(r, i),
                    c = new o.Point(s, i),
                    h = new o.Point(s, a),
                    f = new o.Point(r, a);
                t.push(new l.Segment(u, c)), t.push(new l.Segment(c, h)), t.push(new l.Segment(h, f)), t.push(new l.Segment(f, u));
                var p = new o.Point((u.x + c.x) / 2, (u.y + c.y) / 2),
                    d = new o.Point((c.x + h.x) / 2, (c.y + h.y) / 2),
                    g = new o.Point((h.x + f.x) / 2, (h.y + f.y) / 2),
                    m = new o.Point((f.x + u.x) / 2, (f.y + u.y) / 2);
                return t.push(new l.Segment(p, g)), t.push(new l.Segment(d, m)), t
            }, t._CACHE_CANVAS_SIZE = 200, t
        }();
    e.LogoItemView = h
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return r
    });
    var r = function() {
        return "function" == typeof Symbol && Symbol.observable || "@@observable"
    }()
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return function(n) {
            return n.lift(new s(t, e))
        }
    }
    e.a = r;
    var i = n(0),
        o = n(1),
        s = function() {
            function t(t, e) {
                this.predicate = t, this.thisArg = e
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new a(t, this.predicate, this.thisArg))
            }, t
        }(),
        a = function(t) {
            function e(e, n, r) {
                var i = t.call(this, e) || this;
                return i.predicate = n, i.thisArg = r, i.count = 0, i
            }
            return i.a(e, t), e.prototype._next = function(t) {
                var e;
                try {
                    e = this.predicate.call(this.thisArg, t, this.count++)
                } catch (t) {
                    return void this.destination.error(t)
                }
                e && this.destination.next(t)
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return function(n) {
            var r;
            if (r = "function" == typeof t ? t : function() {
                    return t
                }, "function" == typeof e) return n.lift(new o(r, e));
            var s = Object.create(n, i.b);
            return s.source = n, s.subjectFactory = r, s
        }
    }
    e.a = r;
    var i = n(142),
        o = function() {
            function t(t, e) {
                this.subjectFactory = t, this.selector = e
            }
            return t.prototype.call = function(t, e) {
                var n = this.selector,
                    r = this.subjectFactory(),
                    i = n(r).subscribe(t);
                return i.add(e.subscribe(r)), i
            }, t
        }()
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.ApiAccess = void 0;
    var r = function() {
        function t() {}
        return t.isExist = function() {
            return !(void 0 === t.current || null === t.current)
        }, t.init = function(e) {
            void 0 !== e && null !== e && (t.current = new t, t.current.logoUrl = e.logoUrl, t.current.partnerCode = e.partnerCode, t.current.publicToken = e.publicToken)
        }, t.publicToken = function() {
            return t.isExist() ? t.current.publicToken : ""
        }, t.getPartnerCode = function() {
            return t.isExist() ? t.current.partnerCode : ""
        }, t.getPartnerCodeUppercase = function() {
            return t.isExist() ? t.current.partnerCode.substr(0, 1).toUpperCase() + t.current.partnerCode.substr(1) : ""
        }, t.purge = function() {
            t.current = null
        }, t.current = null, t
    }();
    e.ApiAccess = r
}, function(t, e, n) {
    "use strict";
    (function(t) {
        Object.defineProperty(e, "__esModule", {
            value: !0
        }), e.LogoShowcase = void 0;
        var r = n(7),
            i = n(105),
            o = n(5),
            s = function() {
                function e(t, e, n) {
                    void 0 === n && (n = null), this.layers = null, this.height = 0, this.colorCombination = null, this.layers = e, this.height = t, this.canvasRef = n
                }
                return e.prototype.draw = function(n, r, i, o, s) {
                    var a = this;
                    void 0 === i && (i = e.identityMatrix), void 0 === o && (o = null), void 0 === s && (s = null);
                    for (var u = [], l = 0, c = this.layers; l < c.length; l++) {
                        var h = c[l];
                        u.push(h.load()), u.push(h.loadDynamic(n))
                    }
                    var f = i.clone();
                    return t.all(u).then(function() {
                        return a.drawLayers(n, r, f, a.height, o, s)
                    }).then(function() {
                        return a.disableAnimatedPreloader(r)
                    })
                }, e.prototype.drawLayers = function(t, e, n, r, s, a) {
                    void 0 === a && (a = null);
                    var u, l = e,
                        c = null;
                    if (null == this.canvasRef || i.AngularInit.isNG) {
                        u = o(l.canvas), c = u.data("lid"), a = c || a;
                        for (var h = 0, f = this.layers; h < f.length; h++) {
                            var p = f[h];
                            this.colorCombination && p.update(void 0, void 0, this.colorCombination), p.draw(t, l, n, r, a, s)
                        }
                    } else {
                        var d = o("canvas[data-scref='" + this.canvasRef + "']");
                        this.disableContextMenu(d);
                        for (var g = 0; g < d.length; g++) {
                            l = d[g].getContext("2d"), u = o(d[g]), 0 == r && l.clearRect(0, 0, l.canvas.width, l.canvas.height);
                            var m = !1,
                                v = u.data("bg"),
                                b = u.data("el");
                            v && b && (m = !0), c = u.data("lid"), null !== c && void 0 !== c && (a = c);
                            for (var y = 0, _ = this.layers; y < _.length; y++) {
                                var p = _[y];
                                m && p.update(v, b), p.draw(t, l, n, r, a, s)
                            }
                        }
                    }
                }, e.prototype.update = function(t, e) {
                    for (var n = 0, r = this.layers; n < r.length; n++) {
                        r[n].update(t, e)
                    }
                }, e.prototype.reset = function() {
                    for (var t = 0, e = this.layers; t < e.length; t++) {
                        e[t].reset()
                    }
                }, e.prototype.disableContextMenu = function(t) {}, e.prototype.disableAnimatedPreloader = function(t) {
                    var e = o(null == this.canvasRef || i.AngularInit.isNG ? t.canvas : "canvas[data-scref='" + this.canvasRef + "']");
                    e.removeClass("animated-preloader"), e.siblings(".animated-preloader-src").remove()
                }, e.prototype.setCanvasScale = function(t) {
                    for (var e = 0, n = this.layers; e < n.length; e++) {
                        n[e].setCanvasScale(t)
                    }
                }, e.identityMatrix = new r.Matrix, e
            }();
        e.LogoShowcase = s
    }).call(e, n(6))
}, function(t, e, n) {
    "use strict";
    (function(t) {
        Object.defineProperty(e, "__esModule", {
            value: !0
        }), e.LogoLayerItem = void 0;
        var r = n(7),
            i = n(11),
            o = n(166),
            s = n(9),
            a = n(13),
            u = n(8),
            l = n(73),
            c = n(27),
            h = n(36),
            f = function() {
                function e(t, e, n, r, i, a, u) {
                    void 0 === i && (i = null), void 0 === a && (a = !1), void 0 === u && (u = s.ColorRange.EL_LOGO1), this.wmImage = null, this.wmLogoOpacity = .8, this.logoPadding = 0, this.noWatermark = !1, this.matrix = null, this.wmMatrix = null, this.view = null, this.canvasScale = 1, this.type = t, this.withSlogan = a, this.width = e, this.height = n, this.matrixSrc = r, this.colorCombination = l.ColorCombination.getCombination(null, i, u), this.srcColorCombination = this.colorCombination, this.viewClass = o.LogoView
                }
                return e.prototype.setCanvasScale = function(t) {
                    this.canvasScale = t
                }, e.prototype.loadDynamic = function(n) {
                    var r = n.getLogo(this.type, this.withSlogan);
                    if (r.status !== u.Logo.STATUS_S && r.status !== u.Logo.STATUS_L && r.status !== u.Logo.STATUS_LOGO_PACK_20 && r.status !== u.Logo.STATUS_SUBSCRIPTION_PACK_20) {
                        var i = this,
                            o = this.getWatermarkUrl(n);
                        if (!(null !== this.wmImage && this.wmImage.width > 0 && this.wmImage.height > 0 && -1 !== this.wmImage.src.indexOf(o))) {
                            this.wmMatrix = null;
                            return void 0 !== e.wmImagesPromises[o] ? e.wmImagesPromises[o] : new t(function(t, e) {
                                i.wmImage = new Image, i.wmImage.crossOrigin = "anonymous", i.wmImage.src = i.getWatermarkUrl(n), i.wmImage.onload = function() {
                                    t()
                                }, i.wmImage.onerror = function() {
                                    e()
                                }
                            })
                        }
                    }
                }, e.prototype.draw = function(t, e, n, r) {
                    this.initCachedProps(t, n), this.view.logo = t.getLogo(this.type, this.withSlogan, r), this.colorCombination.colorRange = this.view.logo.colorRange, this.view.draw(this.colorCombination), e.save();
                    var i = c.Context2DManager.forTemp(e.canvas.width, e.canvas.height);
                    this.drawWatermarkBg(i, t, r, e), i.save(), this.matrix.setToContext2d(i), i.drawImage(this.view.context2d.canvas, 0, 0), i.restore(), this.drawWatermarkLogo(i, t, r), e.drawImage(i.canvas, 0, 0)
                }, e.prototype.drawWatermarkBg = function(t, n, i, o) {
                    if (this.needWatermark(n, i)) {
                        if (null === this.wmMatrix) {
                            var s = (this.wmImage.width - this.width) / 2,
                                a = (this.wmImage.height - this.height) / 2;
                            this.wmMatrix = new r.Matrix, this.wmMatrix.translate(-s, -a), this.wmMatrix.concat(this.matrix)
                        }
                        var u = this.colorCombination.getFill(null);
                        null === u && (u = e.wmDefaultFill), t.save(), u.toContext2d(t), t.fillRect(0, 0, t.canvas.width, t.canvas.height), this.wmMatrix.setToContext2d(t), t.globalCompositeOperation = "destination-in", t.drawImage(this.wmImage, 0, 0), t.restore(), o.save(), o.globalAlpha = this.getBgWmOpacity(n), o.drawImage(t.canvas, 0, 0), o.restore(), this.clearContext2d(t)
                    }
                }, e.prototype.drawWatermarkLogo = function(t, e, n) {
                    this.needWatermark(e, n) && (t.save(), t.globalCompositeOperation = "destination-out", t.globalAlpha = this.wmLogoOpacity, this.wmMatrix.setToContext2d(t), t.drawImage(this.wmImage, 0, 0), t.restore())
                }, e.prototype.initCachedProps = function(t, e) {
                    this.matrix = r.Matrix.deserialize(this.matrixSrc), null !== e && this.matrix.concat(e), this.matrix.scale(this.canvasScale, this.canvasScale), null === this.view ? (this.view = new this.viewClass(c.Context2DManager.forLogo(this.width, this.height)), this.view.width = this.width, this.view.height = this.height, this.view.padding = this.logoPadding) : this.view.context2d = c.Context2DManager.forLogo(this.width, this.height)
                }, e.prototype.getWatermarkUrl = function(t) {
                    var e, n = h.ApiAccess.isExist() ? "nolabel_watermarks" : "watermarks",
                        r = this.type;
                    return this.type >= u.Logo.START_INDEX && (r = t.getLogo(this.type).makerType), this.width <= 155 ? e = r === u.Logo.HORIZONTAL || r === u.Logo.TEXT ? "small_horizontal.png" : "small_square.png" : this.width > 150 && this.width <= 340 ? e = r === u.Logo.HORIZONTAL || r === u.Logo.TEXT ? "medium_horizontal.png" : "medium_square.png" : this.width > 340 && this.width <= 410 ? e = "large_horizontal.png" : this.width > 410 && (e = "extra_large_horizontal.png"), this.getFullUrl(n + "/" + e)
                }, e.prototype.needWatermark = function(t, e) {
                    if (void 0 === e && (e = null), this.noWatermark) return !1;
                    var n = t.getLogo(this.type, this.withSlogan, e);
                    return this.type != u.Logo.ICON && ((this.type !== u.Logo.HORIZONTAL || !1 !== this.withSlogan || this.colorCombination.bgColor !== s.ColorRange.BG_WHITE || this.colorCombination.elColor !== s.ColorRange.EL_LOGO1) && (n.status !== u.Logo.STATUS_S && n.status !== u.Logo.STATUS_M && n.status !== u.Logo.STATUS_L && n.status !== u.Logo.STATUS_LOGO_PACK_20 && n.status !== u.Logo.STATUS_SUBSCRIPTION_PACK_20 && ((n.status !== u.Logo.STATUS_XS || this.colorCombination.bgColor !== s.ColorRange.BG_WHITE || this.colorCombination.elColor !== s.ColorRange.EL_LOGO1) && ((n.status !== u.Logo.STATUS_XS || this.colorCombination.bgColor !== s.ColorRange.BG_GRAY || "747474" !== this.colorCombination.elColor) && !(this.width <= 100)))))
                }, e.prototype.getFullUrl = function(t) {
                    return a.Site.STATIC_ROOT_URL + "/static/v3/showcase/" + t
                }, e.prototype.clearContext2d = function(t) {
                    r.Matrix.resetContext2d(t), t.clearRect(0, 0, t.canvas.width, t.canvas.height)
                }, e.prototype.getBgWmOpacity = function(t) {
                    var n = this.view.logo.colorRange.getFill(this.colorCombination.bgColor),
                        r = this.view.logo.colorRange.getFill(this.colorCombination.bgColor, this.colorCombination.elColor);
                    null === r && (r = e.wmDefaultFill);
                    var i = n.hex,
                        o = r.hex,
                        a = i + ";" + o;
                    if (void 0 !== e.wmAlphaCache[a]) return e.wmAlphaCache[a];
                    for (var u = .05, l = u; l <= .5; l += .03) {
                        var c = s.ColorRange.blendColorsAlpha(i, o, l),
                            h = s.ColorRange.contrast(i, c);
                        if (u = l, h >= 1.1) break
                    }
                    return e.wmAlphaCache[a] = u, u
                }, e.wmImagesPromises = {}, e.wmDefaultFill = new i.Fill("000000"), e.wmAlphaCache = {}, e
            }();
        e.LogoLayerItem = f
    }).call(e, n(6))
}, function(module, exports, __webpack_require__) {
    "use strict";

    function icon(t, e, n, r, i, o, s, a) {
        return void 0 === n && (n = Align.Middle), void 0 === r && (r = null), void 0 === i && (i = Proportion.NotDefined), void 0 === o && (o = Thickness.NotDefined), void 0 === s && (s = SizeLimiter.Height), void 0 === a && (a = ElementColor.Primary), new IconMapItem(t, e, n, r, i, o, s, a)
    }

    function text(t, e, n, r, i, o, s, a, u, l, c) {
        return void 0 === r && (r = 0), void 0 === i && (i = 0), void 0 === o && (o = 0), void 0 === s && (s = TextTransform_1.TextTransform.NONE), void 0 === a && (a = Align.Middle), void 0 === u && (u = null), void 0 === l && (l = SizeLimiter.Height), void 0 === c && (c = ElementColor.Primary), new TextMapItem(t, e, n, r, i, o, s, a, u, l, c)
    }

    function abbr(t, e, n, r, i, o, s, a, u, l) {
        return void 0 === r && (r = 0), void 0 === i && (i = TextTransform_1.TextTransform.NONE), void 0 === o && (o = Align.Middle), void 0 === s && (s = 0), void 0 === a && (a = null), void 0 === u && (u = SizeLimiter.Height), void 0 === l && (l = ElementColor.Primary), new AbbrMapItem(t, e, n, r, i, o, s, a, u, l)
    }

    function line(t, e, n, r, i, o, s) {
        return void 0 === e && (e = 0), void 0 === n && (n = 0), void 0 === r && (r = 0), void 0 === i && (i = 0), void 0 === o && (o = null), void 0 === s && (s = ElementColor.Primary), new LineMapItem(t, e, n, r, i, o, s)
    }

    function ellipse(t, e, n, r, i) {
        return void 0 === n && (n = 0), void 0 === r && (r = ElementColor.Primary), void 0 === i && (i = null), new EllipseMapItem(t, e, n, r, i)
    }

    function rect(t, e, n, r, i, o) {
        return void 0 === n && (n = 0), void 0 === r && (r = 0), void 0 === i && (i = ElementColor.Primary), void 0 === o && (o = null), new RectMapItem(t, e, n, r, i, o)
    }

    function translate(t, e) {
        return new TranslateMapItem(t, e)
    }

    function slogan(t, e, n, r, i, o, s, a, u, l, c) {
        return void 0 === r && (r = 0), void 0 === i && (i = 0), void 0 === o && (o = 0), void 0 === s && (s = TextTransform_1.TextTransform.NONE), void 0 === a && (a = Align.Middle), void 0 === u && (u = null), void 0 === l && (l = SizeLimiter.Height), void 0 === c && (c = ElementColor.Primary), new SloganMapItem(t, e, n, r, i, o, s, a, u, l, c)
    }

    function sloganbox(t, e, n, r, i, o, s, a, u, l, c, h) {
        return void 0 === r && (r = 0), void 0 === i && (i = 0), void 0 === o && (o = 0), void 0 === s && (s = TextTransform_1.TextTransform.NONE), void 0 === a && (a = Align.Middle), void 0 === h && (h = null), new SloganBoxMapItem(t, e, n, r, i, o, s, a, u, l, c, h)
    }
    var __extends = this && this.__extends || function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                })(e, n)
        };
        return function(e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();
    Object.defineProperty(exports, "__esModule", {
        value: !0
    }), exports.sloganbox = exports.slogan = exports.translate = exports.rect = exports.ellipse = exports.line = exports.abbr = exports.text = exports.icon = exports.TranslateMapItem = exports.RectMapItem = exports.EllipseMapItem = exports.LineMapItem = exports.AbbrMapItem = exports.SloganBoxMapItem = exports.SloganMapItem = exports.TextMapItem = exports.IconMapItem = exports.MapItem = exports.LogoMap = exports.Proportion = exports.Thickness = exports.ElementColor = exports.LogoMakerType = exports.SizeLimiter = exports.Align = void 0;
    var ColorRange_1 = __webpack_require__(9),
        Fill_1 = __webpack_require__(11),
        TextTransform_1 = __webpack_require__(54),
        LogoItem_1 = __webpack_require__(19),
        TextBoundsManager_1 = __webpack_require__(72),
        Text_1 = __webpack_require__(103),
        Font_1 = __webpack_require__(26),
        TextMaths_1 = __webpack_require__(58),
        Maths_1 = __webpack_require__(20),
        Line_1 = __webpack_require__(120),
        LineMaths_1 = __webpack_require__(59),
        Point_1 = __webpack_require__(25),
        Ellipse_1 = __webpack_require__(121),
        Rect_1 = __webpack_require__(122),
        Align;
    ! function(t) {
        t.TopLeft = "TL", t.Top = "T", t.TopRight = "TR", t.Left = "L", t.Middle = "M", t.Right = "R", t.BottomLeft = "BL", t.Bottom = "B", t.BottomRight = "BR"
    }(Align = exports.Align || (exports.Align = {}));
    var SizeLimiter;
    ! function(t) {
        t.Fit = "Ft", t.Fill = "Fl", t.Width = "W", t.Height = "H"
    }(SizeLimiter = exports.SizeLimiter || (exports.SizeLimiter = {}));
    var LogoMakerType;
    ! function(t) {
        t[t.Vertical = 1] = "Vertical", t[t.Horizontal = 2] = "Horizontal", t[t.Text = 3] = "Text", t[t.Icon = 4] = "Icon"
    }(LogoMakerType = exports.LogoMakerType || (exports.LogoMakerType = {}));
    var ElementColor;
    ! function(t) {
        t.Primary = "Primary", t.Secondary = "Secondary"
    }(ElementColor = exports.ElementColor || (exports.ElementColor = {}));
    var Thickness = function() {
        function t() {}
        return t.toString = function(e) {
            if (e === t.NotDefined) return "not defined";
            var n = [];
            return 0 != (e & t.Thin) && n.push("thin"), 0 != (e & t.Medium) && n.push("medium"), 0 != (e & t.Bold) && n.push("bold"), 0 != (e & t.Filled) && n.push("filled"), 0 === n.length && 0 !== e ? "wrong value " + e : n.join(", ")
        }, t.NotDefined = 0, t.Thin = 1, t.Medium = 2, t.Bold = 4, t.Filled = 8, t
    }();
    exports.Thickness = Thickness;
    var Proportion = function() {
        function t() {}
        return t.toString = function(e) {
            if (e === t.NotDefined) return "not defined";
            var n = [];
            return 0 != (e & t.Vertical) && n.push("vertical"), 0 != (e & t.Square) && n.push("square"), 0 != (e & t.Horizontal) && n.push("horizontal"), 0 === n.length && 0 !== e ? "wrong value " + e : n.join(", ")
        }, t.NotDefined = 0, t.Vertical = 1, t.Square = 2, t.Horizontal = 4, t
    }();
    exports.Proportion = Proportion;
    var LogoMap = function(_super) {
        function LogoMap(t) {
            var e = _super.call(this) || this;
            e.id = null, e.parentId = null, e.familyId = null, e.familyName = null, e.texts = null, e.slogans = null, e.abbrs = null, e.mapTextsCount = 0, e.mapAbbrsCount = 0, e.type = null, e.icon = null, e.itype = null, e.makeLogoArgs = null, e.familyStyle = 0, e.mapSlogans = [];
            for (var n = 0, r = t; n < r.length; n++) {
                var i = r[n];
                i.type === MapItem.ABBR ? e.mapAbbrsCount++ : i.type === MapItem.TEXT ? e.mapTextsCount++ : i.type === MapItem.SLOGAN ? e.mapSlogans.push(i) : i.type === MapItem.SLOGANBOX && e.mapSlogans.push(i), e.push(i)
            }
            return e
        }
        return __extends(LogoMap, _super), LogoMap.deserialize = function(source) {
            for (var logoMap = new LogoMap(eval("[" + source.r + "]")), _i = 0, logoMap_1 = logoMap; _i < logoMap_1.length; _i++) {
                var mapItem = logoMap_1[_i];
                mapItem.parent = logoMap
            }
            return logoMap.id = source.mi, logoMap.parentId = source.pmi, logoMap.type = source.t, logoMap.familyId = source.fi, logoMap.familyName = source.fn, logoMap.itype = source.it, logoMap.familyStyle = source.fs, logoMap
        }, LogoMap.deserializeNg = function(source) {
            for (var logoMap = new LogoMap(eval("[" + source.rule + "]")), _i = 0, logoMap_2 = logoMap; _i < logoMap_2.length; _i++) {
                var mapItem = logoMap_2[_i];
                mapItem.parent = logoMap
            }
            return logoMap.id = source.id, logoMap.parentId = source.maker_id, logoMap.type = source.type, logoMap.familyId = source.family_id, logoMap.familyName = "", logoMap.itype = source.itype, logoMap.familyStyle = source.family_style, logoMap
        }, LogoMap
    }(Array);
    exports.LogoMap = LogoMap;
    var MapItem = function() {
        function MapItem() {
            this.type = 0, this.blendModeRule = null
        }
        return Object.defineProperty(MapItem, "ICON", {
            get: function() {
                return 1
            },
            enumerable: !1,
            configurable: !0
        }), Object.defineProperty(MapItem, "TEXT", {
            get: function() {
                return 2
            },
            enumerable: !1,
            configurable: !0
        }), Object.defineProperty(MapItem, "LINE", {
            get: function() {
                return 3
            },
            enumerable: !1,
            configurable: !0
        }), Object.defineProperty(MapItem, "TRANSLATE", {
            get: function() {
                return 4
            },
            enumerable: !1,
            configurable: !0
        }), Object.defineProperty(MapItem, "ABBR", {
            get: function() {
                return 5
            },
            enumerable: !1,
            configurable: !0
        }), Object.defineProperty(MapItem, "SLOGAN", {
            get: function() {
                return 6
            },
            enumerable: !1,
            configurable: !0
        }), Object.defineProperty(MapItem, "SLOGANBOX", {
            get: function() {
                return 7
            },
            enumerable: !1,
            configurable: !0
        }), Object.defineProperty(MapItem, "ELLIPSE", {
            get: function() {
                return 8
            },
            enumerable: !1,
            configurable: !0
        }), Object.defineProperty(MapItem, "RECT", {
            get: function() {
                return 9
            },
            enumerable: !1,
            configurable: !0
        }), Object.defineProperty(MapItem.prototype, "logoItemType", {
            get: function() {
                switch (this.type) {
                    case MapItem.TEXT:
                        return LogoItem_1.LogoItem.LOGO_NAME;
                    case MapItem.SLOGAN:
                        return LogoItem_1.LogoItem.TAGLINE;
                    case MapItem.SLOGANBOX:
                        return LogoItem_1.LogoItem.SLOGANBOX;
                    case MapItem.ABBR:
                        return LogoItem_1.LogoItem.MONOGRAM;
                    default:
                        return LogoItem_1.LogoItem.UNKNOWN
                }
            },
            enumerable: !1,
            configurable: !0
        }), MapItem.prototype.calculate = function(attrName) {
            if ("number" == typeof this[attrName]) return this[attrName];
            if ("string" == typeof this[attrName]) {
                for (var mw = [], mh = [], iw = [], ih = [], _i = 0, _a = this.parent; _i < _a.length; _i++) {
                    var mapItem = _a[_i];
                    mapItem.type !== MapItem.TRANSLATE && mapItem.type !== MapItem.LINE && (mw.push(mapItem.mw), mh.push(mapItem.mh), iw.push(mapItem.iw), ih.push(mapItem.ih))
                }
                return eval(this[attrName])
            }
        }, MapItem.prototype.createItem = function(t) {
            return null
        }, MapItem.prototype.buildSize = function(t) {
            return !0
        }, MapItem.prototype.build = function(t, e) {}, MapItem.prototype.applyAlignTranslate = function(t, e, n, r) {
            var i = e / 2,
                o = n / 2;
            t.translate(i, o), r.includes(Align.Left) && t.translate(-i, 0), r.includes(Align.Right) && t.translate(i, 0), r.includes(Align.Top) && t.translate(0, -o), r.includes(Align.Bottom) && t.translate(0, o)
        }, MapItem.prototype.getFillByColor = function(t) {
            return t === ElementColor.Secondary ? new Fill_1.OverrideFill("000000", ColorRange_1.ColorRange.INDEX_LOGO2) : null
        }, MapItem
    }();
    exports.MapItem = MapItem;
    var IconMapItem = function(t) {
        function e(e, n, r, i, o, s, a, u) {
            void 0 === e && (e = 0), void 0 === n && (n = 0), void 0 === r && (r = Align.Middle), void 0 === i && (i = null), void 0 === o && (o = Proportion.NotDefined), void 0 === s && (s = Thickness.NotDefined), void 0 === a && (a = SizeLimiter.Height), void 0 === u && (u = ElementColor.Primary);
            var l = t.call(this) || this;
            return l.type = MapItem.ICON, l.width = e, l.height = n, l.align = r, l.blendModeRule = i, l.proportion = null !== o ? o : Proportion.NotDefined, l.thickness = null !== s ? s : Thickness.NotDefined, l.limiter = a, l.color = u, l
        }
        return __extends(e, t), e.prototype.createItem = function(t) {
            return t
        }, e.prototype.buildSize = function(t) {
            var e = t,
                n = this.calculate("width"),
                r = this.calculate("height");
            if (isNaN(n) || isNaN(r)) return !1;
            this.mw = n, this.mh = r;
            var i = this.getZoom(e);
            return this.iw = e.bounds.width * i, this.ih = e.bounds.height * i, !0
        }, e.prototype.build = function(t, e) {
            var n = t;
            n.blendMode = n.blendManager.toModel(this.blendModeRule), n.maths = this.getMaths(n, e), n.fill = this.getFillByColor(this.color)
        }, e.prototype.getMaths = function(t, e) {
            var n = new Maths_1.Maths,
                r = this.getZoom(t);
            n.matrix.translate(-t.bounds.x, -t.bounds.y), n.matrix.scale(r, r), n.matrix.concat(e);
            var i = this.mw - t.bounds.width * r,
                o = this.mh - t.bounds.height * r;
            return this.applyAlignTranslate(n.matrix, i, o, this.align), n
        }, e.prototype.getZoom = function(t) {
            var e = 1;
            return [SizeLimiter.Height, SizeLimiter.Fit, SizeLimiter.Fill].indexOf(this.limiter) >= 0 && (e = this.mh / t.bounds.height), (this.limiter == SizeLimiter.Width || this.limiter == SizeLimiter.Fit && t.bounds.width * e > this.mw || this.limiter == SizeLimiter.Fill && t.bounds.width * e < this.mw) && (e = this.mw / t.bounds.width), e
        }, e
    }(MapItem);
    exports.IconMapItem = IconMapItem;
    var TextMapItem = function(t) {
        function e(e, n, r, i, o, s, a, u, l, c, h) {
            void 0 === e && (e = 0), void 0 === n && (n = 0), void 0 === r && (r = ""), void 0 === i && (i = 0), void 0 === o && (o = 0), void 0 === s && (s = 0), void 0 === a && (a = TextTransform_1.TextTransform.NONE), void 0 === u && (u = Align.Middle), void 0 === l && (l = null), void 0 === c && (c = SizeLimiter.Height), void 0 === h && (h = ElementColor.Primary);
            var f = t.call(this) || this;
            return f.type = MapItem.TEXT, f.width = e, f.height = n, f.minChars = i, f.maxChars = o, f.fontFamily = r, f.kerning = s, f.transform = a, f.align = u, f.blendModeRule = l, f.limiter = c, f.color = h, f
        }
        return __extends(e, t), e.prototype.getTextItem = function(t, e) {
            var n = Text_1.BaseText.initText(t.logoItemType);
            return n.font = Font_1.Font.fromName(t.fontFamily), n.blendMode = n.blendManager.toModel(t.blendModeRule), n.text = TextTransform_1.TextTransform.transform(e, t.transform).trim(), n.maths = new TextMaths_1.TextMaths, n.maths.kerning = t.kerning, n
        }, e.prototype.createItem = function(t) {
            var e = t;
            return this.getTextItem(this, e)
        }, e.prototype.buildSize = function(t) {
            var e = t,
                n = this.calculate("width"),
                r = this.calculate("height");
            if (isNaN(n) || isNaN(r)) return !1;
            e.transform = this.transform, this.mw = n, this.mh = r;
            var i = this.getZoom(e);
            return this.iw = e.bounds.width * i, this.ih = e.getCharHeight() * i, !0
        }, e.prototype.build = function(t, e) {
            var n = t;
            n.maths = this.getMaths(n, e), n.fill = this.getFillByColor(this.color)
        }, e.prototype.getMaths = function(t, e) {
            var n = this.getZoom(t),
                r = t.maths;
            r.matrix.translate(-t.bounds.x, -this.mh / n + t.getCharHeight()), r.matrix.scale(n, n), r.matrix.concat(e);
            var i = this.mw - t.bounds.width * n,
                o = this.mh - t.getCharHeight() * n;
            return this.applyAlignTranslate(r.matrix, i, o, this.align), r
        }, e.prototype.getZoom = function(t) {
            var e = 1;
            return [SizeLimiter.Height, SizeLimiter.Fit, SizeLimiter.Fill].indexOf(this.limiter) >= 0 && (e = this.mh / t.getCharHeight()), (this.limiter == SizeLimiter.Width || this.limiter == SizeLimiter.Fit && t.bounds.width * e > this.mw || this.limiter == SizeLimiter.Fill && t.bounds.width * e < this.mw) && (e = this.mw / t.bounds.width), e
        }, e
    }(MapItem);
    exports.TextMapItem = TextMapItem;
    var SloganMapItem = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.type = MapItem.SLOGAN, e
        }
        return __extends(e, t), e
    }(TextMapItem);
    exports.SloganMapItem = SloganMapItem;
    var SloganBoxMapItem = function(t) {
        function e(e, n, r, i, o, s, a, u, l, c, h, f) {
            void 0 === e && (e = 0), void 0 === n && (n = 0), void 0 === r && (r = ""), void 0 === i && (i = 0), void 0 === o && (o = 0), void 0 === s && (s = 0), void 0 === a && (a = TextTransform_1.TextTransform.NONE), void 0 === u && (u = Align.Middle), void 0 === l && (l = 0), void 0 === c && (c = 0), void 0 === h && (h = 1), void 0 === f && (f = null);
            var p = t.call(this) || this;
            return p.zoom = 1, p.textRows = [], p.textsBounds = {}, p.type = MapItem.SLOGANBOX, p.width = e, p.height = n, p.minChars = i, p.maxChars = o, p.fontFamily = r, p.kerning = s, p.transform = a, p.align = u, p.fontSize = l, p.leading = c, p.maxRows = h, p.blendModeRule = f, p
        }
        return __extends(e, t), e.prototype.separate = function(t) {
            for (var e = t.split(" "), n = Math.round(this.fontSize * this.zoom), r = 0, i = 0; r < e.length;) {
                if (r >= this.maxRows) {
                    e[r - 1] = e[r - 1] + "...", e.splice(r, e.length - r);
                    break
                }
                if (null == e[r + 1]) break;
                var o = e[r] + " " + e[r + 1];
                TextBoundsManager_1.TextBoundsManager.getBounds(o, n, this.fontFamily, this.kerning).width <= this.width ? (e[r] = o, e.splice(r + 1, 1), r = i) : (r++, i++)
            }
            return e
        }, e
    }(SloganMapItem);
    exports.SloganBoxMapItem = SloganBoxMapItem;
    var AbbrMapItem = function(t) {
        function e(e, n, r, i, o, s, a, u, l, c) {
            void 0 === e && (e = 0), void 0 === n && (n = 0), void 0 === r && (r = ""), void 0 === i && (i = 0), void 0 === o && (o = TextTransform_1.TextTransform.NONE), void 0 === s && (s = Align.Middle), void 0 === a && (a = 0), void 0 === u && (u = null), void 0 === l && (l = SizeLimiter.Height), void 0 === c && (c = ElementColor.Primary);
            var h = t.call(this) || this;
            return h.type = MapItem.ABBR, h.width = e, h.height = n, h.fontFamily = r, h.kerning = i, h.transform = o, h.align = s, h.length = a, h.blendModeRule = u, h.limiter = l, h.color = c, h
        }
        return __extends(e, t), e
    }(TextMapItem);
    exports.AbbrMapItem = AbbrMapItem;
    var LineMapItem = function(t) {
        function e(e, n, r, i, o, s, a) {
            void 0 === e && (e = 0), void 0 === n && (n = 0), void 0 === r && (r = 0), void 0 === i && (i = 0), void 0 === o && (o = 0), void 0 === s && (s = null), void 0 === a && (a = ElementColor.Primary);
            var u = t.call(this) || this;
            return u.type = MapItem.LINE, u.lineWidth = e, u.p1x = n, u.p1y = r, u.p2x = i, u.p2y = o, u.blendModeRule = s, u.color = a, u
        }
        return __extends(e, t), e.prototype.createItem = function(t) {
            return new Line_1.Line
        }, e.prototype.build = function(t, e) {
            var n = this.calculate("lineWidth"),
                r = this.calculate("p1x"),
                i = this.calculate("p1y"),
                o = this.calculate("p2x"),
                s = this.calculate("p2y"),
                a = t;
            a.maths = new LineMaths_1.LineMaths, a.maths.lineWidth = n, a.maths.p1 = e.transformPoint(new Point_1.Point(r, i)), a.maths.p2 = e.transformPoint(new Point_1.Point(o, s)), a.bounds = a.calculateBounds(), a.blendMode = a.blendManager.toModel(this.blendModeRule), a.fill = this.getFillByColor(this.color)
        }, e
    }(MapItem);
    exports.LineMapItem = LineMapItem;
    var EllipseMapItem = function(t) {
        function e(e, n, r, i, o) {
            void 0 === r && (r = 0), void 0 === i && (i = ElementColor.Primary), void 0 === o && (o = null);
            var s = t.call(this) || this;
            return s.type = MapItem.ELLIPSE, s.width = e, s.height = n, s.stroke = r, s.color = i, s.blendModeRule = o, s
        }
        return __extends(e, t), e.prototype.createItem = function(t) {
            return new Ellipse_1.Ellipse
        }, e.prototype.buildSize = function(t) {
            var e = this.calculate("width"),
                n = this.calculate("height");
            return !isNaN(e) && !isNaN(n) && (this.mw = e, this.mh = n, this.iw = e, this.ih = n, !0)
        }, e.prototype.build = function(t, e) {
            var n = t;
            n.maths = this.getMaths(n, e), n.blendMode = n.blendManager.toModel(this.blendModeRule), n.width = this.mw, n.height = this.mh, n.stroke = this.stroke, n.fill = this.getFillByColor(this.color)
        }, e.prototype.getMaths = function(t, e) {
            var n = new Maths_1.Maths;
            return n.matrix.concat(e), n
        }, e
    }(MapItem);
    exports.EllipseMapItem = EllipseMapItem;
    var RectMapItem = function(t) {
        function e(e, n, r, i, o, s) {
            void 0 === r && (r = 0), void 0 === i && (i = 0), void 0 === o && (o = ElementColor.Primary), void 0 === s && (s = null);
            var a = t.call(this, e, n, i, o, s) || this;
            return a.type = MapItem.RECT, a.cornerRadius = r, a
        }
        return __extends(e, t), e.prototype.createItem = function(t) {
            return new Rect_1.Rect
        }, e.prototype.build = function(t, e) {
            var n = t;
            n.maths = this.getMaths(n, e), n.blendMode = n.blendManager.toModel(this.blendModeRule), n.width = this.mw, n.height = this.mh, n.cornerRadius = this.calculate("cornerRadius"), n.stroke = this.stroke, n.fill = this.getFillByColor(this.color)
        }, e
    }(EllipseMapItem);
    exports.RectMapItem = RectMapItem;
    var TranslateMapItem = function(t) {
        function e(e, n) {
            void 0 === e && (e = 0), void 0 === n && (n = 0);
            var r = t.call(this) || this;
            return r.type = MapItem.TRANSLATE, r.x = e, r.y = n, r
        }
        return __extends(e, t), e.prototype.build = function(t, e) {
            var n = this.calculate("x"),
                r = this.calculate("y");
            e.translate(n, r)
        }, e
    }(MapItem);
    exports.TranslateMapItem = TranslateMapItem, exports.icon = icon, exports.text = text, exports.abbr = abbr, exports.line = line, exports.ellipse = ellipse, exports.rect = rect, exports.translate = translate, exports.slogan = slogan, exports.sloganbox = sloganbox
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.BPItemFill = void 0;
    var r = n(73),
        i = function() {
            function t(t, e) {
                void 0 === e && (e = null), this._colorCombination = r.ColorCombination.getCombination(null, t, e)
            }
            return t.prototype.serialize = function() {
                return "string" == typeof this._colorCombination.elColor ? this._colorCombination.elColor : null === this._colorCombination.elColor ? this._colorCombination.bgColor.toString() : this._colorCombination.bgColor + ";" + this._colorCombination.elColor
            }, t.deserialize = function(e) {
                var n, r = "0123456789abcdefABCDEF",
                    i = !1,
                    o = e;
                if (6 == o.length) {
                    i = !0;
                    for (var s = 0, a = o; s < a.length; s++) {
                        var u = a[s];
                        if (r.indexOf(u) < 0) {
                            i = !1;
                            break
                        }
                    }
                }
                if (3 === o.length && -1 === o.indexOf(";")) {
                    i = !0;
                    for (var l = 0, c = o; l < c.length; l++) {
                        var u = c[l];
                        if (r.indexOf(u) < 0) {
                            i = !1;
                            break
                        }
                    }
                    o = o[0] + o[0] + o[1] + o[1] + o[2] + o[2]
                }
                if (i) n = new t(null, o);
                else {
                    var h = o.split(";");
                    n = 1 === h.length ? new t(parseInt(o)) : new t(parseInt(h[0]), parseInt(h[1]))
                }
                return n
            }, t.prototype.clone = function() {
                return t.deserialize(this.serialize())
            }, t.prototype.getColorCombination = function(t) {
                return this._colorCombination.colorRange = t, this._colorCombination
            }, t.prototype.setColor = function(t, e) {
                this._colorCombination = r.ColorCombination.getCombination(t, null, e)
            }, t.prototype.setAsBackground = function(t) {
                this._colorCombination = new r.ColorCombination(null, t, null, null)
            }, t.prototype.setAsElement = function(t, e) {
                this._colorCombination = new r.ColorCombination(null, t, e, null)
            }, t
        }();
    e.BPItemFill = i
}, function(t, e, n) {
    "use strict";
    (function(t) {
        var r = this && this.__extends || function() {
            var t = function(e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                    })(e, n)
            };
            return function(e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }();
        Object.defineProperty(e, "__esModule", {
            value: !0
        }), e.ImageLayer = void 0;
        var i = n(57),
            o = n(13),
            s = n(9),
            a = n(27),
            u = function(e) {
                function n(t, n, r, i, o) {
                    void 0 === n && (n = null), void 0 === r && (r = null), void 0 === i && (i = "multiply"), void 0 === o && (o = null);
                    var s = e.call(this) || this;
                    return s.image = null, s.imageUrl = null == t ? null : s.getFullUrl(t), s.imageName = t, s.bgColor = n, s.elColor = r, s.blendMode = i, s.pattern = o, s
                }
                return r(n, e), n.prototype.load = function() {
                    var e = this;
                    if (null != this.imageUrl) return new t(function(t, n) {
                        var r, i = o.Site.getShowcaseImageUrl("/static/v3/showcase/" + e.imageName, e.canvasScale);
                        if ((null === (r = e.image) || void 0 === r ? void 0 : r.src) !== i) {
                            var s = new Image;
                            s = new Image, s.crossOrigin = "anonymous", s.src = i, s.onload = function() {
                                e.image = s, t()
                            }, s.onerror = function() {
                                n()
                            }
                        } else t()
                    })
                }, n.prototype.getFill = function(t) {
                    return this.bgColor === s.ColorRange.BG_TRANSPARENT && null === this.imageUrl ? null : t.colorRange.getFill(this.bgColor, this.elColor)
                }, n.prototype.draw = function(t, e, n, r, i) {
                    var o = this.getFill(t);
                    if (e.save(), null !== n && n.setToContext2d(e), null != o) {
                        var s = a.Context2DManager.forTemp(e.canvas.width, 0 === r ? e.canvas.height : r);
                        if (o.toContext2d(s), s.fillRect(0, 0, s.canvas.width, s.canvas.height), null === this.imageUrl) return e.drawImage(s.canvas, 0, 0), void e.restore();
                        if (s.globalCompositeOperation = this.blendMode, null !== this.pattern) {
                            var u = s.createPattern(this.image, this.pattern);
                            s.fillStyle = u, s.fillRect(0, 0, s.canvas.width, s.canvas.height)
                        } else s.drawImage(this.image, 0, 0), s.globalCompositeOperation = "destination-in", s.drawImage(this.image, 0, 0);
                        s.restore(), e.drawImage(s.canvas, 0, 0)
                    } else null !== this.image && e.drawImage(this.image, 0, 0);
                    e.restore()
                }, n
            }(i.Layer);
        e.ImageLayer = u
    }).call(e, n(6))
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return "function" == typeof t
    }
    e.a = r
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return r
    });
    var r = function() {
        return "function" == typeof Symbol && Symbol.iterator ? Symbol.iterator : "@@iterator"
    }()
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return o
    });
    var r = n(0),
        i = n(219),
        o = function(t) {
            function e(e, n) {
                var r = t.call(this, e, n) || this;
                return r.scheduler = e, r.work = n, r.pending = !1, r
            }
            return r.a(e, t), e.prototype.schedule = function(t, e) {
                if (void 0 === e && (e = 0), this.closed) return this;
                this.state = t;
                var n = this.id,
                    r = this.scheduler;
                return null != n && (this.id = this.recycleAsyncId(r, n, e)), this.pending = !0, this.delay = e, this.id = this.id || this.requestAsyncId(r, this.id, e), this
            }, e.prototype.requestAsyncId = function(t, e, n) {
                return void 0 === n && (n = 0), setInterval(t.flush.bind(t, this), n)
            }, e.prototype.recycleAsyncId = function(t, e, n) {
                if (void 0 === n && (n = 0), null !== n && this.delay === n && !1 === this.pending) return e;
                clearInterval(e)
            }, e.prototype.execute = function(t, e) {
                if (this.closed) return new Error("executing a cancelled action");
                this.pending = !1;
                var n = this._execute(t, e);
                if (n) return n;
                !1 === this.pending && null != this.id && (this.id = this.recycleAsyncId(this.scheduler, this.id, null))
            }, e.prototype._execute = function(t, e) {
                var n = !1,
                    r = void 0;
                try {
                    this.work(t)
                } catch (t) {
                    n = !0, r = !!t && t || new Error(t)
                }
                if (n) return this.unsubscribe(), r
            }, e.prototype._unsubscribe = function() {
                var t = this.id,
                    e = this.scheduler,
                    n = e.actions,
                    r = n.indexOf(this);
                this.work = null, this.state = null, this.pending = !1, this.scheduler = null, -1 !== r && n.splice(r, 1), null != t && (this.id = this.recycleAsyncId(e, t, null)), this.delay = null
            }, e
        }(i.a)
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return o
    });
    var r = n(0),
        i = n(131),
        o = function(t) {
            function e(n, r) {
                void 0 === r && (r = i.a.now);
                var o = t.call(this, n, function() {
                    return e.delegate && e.delegate !== o ? e.delegate.now() : r()
                }) || this;
                return o.actions = [], o.active = !1, o.scheduled = void 0, o
            }
            return r.a(e, t), e.prototype.schedule = function(n, r, i) {
                return void 0 === r && (r = 0), e.delegate && e.delegate !== this ? e.delegate.schedule(n, r, i) : t.prototype.schedule.call(this, n, r, i)
            }, e.prototype.flush = function(t) {
                var e = this.actions;
                if (this.active) return void e.push(t);
                var n;
                this.active = !0;
                do {
                    if (n = t.execute(t.state, t.delay)) break
                } while (t = e.shift());
                if (this.active = !1, n) {
                    for (; t = e.shift();) t.unsubscribe();
                    throw n
                }
            }, e
        }(i.a)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return e ? Object(s.a)(t, e) : new i.a(Object(o.a)(t))
    }
    e.a = r;
    var i = n(2),
        o = n(128),
        s = n(86)
}, function(t, e, n) {
    "use strict";

    function r(t, e, n) {
        return void 0 === n && (n = Number.POSITIVE_INFINITY), "function" == typeof e ? function(i) {
            return i.pipe(r(function(n, r) {
                return Object(l.a)(t(n, r)).pipe(Object(u.a)(function(t, i) {
                    return e(n, t, r, i)
                }))
            }, n))
        } : ("number" == typeof e && (n = e), function(e) {
            return e.lift(new c(t, n))
        })
    }
    e.a = r;
    var i = n(0),
        o = n(4),
        s = n(3),
        a = n(30),
        u = n(17),
        l = n(23),
        c = function() {
            function t(t, e) {
                void 0 === e && (e = Number.POSITIVE_INFINITY), this.project = t, this.concurrent = e
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new h(t, this.project, this.concurrent))
            }, t
        }(),
        h = function(t) {
            function e(e, n, r) {
                void 0 === r && (r = Number.POSITIVE_INFINITY);
                var i = t.call(this, e) || this;
                return i.project = n, i.concurrent = r, i.hasCompleted = !1, i.buffer = [], i.active = 0, i.index = 0, i
            }
            return i.a(e, t), e.prototype._next = function(t) {
                this.active < this.concurrent ? this._tryNext(t) : this.buffer.push(t)
            }, e.prototype._tryNext = function(t) {
                var e, n = this.index++;
                try {
                    e = this.project(t, n)
                } catch (t) {
                    return void this.destination.error(t)
                }
                this.active++, this._innerSub(e, t, n)
            }, e.prototype._innerSub = function(t, e, n) {
                var r = new a.a(this, e, n),
                    i = this.destination;
                i.add(r);
                var s = Object(o.a)(this, t, void 0, void 0, r);
                s !== r && i.add(s)
            }, e.prototype._complete = function() {
                this.hasCompleted = !0, 0 === this.active && 0 === this.buffer.length && this.destination.complete(), this.unsubscribe()
            }, e.prototype.notifyNext = function(t, e, n, r, i) {
                this.destination.next(e)
            }, e.prototype.notifyComplete = function(t) {
                var e = this.buffer;
                this.remove(t), this.active--, e.length > 0 ? this._next(e.shift()) : 0 === this.active && this.hasCompleted && this.destination.complete()
            }, e
        }(s.a)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return void 0 === t && (t = null),
            function(e) {
                return e.lift(new s(t))
            }
    }
    e.a = r;
    var i = n(0),
        o = n(1),
        s = function() {
            function t(t) {
                this.defaultValue = t
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new a(t, this.defaultValue))
            }, t
        }(),
        a = function(t) {
            function e(e, n) {
                var r = t.call(this, e) || this;
                return r.defaultValue = n, r.isEmpty = !0, r
            }
            return i.a(e, t), e.prototype._next = function(t) {
                this.isEmpty = !1, this.destination.next(t)
            }, e.prototype._complete = function() {
                this.isEmpty && this.destination.next(this.defaultValue), this.destination.complete()
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return i
    });
    var r = function() {
            function t() {
                return Error.call(this), this.message = "argument out of range", this.name = "ArgumentOutOfRangeError", this
            }
            return t.prototype = Object.create(Error.prototype), t
        }(),
        i = r
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return i
    });
    var r = function() {
            function t() {
                return Error.call(this), this.message = "no elements in sequence", this.name = "EmptyError", this
            }
            return t.prototype = Object.create(Error.prototype), t
        }(),
        i = r
}, function(t, e, n) {
    "use strict";
    (function(t) {
        Object.defineProperty(e, "__esModule", {
            value: !0
        }), e.BrandProduct = void 0;
        var r = n(21),
            i = n(333),
            o = n(9),
            s = function() {
                function e() {
                    this.items = []
                }
                return Object.defineProperty(e, "TEXT_SIZE", {
                    get: function() {
                        return 24
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e, "BRAND_PRODUCT_URL", {
                    get: function() {
                        return ""
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e, "ADMIN_URL", {
                    get: function() {
                        return "/"
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.getSizeTypeMap = function() {
                    return null
                }, Object.defineProperty(e.prototype, "templates", {
                    get: function() {
                        return null
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "widthMm", {
                    get: function() {
                        return this.getSizeTypeMap()[this.sizeType].width
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "heightMm", {
                    get: function() {
                        return this.getSizeTypeMap()[this.sizeType].height
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "isTemplate", {
                    get: function() {
                        return null === this.template
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "adminUrl", {
                    get: function() {
                        return e.ADMIN_URL
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.getLogoItem = function(t) {
                    for (var e = null, n = 0, i = this.items; n < i.length; n++) {
                        var o = i[n];
                        if (o.type === r.BPItem.LOGO && o.group == t) {
                            e = o;
                            break
                        }
                    }
                    return e
                }, e.prototype.getItem = function(t) {
                    for (var e = null, n = 0, r = this.items; n < r.length; n++) {
                        var e = r[n];
                        if (e.type === t) {
                            e = e;
                            break
                        }
                    }
                    return e
                }, e.prototype.clone = function() {
                    return null
                }, e.prototype.isValid = function() {
                    var t = !0;
                    return 0 === this.items.length ? t = !1 : 1 === this.items.length && this.items[0].type === r.BPItem.TEXT && 0 === this.items[0].content.length && (t = !1), t
                }, e.prototype.getItemByTarget = function(t) {
                    var e = null;
                    if (null === t) return e;
                    for (var n = 0, r = this.items; n < r.length; n++) {
                        var i = r[n];
                        if (i.target === t) {
                            e = i;
                            break
                        }
                    }
                    return e
                }, e.getTemplateById = function(t, e) {
                    for (var n = null, r = 0, i = e; r < i.length; r++) {
                        var o = i[r];
                        if (o.id === t) {
                            n = o;
                            break
                        }
                    }
                    return n
                }, e.prototype.usedFonts = function() {
                    for (var t = [], e = 0, n = this.items; e < n.length; e++) {
                        var i = n[e];
                        switch (i.type) {
                            case r.BPItem.TEXT:
                                -1 === t.indexOf(i.font.id) && t.push(i.font.id);
                                break;
                            case r.BPItem.LOGO:
                                if (!this.isTemplate)
                                    for (var o = 0, s = i.logo.usedFonts(); o < s.length; o++) {
                                        var a = s[o]; - 1 === t.indexOf(a) && t.push(a)
                                    }
                        }
                    }
                    return t
                }, e.prototype.update = function() {}, e.prototype.save = function() {}, e.prototype.saveTemplate = function() {}, e.create = function(t, e, n) {
                    void 0 === n && (n = null);
                    var o = e.clone(),
                        s = i.BrandProductBuilder.getInstance();
                    o.id = null, o.template = null !== e.template ? e.template : e, o.sizeType = e.sizeType, o.brandId = t.id, o.brand = t;
                    for (var a = 0, u = o.items; a < u.length; a++) {
                        var l = u[a];
                        switch (l.type) {
                            case r.BPItem.TEXT:
                                s.buildTextItem(t, l, n);
                                break;
                            case r.BPItem.LOGO:
                                s.buildLogoItem(t, l, n);
                                break;
                            case r.BPItem.SVG:
                            case r.BPItem.CUSTOM_SVG:
                                s.buildSvgItem(t, l, n);
                                break;
                            case r.BPItem.Image:
                                s.buildImageItem(t, l, n)
                        }
                    }
                    return o
                }, e.createBrandProducts = function(n, r, i, o, s, a) {
                    return void 0 === o && (o = null), void 0 === s && (s = null), void 0 === a && (a = null), i(r, o, s, a).then(function(r) {
                        for (var i = [], o = 0, s = r; o < s.length; o++) {
                            var a = s[o];
                            i.push(e.create(n, a))
                        }
                        return new t(function(t, e) {
                            t(i)
                        })
                    })
                }, e.prototype.getProductBG = function() {
                    return o.ColorRange.BG_WHITE
                }, e.prototype.loadDynamic = function(e, n) {
                    void 0 === e && (e = null), void 0 === n && (n = 1);
                    for (var r = [], i = 0, o = this.items; i < o.length; i++) {
                        var s = o[i];
                        r.push(s.loadDynamic(e, n))
                    }
                    return t.all(r)
                }, e
            }();
        e.BrandProduct = s
    }).call(e, n(6))
}, function(t, e, n) {
    "use strict";
    (function(t) {
        var r = this && this.__extends || function() {
            var t = function(e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                    })(e, n)
            };
            return function(e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }();
        Object.defineProperty(e, "__esModule", {
            value: !0
        }), e.LogoLayer = void 0;
        var i = n(57),
            o = function(e) {
                function n(t) {
                    var n = e.call(this) || this;
                    return n.type = i.LayerType.Logo, n.items = t, n
                }
                return r(n, e), n.prototype.loadDynamic = function(e) {
                    for (var n = [], r = 0, i = this.items; r < i.length; r++) {
                        var o = i[r];
                        n.push(o.loadDynamic(e))
                    }
                    return t.all(n)
                }, n.prototype.draw = function(t, e, n, r, i) {
                    for (var o = 0, s = this.items; o < s.length; o++) {
                        var a = s[o];
                        a.setCanvasScale(this.canvasScale), a.draw(t, e, n, i)
                    }
                }, n
            }(i.Layer);
        e.LogoLayer = o
    }).call(e, n(6))
}, function(t, e) {
    function n(t) {
        return "number" == typeof t && t > -1 && t % 1 == 0 && t <= r
    }
    var r = 9007199254740991;
    t.exports = n
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.TextTransform = void 0;
    var r = function() {
        function t() {}
        return t.transform = function(e, n) {
            switch (n) {
                case t.UPPERCASE:
                    return e.toUpperCase();
                case t.LOWERCASE:
                    return e.toLowerCase();
                case t.CAPITALIZE:
                    return e.charAt(0).toUpperCase() + e.substr(1).toLowerCase();
                default:
                    return e
            }
        }, t.detectTransform = function(e) {
            for (var n = t.NONE, r = !1, i = !1, o = !1, s = 0; s < e.length; s++) {
                var a = e[s];
                a === a.toUpperCase() ? 0 === s ? o = !0 : i = !0 : r = !0
            }
            return o && !i ? n = t.CAPITALIZE : o && !r ? n = t.UPPERCASE : !r || o || i || (n = t.LOWERCASE), n
        }, t.NONE = "", t.LOWERCASE = "L", t.UPPERCASE = "U", t.CAPITALIZE = "C", t
    }();
    e.TextTransform = r
}, function(t, e, n) {
    "use strict";
    (function(t, r) {
        var i = this && this.__extends || function() {
            var t = function(e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                    })(e, n)
            };
            return function(e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }();
        Object.defineProperty(e, "__esModule", {
            value: !0
        }), e.BusinessCard = e.PrintService = void 0;
        var o = n(51),
            s = n(21),
            a = n(99),
            u = n(108),
            l = n(111),
            c = n(13),
            h = n(60);
        ! function(t) {
            t[t.Default = 0] = "Default", t[t.Zazzle = 1] = "Zazzle", t[t.Wolf = 2] = "Wolf"
        }(e.PrintService || (e.PrintService = {}));
        var f = function(e) {
            function n() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.hasMirrorSides = !1, t._itemsFront = [], t._itemsBack = [], t
            }
            return i(n, e), Object.defineProperty(n, "BRAND_PRODUCT_URL", {
                get: function() {
                    return c.Site.MAIN_URL + "/v3/brands/{id}/bizcards/"
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(n, "SERVICE_URL", {
                get: function() {
                    return c.Site.MAIN_URL + "/v3/js/brand/{brandId}/business-card/"
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(n, "TEMPLATE_SERVICE_URL", {
                get: function() {
                    return c.Site.MAIN_URL + "/v3/js/business-card-template/"
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(n, "ADD_TEMPLATE_URL", {
                get: function() {
                    return c.Site.MAIN_URL + "/v3/js/add-business-card-template/"
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(n.prototype, "templates", {
                get: function() {
                    return n.templates
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(n, "baseSize", {
                get: function() {
                    return n.SIZE_TYPE_MAP[1]
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(n, "base300dpiSize", {
                get: function() {
                    return {
                        width: Math.round(300 * n.baseSize.width / 25.4),
                        height: Math.round(300 * n.baseSize.height / 25.4)
                    }
                },
                enumerable: !1,
                configurable: !0
            }), n.prototype.getItemsBySide = function(t) {
                return t == n.FRONT_SIDE ? this.itemsFront : t == n.BACK_SIDE ? this.itemsBack : void 0
            }, Object.defineProperty(n.prototype, "itemsFront", {
                get: function() {
                    if (0 === this._itemsFront.length)
                        for (var t = 0, e = this.items; t < e.length; t++) {
                            var r = e[t];
                            r.group == n.FRONT_SIDE && this._itemsFront.push(r)
                        }
                    return this._itemsFront
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(n.prototype, "itemsBack", {
                get: function() {
                    if (0 === this._itemsBack.length)
                        for (var t = 0, e = this.items; t < e.length; t++) {
                            var r = e[t];
                            r.group == n.BACK_SIDE && this._itemsBack.push(r)
                        }
                    return this._itemsBack
                },
                enumerable: !1,
                configurable: !0
            }), n.prototype.getSizeTypeMap = function() {
                return n.SIZE_TYPE_MAP
            }, n.prototype.serialize = function() {
                for (var t = {
                        id: this.id,
                        brandId: this.brandId,
                        templateId: null !== this.template ? this.template.id : null,
                        text: this.text,
                        sizeType: this.sizeType,
                        items: []
                    }, e = 0, n = this.items; e < n.length; e++) {
                    var r = n[e],
                        i = r.serialize();
                    t.items.push(i)
                }
                return JSON.stringify(t)
            }, n.prototype.save = function() {
                var e = this;
                return new t(function(t, i) {
                    r.ajax({
                        type: "POST",
                        url: n.SERVICE_URL.replace("{brandId}", "" + e.brandId),
                        dataType: "json",
                        data: e.serialize(),
                        success: function(n) {
                            e.id = n.id, t(e)
                        }
                    })
                })
            }, n.prototype.saveTemplate = function() {
                if (!this.isTemplate) return new t(function(t, e) {
                    e(this)
                });
                var e = this;
                return new t(function(t, i) {
                    r.ajax({
                        type: "POST",
                        url: n.ADD_TEMPLATE_URL,
                        dataType: "json",
                        data: e.serialize(),
                        success: function(n) {
                            e.id = n.id, t(e)
                        }
                    })
                })
            }, n.prototype.update = function() {
                var e = this;
                return new t(function(t, r) {
                    var i = n.SERVICE_URL.replace("{brandId}", "" + e.brandId) + (e.id + "/");
                    (new h.BrandManager).updateProduct(e, i).subscribe(function(n) {
                        var r = n.id;
                        e.id = r, t(e)
                    })
                })
            }, n.deserialize = function(t, e) {
                if (void 0 === e && (e = null), null === t) return null;
                var r;
                if (0 == t.items.length && null !== t.template) {
                    var i = n.deserialize(t.template);
                    r = n.create(e, i)
                } else r = new n;
                r.id = t.id, r.brandId = t.brandId, r.brand = e, r.template = this.deserialize(t.template), r.text = t.text, r.number = t.number, r.sizeType = t.sizeType;
                for (var o = 0, c = t.items; o < c.length; o++) {
                    var h = c[o],
                        f = null;
                    switch (h.type) {
                        case s.BPItem.SVG:
                            f = a.BPSvgItem.deserialize(h);
                            break;
                        case s.BPItem.TEXT:
                            f = u.BPTextItem.deserialize(h);
                            break;
                        case s.BPItem.LOGO:
                            f = l.BPLogoItem.deserialize(h)
                    }
                    f.product = r, r.items.push(f)
                }
                return r
            }, n.prototype.clone = function() {
                var t = new n;
                t.id = this.id, t.brandId = this.brandId, t.brand = this.brand, t.template = this.template, t.text = this.text, t.number = this.number, t.sizeType = this.sizeType;
                for (var e = 0, r = this.items; e < r.length; e++) {
                    var i = r[e],
                        o = i.clone();
                    o.product = t, t.items.push(o)
                }
                return t
            }, n.loadTemplates = function(e, i) {
                void 0 === i && (i = null);
                for (var o = [], s = 0, a = n.templates; s < a.length; s++) {
                    var u = a[s];
                    o.push(u.id)
                }
                var l = {
                    lti: o,
                    neededCount: e
                };
                return new t(function(t, e) {
                    r.ajax({
                        type: "GET",
                        url: n.TEMPLATE_SERVICE_URL,
                        dataType: "json",
                        data: l,
                        success: function(e) {
                            for (var r = [], i = 0, o = e; i < o.length; i++) {
                                var s = o[i],
                                    a = n.deserialize(s);
                                r.push(a), n.templates.push(a)
                            }
                            t(r)
                        }
                    })
                })
            }, n.FRONT_SIDE = 1, n.BACK_SIDE = 2, n.templates = [], n.SIZE_TYPE_MAP = {
                1: {
                    width: 90,
                    height: 50
                }
            }, n
        }(o.BrandProduct);
        e.BusinessCard = f
    }).call(e, n(6), n(5))
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.BaseSvgExporter = void 0;
    var r = n(5),
        i = n(170),
        o = function() {
            function t() {}
            return t.changeEmblemAppearance = function(e, n) {
                if (null == e || "" == e || !n) return e;
                for (var i = r.parseXML(e), o = null, s = null, a = !1, u = 0; u < i.childNodes.length; u++) {
                    var l = i.childNodes[u];
                    if (l.nodeType == document.ELEMENT_NODE && "svg" == l.nodeName.toLowerCase()) {
                        var c = void 0;
                        o = l;
                        for (var h = 0; h < l.childNodes.length; h++)
                            if (c = l.childNodes[h], c.nodeType == document.ELEMENT_NODE && "defs" == c.nodeName.toLowerCase()) {
                                s = c, a = !0;
                                break
                            } null === s && (s = document.createElementNS("http://www.w3.org/2000/svg", "defs"));
                        for (var f = 0; f < l.childNodes.length; f++) c = l.childNodes[f], c.nodeType == document.ELEMENT_NODE && "g" == c.nodeName.toLowerCase() && t.changeComponentAppearance(s, c, n)
                    }
                }
                return o && (0 == s.childNodes.length && a ? s.remove() : s.childNodes.length > 0 && !a && o.insertBefore(s, o.firstChild)), (new XMLSerializer).serializeToString(i)
            }, t.changeComponentAppearance = function(e, n, r) {
                if (null != n)
                    for (var i = 0; i < n.childNodes.length; i++) {
                        var o = n.childNodes[i],
                            s = o.nodeName.toLowerCase();
                        o.nodeType == document.ELEMENT_NODE && ("g" == s ? t.changeComponentAppearance(e, o, r) : o.getAttribute("id") && "svg" != s && r.toSvg(o, e))
                    }
            }, t.createGradientXml = function(t, e) {
                var n = null;
                if (null == e) return n;
                n = e instanceof i.LinearGradientFill ? document.createElementNS("http://www.w3.org/2000/svg", "linearGradient") : document.createElementNS("http://www.w3.org/2000/svg", "radialGradient"), n.setAttribute("id", t), n.setAttribute("gradientUnits", "objectBoundingBox"), n.setAttribute("gradientTransform", "rotate(" + e.angle + ")");
                for (var r = 0; r < e.entries.length; r++) {
                    var o = e.entries[r],
                        s = document.createElementNS("http://www.w3.org/2000/svg", "stop");
                    s.setAttribute("offset", o.ratio.toString()), s.setAttribute("stop-color", "#" + o.color), n.appendChild(s)
                }
                return n
            }, t.elementNodesIds = function(t) {
                if (null == t || "" == t) return [];
                var e = ["svg", "style", "defs", "g"],
                    n = r.parseXML(t),
                    i = [];
                return r(n).find("[id]").each(function(t, n) {
                    e.indexOf(n.tagName) < 0 && i.push(n.getAttribute("id"))
                }), i
            }, t.changeEmblemAppearanceMC = function(e, n, i) {
                if (null == e || "" == e) return e;
                for (var o = r.parseXML(e), s = null, a = null, u = !1, l = 0; l < o.childNodes.length; l++) {
                    var c = o.childNodes[l];
                    if (c.nodeType == document.ELEMENT_NODE && "svg" == c.nodeName.toLowerCase()) {
                        var h = void 0;
                        s = c;
                        for (var f = 0; f < c.childNodes.length; f++)
                            if (h = c.childNodes[f], h.nodeType == document.ELEMENT_NODE && "defs" == h.nodeName.toLowerCase()) {
                                a = h, u = !0;
                                break
                            } null === a && (a = document.createElementNS("http://www.w3.org/2000/svg", "defs"));
                        for (var p = 0; p < c.childNodes.length; p++) h = c.childNodes[p], h.nodeType == document.ELEMENT_NODE && "g" == h.nodeName.toLowerCase() && t.changeComponentAppearanceMC(a, h, n, i)
                    }
                }
                return s && (0 == a.childNodes.length && u ? a.remove() : a.childNodes.length > 0 && !u && s.insertBefore(a, s.firstChild)), (new XMLSerializer).serializeToString(o)
            }, t.changeComponentAppearanceMC = function(e, n, r, i) {
                if (null != n)
                    for (var o = 0; o < n.childNodes.length; o++) {
                        var s = n.childNodes[o],
                            a = s.nodeName.toLowerCase();
                        if (s.nodeType == document.ELEMENT_NODE) {
                            var u = s.getAttribute("id");
                            "g" == a ? t.changeComponentAppearanceMC(e, s, r, i) : u && "svg" != a && r.getShapeFill(u, i).toSvg(s, e)
                        }
                    }
            }, t
        }();
    e.BaseSvgExporter = o
}, function(t, e, n) {
    "use strict";
    (function(t) {
        Object.defineProperty(e, "__esModule", {
            value: !0
        }), e.Layer = e.LayerType = void 0;
        var r, i = n(13),
            o = n(7);
        ! function(t) {
            t[t.Any = 0] = "Any", t[t.Logo = 1] = "Logo", t[t.BusinessCard = 2] = "BusinessCard", t[t.SocialProduct = 3] = "SocialProduct"
        }(r = e.LayerType || (e.LayerType = {}));
        var s = function() {
            function e() {
                this.type = r.Any, this.width = 0, this.height = 0, this.canvasScale = 1
            }
            return e.prototype.setCanvasScale = function(t) {
                this.canvasScale = t
            }, e.prototype.getFullUrl = function(t) {
                return i.Site.STATIC_ROOT_URL + "/static/v3/showcase/" + t
            }, e.prototype.load = function() {
                return t.resolve()
            }, e.prototype.loadDynamic = function(e) {
                return t.resolve()
            }, e.prototype.draw = function(t, e, n, r, i, o) {}, e.prototype.update = function(t, e, n) {
                void 0 === n && (n = null)
            }, e.prototype.reset = function() {}, e.prototype.clearContext2d = function(t) {
                o.Matrix.resetContext2d(t), t.clearRect(0, 0, t.canvas.width, t.canvas.height)
            }, e
        }();
        e.Layer = s
    }).call(e, n(6))
}, function(t, e, n) {
    "use strict";
    var r = this && this.__extends || function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                })(e, n)
        };
        return function(e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.TextMaths = void 0;
    var i = n(20),
        o = n(7),
        s = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.kerning = 0, e
            }
            return r(e, t), e.prototype.serialize = function() {
                var t = this.matrix.serialize();
                return 0 !== this.kerning && (t += ";" + this.kerning), t
            }, e.deserialize = function(t) {
                var n = new e,
                    r = t.split(";");
                return n.matrix = o.Matrix.deserialize(r[0]), void 0 !== r[1] && (n.kerning = Number(r[1])), n
            }, e.prototype.clone = function() {
                var t = new e;
                return t.matrix = this.matrix.clone(), t.kerning = this.kerning, t
            }, e.prototype.equals = function(e) {
                return t.prototype.equals.call(this, e) && this.kerning === e.kerning
            }, e
        }(i.Maths);
    e.TextMaths = s
}, function(t, e, n) {
    "use strict";
    var r = this && this.__extends || function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                })(e, n)
        };
        return function(e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.LineMaths = void 0;
    var i = n(20),
        o = n(7),
        s = n(25),
        a = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.p1 = null, e.p2 = null, e.lineWidth = 1, e
            }
            return r(e, t), e.prototype.serialize = function() {
                return this.p1.round(), this.p2.round(), this.matrix.serialize() + ";" + this.lineWidth + ";" + this.p1.x + ";" + this.p1.y + ";" + this.p2.x + ";" + this.p2.y
            }, e.deserialize = function(t) {
                var n = new e,
                    r = t.split(";");
                return n.matrix = o.Matrix.deserialize(r[0]), n.lineWidth = Number(r[1]), n.p1 = new s.Point(Number(r[2]), Number(r[3])), n.p2 = new s.Point(Number(r[4]), Number(r[5])), n
            }, e.prototype.clone = function() {
                var t = new e;
                return t.matrix = this.matrix.clone(), t.p1 = this.p1.clone(), t.p2 = this.p2.clone(), t.lineWidth = this.lineWidth, t
            }, e.prototype.equals = function(e) {
                return t.prototype.equals.call(this, e) && this.p1.equals(e.p1) && this.p2.equals(e.p2) && this.lineWidth === e.lineWidth
            }, e
        }(i.Maths);
    e.LineMaths = a
}, function(t, e, n) {
    "use strict";
    var r = this && this.__extends || function() {
            var t = function(e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                    })(e, n)
            };
            return function(e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }(),
        i = this && this.__assign || function() {
            return i = Object.assign || function(t) {
                for (var e, n = 1, r = arguments.length; n < r; n++) {
                    e = arguments[n];
                    for (var i in e) Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
                }
                return t
            }, i.apply(this, arguments)
        },
        o = this && this.__rest || function(t, e) {
            var n = {};
            for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && e.indexOf(r) < 0 && (n[r] = t[r]);
            if (null != t && "function" == typeof Object.getOwnPropertySymbols)
                for (var i = 0, r = Object.getOwnPropertySymbols(t); i < r.length; i++) e.indexOf(r[i]) < 0 && Object.prototype.propertyIsEnumerable.call(t, r[i]) && (n[r[i]] = t[r[i]]);
            return n
        },
        s = this && this.__spreadArrays || function() {
            for (var t = 0, e = 0, n = arguments.length; e < n; e++) t += arguments[e].length;
            for (var r = Array(t), i = 0, e = 0; e < n; e++)
                for (var o = arguments[e], s = 0, a = o.length; s < a; s++, i++) r[i] = o[s];
            return r
        };
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.BrandManager = void 0;
    var a = n(210),
        u = n(313),
        l = n(314),
        c = n(126),
        h = n(55),
        f = n(8),
        p = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.storageKey = "index", e
            }
            return r(e, t), e.prototype.canGetLocal = function(t, e) {
                void 0 === e && (e = !1);
                var n = this.getStorage(),
                    r = e ? "bc" : "brands";
                return !(!n || !n[r]) && -1 !== n[r].indexOf(t)
            }, e.prototype.get = function(e, n) {
                if (void 0 === n && (n = !1), n) {
                    var r = e + "_o",
                        i = u.StorageService.getItem(r);
                    return i ? l.of(i) : this.get(e)
                }
                var o = e + "_n",
                    i = u.StorageService.getItem(o);
                return i ? l.of(u.StorageService.getItem(o)) : t.prototype.get.call(this, e).pipe(c.tap(function(t) {
                    u.StorageService.setItem(o, t)
                }))
            }, e.prototype.getBusinessCard = function(e) {
                var n = this,
                    r = e + "_bc";
                return this.canGetLocal(e, !0) ? l.of(u.StorageService.getItem(r)) : t.prototype.getBusinessCard.call(this, e).pipe(c.tap(function(t) {
                    u.StorageService.setItem(r, t);
                    var a = n.getStorage(),
                        l = a.bc,
                        c = o(a, ["bc"]);
                    u.StorageService.setItem(n.storageKey, i({
                        bc: s(l, [+e])
                    }, c))
                }))
            }, e.prototype.getAll = function(e) {
                var n = this;
                void 0 === e && (e = !1);
                var r = this.getStorage().brands;
                return 0 === r.length || e ? t.prototype.getAll.call(this).pipe(c.tap(function(t) {
                    return n.brandToIds(t)
                })) : l.from(r).pipe(c.concatMap(function(t) {
                    return n.get(t, !0)
                }), c.map(function(t) {
                    return t.id ? t : t.brand[0]
                }), c.toArray())
            }, e.prototype.initData = function() {
                var e = this;
                return t.prototype.initData.call(this).pipe(c.tap(function(t) {
                    if (e.hash !== t.brandsHash) e.purgeStorage(), e.hash = t.brandsHash;
                    else {
                        var n = u.StorageService.getItem(e.storageKey);
                        if (n && n.brands)
                            for (var r = 0, i = n.brands; r < i.length; r++) {
                                var o = i[r];
                                if (t.brandIds.indexOf(o) < 0) {
                                    e.purgeStorage();
                                    break
                                }
                            }
                    }
                }))
            }, e.prototype.delete = function(e) {
                var n = this;
                return t.prototype.delete.call(this, e, this.hash).pipe(c.tap(function(t) {
                    if (t.hashOk) {
                        var r = n.getStorage(),
                            s = r.brands,
                            a = o(r, ["brands"]);
                        s = s.filter(function(t) {
                            return t !== e
                        }), u.StorageService.removeItem(e + "_o"), u.StorageService.removeItem(e + "_n"), n.hash = t.hash, u.StorageService.setItem(n.storageKey, i({
                            brands: s
                        }, a))
                    } else n.purgeStorage(), n.hash = t.hash
                }))
            }, e.prototype.deleteBrandFromStorage = function(t) {
                u.StorageService.removeItem(t + "_o"), u.StorageService.removeItem(t + "_n")
            }, e.prototype.clone = function(e) {
                var n = this;
                return t.prototype.clone.call(this, e, this.hash).pipe(c.tap(function(t) {
                    if (t.hashOk) {
                        var e = n.getStorage(),
                            r = e.brands,
                            a = o(e, ["brands"]);
                        u.StorageService.setItem(n.storageKey, i({
                            brands: s([t.brand.id], r)
                        }, a)), n.hash = t.hash
                    } else n.purgeStorage(), n.hash = t.hash
                }))
            }, e.prototype.update = function(e, n) {
                return t.prototype.update.call(this, e, n).pipe(c.map(function() {
                    return localStorage.removeItem(e + "_o"), localStorage.removeItem(e + "_n"), e
                }))
            }, e.prototype.updateProduct = function(e, n) {
                var r = this;
                return t.prototype.updateProduct.call(this, e, n).pipe(c.tap(function() {
                    if (e instanceof h.BusinessCard) {
                        localStorage.removeItem(e.brandId + "_bc");
                        var t = r.getStorage(),
                            n = t.bc,
                            s = o(t, ["bc"]),
                            a = n.filter(function(t) {
                                return t !== e.brandId
                            });
                        u.StorageService.setItem(r.storageKey, i(i({}, s), {
                            bc: a
                        }))
                    } else localStorage.removeItem(e.brandId + "_n")
                }))
            }, e.prototype.create = function(e) {
                var n = this;
                return t.prototype.create.call(this, e).pipe(c.tap(function(t) {
                    var r = t.id,
                        a = t.hash,
                        l = n.getStorage(),
                        c = l.brands,
                        h = o(l, ["brands"]);
                    0 !== c.length && e.status !== f.Logo.STATUS_FAVORITE && u.StorageService.setItem(n.storageKey, i({
                        brands: s([r], c)
                    }, h)), n.hash = a
                }))
            }, e.prototype.brandToIds = function(t) {
                var e = [];
                t.forEach(function(t) {
                    var n = t.id,
                        r = n + "_o";
                    e.push(n), u.StorageService.setItem(r, t)
                });
                var n = this.getStorage(),
                    r = i(i({}, n), {
                        brands: e,
                        bc: []
                    });
                u.StorageService.setItem(this.storageKey, r)
            }, e.prototype.getStorage = function() {
                var t = u.StorageService.getItem(this.storageKey);
                return t || (t = {
                    brands: [],
                    bc: []
                }), t
            }, Object.defineProperty(e.prototype, "hash", {
                get: function() {
                    return JSON.parse(localStorage.getItem("hash"))
                },
                set: function(t) {
                    u.StorageService.setItem("hash", t)
                },
                enumerable: !1,
                configurable: !0
            }), e.prototype.purgeStorage = function() {
                u.StorageService.purgeStorage()
            }, e.prototype.actualizeStorage = function(t) {
                this.hash !== t && this.purgeStorage()
            }, e
        }(a.BrandHttpManager);
    e.BrandManager = p
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return i
    });
    var r = !1,
        i = {
            Promise: void 0,
            set useDeprecatedSynchronousErrorHandling(t) {
                if (t) {
                    (new Error).stack
                }
                r = t
            },
            get useDeprecatedSynchronousErrorHandling() {
                return r
            }
        }
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return !Object(i.a)(t) && t - parseFloat(t) + 1 >= 0
    }
    e.a = r;
    var i = n(15)
}, function(t, e, n) {
    "use strict";

    function r() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        return Object(o.a)()(i.a.apply(void 0, t))
    }
    e.a = r;
    var i = n(64),
        o = n(134)
}, function(t, e, n) {
    "use strict";

    function r() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        var n = t[t.length - 1];
        return Object(i.a)(n) ? (t.pop(), Object(s.a)(t, n)) : Object(o.a)(t)
    }
    e.a = r;
    var i = n(22),
        o = n(46),
        s = n(86)
}, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return r
    }), n.d(e, "a", function() {
        return a
    });
    var r, i = n(24),
        o = n(64),
        s = n(88);
    r || (r = {});
    var a = function() {
        function t(t, e, n) {
            this.kind = t, this.value = e, this.error = n, this.hasValue = "N" === t
        }
        return t.prototype.observe = function(t) {
            switch (this.kind) {
                case "N":
                    return t.next && t.next(this.value);
                case "E":
                    return t.error && t.error(this.error);
                case "C":
                    return t.complete && t.complete()
            }
        }, t.prototype.do = function(t, e, n) {
            switch (this.kind) {
                case "N":
                    return t && t(this.value);
                case "E":
                    return e && e(this.error);
                case "C":
                    return n && n()
            }
        }, t.prototype.accept = function(t, e, n) {
            return t && "function" == typeof t.next ? this.observe(t) : this.do(t, e, n)
        }, t.prototype.toObservable = function() {
            switch (this.kind) {
                case "N":
                    return Object(o.a)(this.value);
                case "E":
                    return Object(s.a)(this.error);
                case "C":
                    return Object(i.b)()
            }
            throw new Error("unexpected notification kind value")
        }, t.createNext = function(e) {
            return void 0 !== e ? new t("N", e) : t.undefinedValueNotification
        }, t.createError = function(e) {
            return new t("E", void 0, e)
        }, t.createComplete = function() {
            return t.completeNotification
        }, t.completeNotification = new t("C"), t.undefinedValueNotification = new t("N", void 0), t
    }()
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return void 0 === t && (t = i),
            function(e) {
                return e.lift(new u(t))
            }
    }

    function i() {
        return new s.a
    }
    e.a = r;
    var o = n(0),
        s = n(50),
        a = n(1),
        u = function() {
            function t(t) {
                this.errorFactory = t
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new l(t, this.errorFactory))
            }, t
        }(),
        l = function(t) {
            function e(e, n) {
                var r = t.call(this, e) || this;
                return r.errorFactory = n, r.hasValue = !1, r
            }
            return o.a(e, t), e.prototype._next = function(t) {
                this.hasValue = !0, this.destination.next(t)
            }, e.prototype._complete = function() {
                if (this.hasValue) return this.destination.complete();
                var t = void 0;
                try {
                    t = this.errorFactory()
                } catch (e) {
                    t = e
                }
                this.destination.error(t)
            }, e
        }(a.a)
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return i
    });
    var r = function() {
            function t() {
                return Error.call(this), this.message = "object unsubscribed", this.name = "ObjectUnsubscribedError", this
            }
            return t.prototype = Object.create(Error.prototype), t
        }(),
        i = r
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return arguments.length >= 2 ? function(n) {
            return Object(a.a)(Object(i.a)(t, e), Object(o.a)(1), Object(s.a)(e))(n)
        } : function(e) {
            return Object(a.a)(Object(i.a)(function(e, n, r) {
                return t(e, n, r + 1)
            }), Object(o.a)(1))(e)
        }
    }
    e.a = r;
    var i = n(91),
        o = n(90),
        s = n(48),
        a = n(83)
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return s
    });
    var r = n(0),
        i = n(12),
        o = n(10),
        s = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.value = null, e.hasNext = !1, e.hasCompleted = !1, e
            }
            return r.a(e, t), e.prototype._subscribe = function(e) {
                return this.hasError ? (e.error(this.thrownError), o.a.EMPTY) : this.hasCompleted && this.hasNext ? (e.next(this.value), e.complete(), o.a.EMPTY) : t.prototype._subscribe.call(this, e)
            }, e.prototype.next = function(t) {
                this.hasCompleted || (this.value = t, this.hasNext = !0)
            }, e.prototype.error = function(e) {
                this.hasCompleted || t.prototype.error.call(this, e)
            }, e.prototype.complete = function() {
                this.hasCompleted = !0, this.hasNext && t.prototype.next.call(this, this.value), t.prototype.complete.call(this)
            }, e
        }(i.a)
}, function(t, e, n) {
    "use strict";
    (function(t) {
        Object.defineProperty(e, "__esModule", {
            value: !0
        }), e.Presentation = void 0;
        var r = n(7),
            i = n(355),
            o = function() {
                function e() {
                    this.contextMenu = null, this._showcases = null, this._textMap = null, this.brands = null
                }
                return Object.defineProperty(e.prototype, "showcases", {
                    get: function() {
                        return null !== this._showcases ? this._showcases : (this._showcases = this.getShowcases(), this._showcases)
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.generateShowcase = function(t) {
                    return null
                }, e.prototype.generatePreviewShowcase = function(t) {
                    return null
                }, e.prototype.getShowcases = function() {
                    return null
                }, e.prototype.getPreviewShowcases = function() {
                    return null
                }, e.prototype.getProductShowcases = function() {
                    return null
                }, e.prototype.textMap = function(t, e) {
                    return null
                }, e.prototype.draw = function(e, n) {
                    var o = new r.Matrix,
                        s = [],
                        a = this.showcases.map(function(t) {
                            return t.canvasRef
                        });
                    this.contextMenu = new i.PopupContextMenu(e, a);
                    for (var u = 0, l = this.showcases; u < l.length; u++) {
                        var c = l[u];
                        s.push(c.draw(e, n, o, this.textMap(e))), o.translate(0, c.height)
                    }
                    return t.all(s)
                }, e.prototype.update = function(t, e) {
                    for (var n = 0, r = this.showcases; n < r.length; n++) {
                        r[n].update(t, e)
                    }
                }, e.prototype.reset = function() {
                    for (var t = 0, e = this.showcases; t < e.length; t++) {
                        e[t].reset()
                    }
                }, e.prototype.get = function(t) {
                    for (var e = 0, n = this.showcases; e < n.length; e++) {
                        var r = n[e];
                        if (r.canvasRef === t) return r
                    }
                    throw new Error("No showcase by passed scref: " + t)
                }, e.prototype.getLogoShowcase = function(t, e, n) {
                    return null
                }, e.prototype.preloadImageLayers = function() {}, e.key = "[Presentation]", e
            }();
        e.Presentation = o
    }).call(e, n(6))
}, function(t, e, n) {
    "use strict";
    var r = this && this.__extends || function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                })(e, n)
        };
        return function(e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.SvgIcon = void 0;
    var i = n(110),
        o = n(56),
        s = n(39),
        a = n(19),
        u = n(14),
        l = n(20),
        c = n(11),
        h = n(204),
        f = function(t) {
            function e() {
                var n = t.call(this) || this;
                return n.id = null, n.iconId = null, n._svg = null, n.shape = 0, n.emblemType = e.EMBLEM, n.nounOffset = 0, n.text = "", n._shapesIds = null, n.type = a.LogoItem.SVG_ICON, n
            }
            return r(e, t), Object.defineProperty(e.prototype, "svg", {
                get: function() {
                    return this._svg
                },
                set: function(t) {
                    var e = !0;
                    null !== this._svg && this._svg !== t || (e = !1), this._svg = t, e && (this._shapesIds = null, null !== this.fill && this.fill.type === c.Fill.MULTI_COLOR_FILL && (this.fill = null))
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "shapesIds", {
                get: function() {
                    return null === this._shapesIds && (this._shapesIds = o.BaseSvgExporter.elementNodesIds(this.svg)), this._shapesIds
                },
                enumerable: !1,
                configurable: !0
            }), e.prototype.setSvgContentString = function(t) {
                if ("" === t) return void(this.svg = "");
                for (var e = window.atob(t), n = e.split(""), r = 0; r < n.length; r++) n[r] = n[r].charCodeAt(0);
                this.svg = i.inflate(n, {
                    to: "string"
                })
            }, e.prototype.serialize = function() {
                var t = this.iconId;
                this.emblemType == e.NOUN_ICON ? t = e.NOUN_EMBLEM_ID : this.emblemType == e.USER_ICON ? t = e.UPLOADED_EMBLEM_ID : this.emblemType == e.PRIMITIVE && (t = e.PRIMITIVE_ID);
                var n = {
                    id: this.id,
                    type: this.type,
                    group: this.group,
                    fill: c.Fill.serialize(this.fill),
                    maths: this.maths.serialize(),
                    emblemId: t,
                    blendMode: this.blendMode,
                    text: this.emblemType == e.NOUN_ICON || this.emblemType == e.USER_ICON ? this.text : null
                };
                return JSON.stringify(n)
            }, e.prototype.serializeEmblem = function() {
                return {
                    id: this.emblemType == e.NOUN_ICON || this.emblemType == e.USER_ICON ? parseInt(this.text) : this.iconId,
                    content: this.svg,
                    bounds: this.bounds.serializeBounds(),
                    emblemType: this.emblemType,
                    shape: e.calculateShape(this.bounds),
                    thickness: this.thickness,
                    fillRatio: this.fillRatio,
                    thicknessType: this.thicknessType
                }
            }, e.calculateShape = function(t) {
                var e = t.width / t.height;
                return e >= .55 && e < .9 ? s.Proportion.Vertical : e >= .9 && e <= 1.1 ? s.Proportion.Square : e > 1.1 && e <= 1.8 ? s.Proportion.Horizontal : s.Proportion.NotDefined
            }, e.deserialize = function(t) {
                if (null === t) return null;
                var n = new e;
                n.id = t.i, n.group = t.g;
                var r = t.e;
                if (n.iconId = r.id, n.setSvgContentString(r.content), n.emblemType = r.emblemType, n.shape = r.shape, n.thickness = r.thickness, n.fillRatio = r.fillRatio, n.thicknessType = r.thicknessType, null !== r.bounds && "" !== r.bounds) {
                    var i = r.bounds.split(";"),
                        o = parseFloat(i[0]),
                        s = parseFloat(i[1]),
                        a = parseFloat(i[2]),
                        f = parseFloat(i[3]);
                    a > 0 && f > 0 && (n.bounds = new u.Rectangle(o, s, a, f))
                }
                return null === n.bounds && (n.bounds = h.SvgBoundsManager.getBounds(n.svg, n.iconId)), r.emblemType !== e.NOUN_ICON && r.emblemType !== e.USER_ICON && r.emblemType != e.PRIMITIVE || (n.text = r.id.toString(), r.emblemType == e.NOUN_ICON && (n.nounOffset = r.nounOffset)), t.bm && (n.blendMode = t.bm), t.f && (n.fill = c.Fill.deserialize(t.f)), t.m && (n.maths = l.Maths.deserialize(t.m)), n._source = n.clone(), n
            }, e.deserializeNg = function(t) {
                if (null === t) return null;
                var n = new e;
                n.id = t.id, n.group = t.group;
                var r = t.emblem;
                if (n.iconId = r.id, n.setSvgContentString(r.content), n.emblemType = r.emblemType, n.shape = r.shape, n.thickness = r.thickness, n.fillRatio = r.fillRatio, n.thicknessType = r.thicknessType, null !== r.bounds && "" !== r.bounds) {
                    var i = r.bounds.split(";"),
                        o = parseFloat(i[0]),
                        s = parseFloat(i[1]),
                        a = parseFloat(i[2]),
                        f = parseFloat(i[3]);
                    a > 0 && f > 0 && (n.bounds = new u.Rectangle(o, s, a, f))
                }
                return null === n.bounds && (n.bounds = h.SvgBoundsManager.getBounds(n.svg, n.iconId)), r.emblemType !== e.NOUN_ICON && r.emblemType !== e.USER_ICON && r.emblemType != e.PRIMITIVE || (n.text = r.id.toString(), r.emblemType == e.NOUN_ICON && (n.nounOffset = r.nounOffset)), t.blendMode && (n.blendMode = t.blendMode), t.fill && (n.fill = c.Fill.deserialize(t.fill)), t.maths && (n.maths = l.Maths.deserialize(t.maths)), n._source = n.clone(), n
            }, e.prototype.clone = function() {
                var t = new e;
                return t.id = this.id, t.uid = this.uid, t.group = this.group, t.shape = this.shape, t.bounds = this._bounds ? this._bounds.clone() : null, t.maths = this.maths ? this.maths.clone() : null, t.fill = this.fill ? this.fill.clone() : null, t.iconId = this.iconId, t.svg = this.svg, t.blendMode = this.blendMode, t.emblemType = this.emblemType, t.text = this.text, t
            }, e.prototype.hasChanges = function() {
                return t.prototype.hasChanges.call(this) || this.iconId !== this._source.iconId
            }, e.prototype.debug = function() {
                return "Type: Icon\nid: " + this.iconId + "\nshape: " + s.Proportion.toString(this.shape) + "\nthickness: " + s.Thickness.toString(this.thicknessType) + "\nemblem type: " + this.type + "\ntext: " + this.text + "\n" + t.prototype.debug.call(this) + "\n"
            }, e.prototype.equals = function(e, n) {
                return void 0 === n && (n = !1), !!t.prototype.equals.call(this, e, n) && this.iconId === e.iconId
            }, e.DYNAMIC_ICON_ITYPE = 1e5, e.NOUN_EMBLEM_ID = 600297, e.UPLOADED_EMBLEM_ID = 600298, e.SOCIAL_PRODUCT_PRIMITIVES_ID = 600096, e.PRIMITIVE_ID = 600299, e.EMBLEM = 0, e.NOUN_ICON = 1, e.USER_ICON = 2, e.PRIMITIVE = 3, e
        }(a.LogoItem);
    e.SvgIcon = f
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.TextBoundsManager = void 0;
    var r = n(14),
        i = n(26),
        o = n(7),
        s = n(27),
        a = function() {
            function t() {}
            return t.getBounds = function(e, n, i, o) {
                void 0 === o && (o = 0);
                var s = e + " " + n + " " + i + " " + o,
                    a = null;
                return t.cache[s] instanceof r.Rectangle ? a = t.cache[s] : (a = t.getTextBounds(e, n, i, o), t.cache[s] = a), a
            }, t.getTextBounds = function(t, e, n, a, u) {
                void 0 === u && (u = 1.2);
                var l = s.Context2DManager.forTextCalculation(5600, 590),
                    c = 7 * e,
                    h = 7 * e;
                l.setTransform(1, 0, 0, 1, 0, 0), l.globalAlpha = 1, l.fillStyle = "#ffffff", l.font = 7 * e + "px '" + n + "'";
                for (var f = 0, p = 0, d = new o.Matrix, g = t.split("\n"), m = Math.round(7 * e * u), v = 0; v < g.length; v++) {
                    var b = g[v];
                    if (v > 0 && (d.translate(0, m), d.setToContext2d(l), p += m), 0 === a) {
                        var y = l.measureText(b);
                        f = Math.max(f, Math.round(y.width) + 40 + 2 * c), p += Math.round(7 * e * 1.4) + 2 * h, l.fillText(b, c, h)
                    } else {
                        for (var _ = i.Font.fromName(n), w = b.split(""), x = 0, T = 0, C = 0, I = w; C < I.length; C++) {
                            var S = I[C],
                                O = _.glyphWidth(S);
                            null !== O && (T += O)
                        }
                        f = Math.max(f, Math.round(_.fUnitsToPx(T + a * (w.length - 1) * 1.1, 7 * e) + 2 * c)), p += Math.round(7 * e * 1.4) + 2 * h, l.clearRect(0, 0, f, p);
                        for (var E = 0; E < w.length; E++) {
                            var S = w[E],
                                P = _.glyphWidth(S);
                            if (E > 0) {
                                var M = w[E - 1];
                                x += _.kerning(M, S), x += a
                            }
                            l.fillText(S, c + _.fUnitsToPx(x, 7 * e), h), x += P
                        }
                    }
                }
                for (var k = f, L = p, A = 0, R = 0, N = 0, j = 0, B = l.getImageData(0, 0, f, p), v = 0; v < B.data.length; v += 4) {
                    var z = (B.data[v], B.data[v + 1], B.data[v + 2], B.data[v + 3]);
                    N = v / 4 % f, j = v / 4 / f, 0 != z && (k = Math.min(k, N), L = Math.min(L, j), A = Math.max(A, N), R = Math.max(R, j))
                }
                return f = A - k, p = R - L, k -= c, L -= h, k /= 7, L /= 7, f /= 7, p /= 7, new r.Rectangle(k, L, f, p)
            }, t.getBoundsFromList = function(t) {
                for (var e = t[0].width, n = t[0].height, i = 0, o = 0, s = 0, a = t; s < a.length; s++) {
                    var u = a[s];
                    e = Math.min(e, u.x), n = Math.min(n, u.y), i = Math.max(i, u.right), o = Math.max(o, u.bottom)
                }
                return new r.Rectangle(e, n, i - e, o - n)
            }, t.cache = {}, t.context2d = null, t
        }();
    e.TextBoundsManager = a
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.ColorCombination = void 0;
    var r = n(9),
        i = n(11),
        o = function() {
            function t(e, n, r, i) {
                void 0 === n && (n = null), this.index = t.CUSTOM_INDEX, this.colorRange = null, this.key = null, this.index = e, this.elColor = r, this.bgColor = n, this.key = i
            }
            return t.getCombination = function(e, n, r) {
                void 0 === n && (n = null);
                for (var i, o = 0, s = t.editable; o < s.length; o++)
                    if (i = s[o], i.bgColor === n && i.elColor === r) return i.colorRange = e, i;
                for (var a = 0, u = t.custom; a < u.length; a++)
                    if (i = u[a], i.bgColor === n && i.elColor === r) return i.colorRange = e, i;
                return i = new t(t.CUSTOM_INDEX, n, r), i.colorRange = e, t.custom.push(i), i
            }, t.getByIndex = function(e, n) {
                for (var r = null, i = 0, o = t.editable; i < o.length; i++) {
                    var s = o[i];
                    if (s.index == e) {
                        r = s, r.colorRange = n;
                        break
                    }
                }
                return r
            }, t.getByKey = function(e, n) {
                var r = t.editable.find(function(t) {
                    return t.key === e
                });
                return r ? (r.colorRange = n, r) : t.editable[0]
            }, t.prototype.getFill = function(e) {
                var n = this.elColor === r.ColorRange.EL_LOGO_DB ? r.ColorRange.EL_LOGO1 : this.elColor,
                    o = this.colorRange.getFill(this.bgColor, n);
                if (null === e) return o;
                if (e.type === i.Fill.BASE_FILL) return this.elColor !== r.ColorRange.EL_LOGO1 || this.bgColor !== r.ColorRange.BG_WHITE && this.bgColor !== r.ColorRange.BG_TRANSPARENT ? o : e;
                if (e.type === i.Fill.OVERRIDE_FILL) {
                    if (this.index === t.CUSTOM_INDEX) return o;
                    var s = e.colors[this.index];
                    return null === s ? o : "string" == typeof s ? new i.Fill(s) : new i.Fill(this.colorRange.getColorByIndex(s))
                }
                return o
            }, t.prototype.clone = function() {
                var e = t.getCombination(this.colorRange, this.bgColor, this.elColor);
                return e.index = this.index, e
            }, t.prototype.equals = function(t) {
                return null != t && (this.index === t.index && this.bgColor === t.bgColor && this.elColor === t.elColor && this.colorRange.equals(t.colorRange))
            }, t.CUSTOM_INDEX = -1, t.editable = [new t(0, r.ColorRange.BG_WHITE, r.ColorRange.EL_LOGO1, "bg_white"), new t(1, r.ColorRange.BG_B, r.ColorRange.EL_LOGO1, "bg_b"), new t(2, r.ColorRange.BG_WHITE, "000000", "bg_white_000000"), new t(3, r.ColorRange.BG_BLACK, r.ColorRange.EL_LOGO1, "bg_black"), new t(4, r.ColorRange.BG_TRANSPARENT, r.ColorRange.EL_LOGO1, "bg_alpha")], t.custom = [], t
        }();
    e.ColorCombination = o
}, function(t, e) {
    function n(t) {
        var e = typeof t;
        return !!t && ("object" == e || "function" == e)
    }
    t.exports = n
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.Transformable = void 0;
    var r = n(7),
        i = function() {
            function t(t, e, n, i) {
                void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === n && (n = new r.Matrix), this.changed = null, this.width = t, this.height = e, this.matrix = n, this.owner = i
            }
            return t
        }();
    e.Transformable = i
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.LanguageScript = void 0;
    var r = n(28),
        i = function() {
            function t() {}
            return t.doesHaveScripts = function(t, e) {
                for (var n = !1, r = 0; r < e.length; r++) {
                    n = !1;
                    for (var i = e[r], o = 0; o < t.length; o++) {
                        if (i == t[o]) {
                            n = !0;
                            break
                        }
                    }
                    if (!n) return !1
                }
                return 0 != e.length
            }, t.doesHaveIdeogramScripts = function(e) {
                for (var n = [t.HIRAGANA, t.KATAKANA, t.KANJI, t.CJK_SYMB_PUNCT], r = 0; r < n.length; r++)
                    for (var i = n[r], o = 0; o < e.length; o++) {
                        var s = e[o];
                        if (i == s) return !0
                    }
                return !1
            }, t.determineScripts = function(e) {
                var n = {},
                    r = e.replace("��", "").replace("穢", "").replace("��", "").replace("簧", "").replace("��", "");
                "" == r && (r = " ");
                for (var i = 0; i < r.length; i++) {
                    var o = r.charCodeAt(i);
                    o >= 0 && o <= 127 ? n[t.C0_CONTROLS] = !0 : o >= 128 && o <= 255 ? n[t.C1_CONTROLS] = !0 : o >= 256 && o <= 383 ? n[t.LATIN_EXTENDED_A] = !0 : o >= 1040 && o <= 1103 ? n[t.CYRILLIC_RUSSIAN_ALPHABET] = !0 : o >= 1024 && o <= 1039 || o >= 1104 && o <= 1119 ? n[t.CYRILLIC_EXTENTIONS_12] = !0 : o >= 1162 && o <= 1273 ? n[t.CYRILLIC_EXTENDED] = !0 : o >= 12352 && o <= 12447 ? n[t.HIRAGANA] = !0 : o >= 12448 && o <= 12543 ? n[t.KATAKANA] = !0 : o >= 19968 && o <= 40895 ? n[t.KANJI] = !0 : o >= 12288 && o <= 12351 ? n[t.CJK_SYMB_PUNCT] = !0 : n[t.UNICODE] = !0
                }
                var s = [];
                for (var a in n) n[a] && s.push(parseInt(a));
                return s
            }, t.getLanguageScripts = function(e) {
                switch (e.toLowerCase()) {
                    case "zh":
                        return [t.C0_CONTROLS, t.HIRAGANA, t.KATAKANA, t.KANJI, t.CJK_SYMB_PUNCT];
                    case "es":
                        return [t.C0_CONTROLS, t.C1_CONTROLS];
                    case "en":
                    case "hi":
                    case "ar":
                        return [t.C0_CONTROLS];
                    case "pt":
                        return [t.C0_CONTROLS, t.C1_CONTROLS, t.LATIN_EXTENDED_A];
                    case "bn":
                        return [t.C0_CONTROLS];
                    case "ru":
                        return [t.C0_CONTROLS, t.CYRILLIC_RUSSIAN_ALPHABET];
                    case "ja":
                        return [t.C0_CONTROLS, t.HIRAGANA, t.KATAKANA, t.KANJI, t.CJK_SYMB_PUNCT];
                    case "pa":
                    case "de":
                    case "jv":
                    case "ms":
                    case "te":
                    case "vi":
                    case "ko":
                    case "fr":
                    case "mr":
                    case "ta":
                    case "ur":
                    case "fa":
                    case "tr":
                    case "it":
                    case "th":
                    case "gu":
                    case "pl":
                    case "ps":
                    case "kn":
                    case "ml":
                    case "su":
                    case "ha":
                    case "or":
                    case "my":
                        return [t.C0_CONTROLS];
                    case "uk":
                        return [t.C0_CONTROLS, t.CYRILLIC_RUSSIAN_ALPHABET, t.CYRILLIC_EXTENTIONS_12];
                    case "tl":
                    case "yo":
                    case "bh":
                    case "uz":
                    case "sd":
                    case "am":
                    case "ff":
                    case "ro":
                    case "om":
                    case "ig":
                    case "az":
                    case "nl":
                    case "ku":
                    case "sh":
                    case "mg":
                    case "ne":
                    case "si":
                    case "za":
                    case "km":
                    case "as":
                    case "so":
                    case "hu":
                    case "el":
                    case "ny":
                    case "ak":
                    case "kk":
                    case "zu":
                    case "cs":
                    case "rw":
                    case "ht":
                    case "qu":
                    case "rn":
                    case "sv":
                    case "sn":
                    case "ug":
                    case "xh":
                    case "be":
                        return [t.C0_CONTROLS]
                }
                return [t.C0_CONTROLS]
            }, t.getLanguagesByScripts = function(e) {
                var n = [];
                return e.indexOf(t.C0_CONTROLS) > -1 && n.push("en"), (e.indexOf(t.CYRILLIC_RUSSIAN_ALPHABET) > -1 || e.indexOf(t.CYRILLIC_EXTENDED) > -1 || e.indexOf(t.CYRILLIC_EXTENTIONS_12) > -1) && n.push("ru"), e.indexOf(t.C1_CONTROLS) > -1 && (n.push("pt"), n.push("es"), n.push("de"), n.push("fr")), e.indexOf(t.LATIN_EXTENDED_A) > -1 && (n.push("pt"), n.push("es"), n.push("tr")), (e.indexOf(t.HIRAGANA) > -1 || e.indexOf(t.KANJI) > -1 || e.indexOf(t.CJK_SYMB_PUNCT) > -1) && (n.push("ja"), n.push("zh")), r.uniq(n)
            }, t.removeUnsupportedChars = function(t) {
                return t.replace(new RegExp("", "g"), "").trim()
            }, t.hieroglyphic = function(e, n) {
                for (var r = t.determineScripts(e), i = t.determineScripts(n), o = [t.HIRAGANA, t.KATAKANA, t.KANJI, t.CJK_SYMB_PUNCT], s = 0, a = r; s < a.length; s++) {
                    var u = a[s];
                    if (-1 != o.indexOf(u)) return !0
                }
                for (var l = 0, c = i; l < c.length; l++) {
                    var h = c[l];
                    if (-1 != o.indexOf(h)) return !0
                }
                return !1
            }, t.UNICODE = 0, t.C0_CONTROLS = 1, t.C1_CONTROLS = 2, t.LATIN_EXTENDED_A = 3, t.CYRILLIC_RUSSIAN_ALPHABET = 10, t.CYRILLIC_EXTENTIONS_12 = 11, t.CYRILLIC_EXTENDED = 12, t.HIRAGANA = 20, t.KATAKANA = 21, t.KANJI = 22, t.CJK_SYMB_PUNCT = 23, t
        }();
    e.LanguageScript = i
}, function(t, e) {
    var n;
    n = function() {
        return this
    }();
    try {
        n = n || Function("return this")() || (0, eval)("this")
    } catch (t) {
        "object" == typeof window && (n = window)
    }
    t.exports = n
}, function(t, e, n) {
    "use strict";
    t.exports = {
        2: "need dictionary",
        1: "stream end",
        0: "",
        "-1": "file error",
        "-2": "stream error",
        "-3": "data error",
        "-4": "insufficient memory",
        "-5": "buffer error",
        "-6": "incompatible version"
    }
}, function(t, e, n) {
    "use strict";

    function r(t) {
        for (; t;) {
            var e = t,
                n = e.closed,
                r = e.destination,
                o = e.isStopped;
            if (n || o) return !1;
            t = r && r instanceof i.a ? r : null
        }
        return !0
    }
    e.a = r;
    var i = n(1)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        setTimeout(function() {
            throw t
        }, 0)
    }
    e.a = r
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return null !== t && "object" == typeof t
    }
    e.a = r
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return r
    });
    var r = function() {
        return "function" == typeof Symbol ? Symbol("rxSubscriber") : "@@rxSubscriber_" + Math.random()
    }()
}, function(t, e, n) {
    "use strict";

    function r() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        return i(t)
    }

    function i(t) {
        return 0 === t.length ? o.a : 1 === t.length ? t[0] : function(e) {
            return t.reduce(function(t, e) {
                return e(t)
            }, e)
        }
    }
    e.a = r, e.b = i;
    var o = n(31)
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return f
    });
    var r = n(128),
        i = n(215),
        o = n(216),
        s = n(217),
        a = n(129),
        u = n(130),
        l = n(81),
        c = n(43),
        h = n(33),
        f = function(t) {
            if (t && "function" == typeof t[h.a]) return Object(s.a)(t);
            if (Object(a.a)(t)) return Object(r.a)(t);
            if (Object(u.a)(t)) return Object(i.a)(t);
            if (t && "function" == typeof t[c.a]) return Object(o.a)(t);
            var e = Object(l.a)(t) ? "an invalid object" : "'" + t + "'",
                n = "You provided " + e + " where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";
            throw new TypeError(n)
        }
}, function(t, e, n) {
    "use strict";

    function r() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        var n = null,
            r = null;
        return Object(o.a)(t[t.length - 1]) && (r = t.pop()), "function" == typeof t[t.length - 1] && (n = t.pop()), 1 === t.length && Object(s.a)(t[0]) && (t = t[0]), Object(l.a)(t, r).lift(new h(n))
    }
    e.b = r, n.d(e, "a", function() {
        return h
    });
    var i = n(0),
        o = n(22),
        s = n(15),
        a = n(3),
        u = n(4),
        l = n(46),
        c = {},
        h = function() {
            function t(t) {
                this.resultSelector = t
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new f(t, this.resultSelector))
            }, t
        }(),
        f = function(t) {
            function e(e, n) {
                var r = t.call(this, e) || this;
                return r.resultSelector = n, r.active = 0, r.values = [], r.observables = [], r
            }
            return i.a(e, t), e.prototype._next = function(t) {
                this.values.push(c), this.observables.push(t)
            }, e.prototype._complete = function() {
                var t = this.observables,
                    e = t.length;
                if (0 === e) this.destination.complete();
                else {
                    this.active = e, this.toRespond = e;
                    for (var n = 0; n < e; n++) {
                        var r = t[n];
                        this.add(Object(u.a)(this, r, r, n))
                    }
                }
            }, e.prototype.notifyComplete = function(t) {
                0 == (this.active -= 1) && this.destination.complete()
            }, e.prototype.notifyNext = function(t, e, n, r, i) {
                var o = this.values,
                    s = o[n],
                    a = this.toRespond ? s === c ? --this.toRespond : this.toRespond : 0;
                o[n] = e, 0 === a && (this.resultSelector ? this._tryResultSelector(o) : this.destination.next(o.slice()))
            }, e.prototype._tryResultSelector = function(t) {
                var e;
                try {
                    e = this.resultSelector.apply(this, t)
                } catch (t) {
                    return void this.destination.error(t)
                }
                this.destination.next(e)
            }, e
        }(a.a)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return new i.a(function(n) {
            var r = new o.a,
                i = 0;
            return r.add(e.schedule(function() {
                if (i === t.length) return void n.complete();
                n.next(t[i++]), n.closed || r.add(this.schedule())
            })), r
        })
    }
    e.a = r;
    var i = n(2),
        o = n(10)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return void 0 === t && (t = Number.POSITIVE_INFINITY), Object(i.a)(o.a, t)
    }
    e.a = r;
    var i = n(47),
        o = n(31)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return e ? new o.a(function(n) {
            return e.schedule(i, 0, {
                error: t,
                subscriber: n
            })
        }) : new o.a(function(e) {
            return e.error(t)
        })
    }

    function i(t) {
        var e = t.error;
        t.subscriber.error(e)
    }
    e.a = r;
    var o = n(2)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return function(e) {
            return 0 === t ? Object(a.b)() : e.lift(new u(t))
        }
    }
    e.a = r;
    var i = n(0),
        o = n(1),
        s = n(49),
        a = n(24),
        u = function() {
            function t(t) {
                if (this.total = t, this.total < 0) throw new s.a
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new l(t, this.total))
            }, t
        }(),
        l = function(t) {
            function e(e, n) {
                var r = t.call(this, e) || this;
                return r.total = n, r.count = 0, r
            }
            return i.a(e, t), e.prototype._next = function(t) {
                var e = this.total,
                    n = ++this.count;
                n <= e && (this.destination.next(t), n === e && (this.destination.complete(), this.unsubscribe()))
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return function(e) {
            return 0 === t ? Object(a.b)() : e.lift(new u(t))
        }
    }
    e.a = r;
    var i = n(0),
        o = n(1),
        s = n(49),
        a = n(24),
        u = function() {
            function t(t) {
                if (this.total = t, this.total < 0) throw new s.a
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new l(t, this.total))
            }, t
        }(),
        l = function(t) {
            function e(e, n) {
                var r = t.call(this, e) || this;
                return r.total = n, r.ring = new Array, r.count = 0, r
            }
            return i.a(e, t), e.prototype._next = function(t) {
                var e = this.ring,
                    n = this.total,
                    r = this.count++;
                if (e.length < n) e.push(t);
                else {
                    e[r % n] = t
                }
            }, e.prototype._complete = function() {
                var t = this.destination,
                    e = this.count;
                if (e > 0)
                    for (var n = this.count >= this.total ? this.total : this.count, r = this.ring, i = 0; i < n; i++) {
                        var o = e++ % n;
                        t.next(r[o])
                    }
                t.complete()
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        var n = !1;
        return arguments.length >= 2 && (n = !0),
            function(r) {
                return r.lift(new s(t, e, n))
            }
    }
    e.a = r;
    var i = n(0),
        o = n(1),
        s = function() {
            function t(t, e, n) {
                void 0 === n && (n = !1), this.accumulator = t, this.seed = e, this.hasSeed = n
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new a(t, this.accumulator, this.seed, this.hasSeed))
            }, t
        }(),
        a = function(t) {
            function e(e, n, r, i) {
                var o = t.call(this, e) || this;
                return o.accumulator = n, o._seed = r, o.hasSeed = i, o.index = 0, o
            }
            return i.a(e, t), Object.defineProperty(e.prototype, "seed", {
                get: function() {
                    return this._seed
                },
                set: function(t) {
                    this.hasSeed = !0, this._seed = t
                },
                enumerable: !0,
                configurable: !0
            }), e.prototype._next = function(t) {
                if (this.hasSeed) return this._tryNext(t);
                this.seed = t, this.destination.next(t)
            }, e.prototype._tryNext = function(t) {
                var e, n = this.index++;
                try {
                    e = this.accumulator(this.seed, t, n)
                } catch (t) {
                    this.destination.error(t)
                }
                this.seed = e, this.destination.next(e)
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r() {
        return function(t) {
            return t.lift(new s(t))
        }
    }
    e.a = r;
    var i = n(0),
        o = n(1),
        s = function() {
            function t(t) {
                this.connectable = t
            }
            return t.prototype.call = function(t, e) {
                var n = this.connectable;
                n._refCount++;
                var r = new a(t, n),
                    i = e.subscribe(r);
                return r.closed || (r.connection = n.connect()), i
            }, t
        }(),
        a = function(t) {
            function e(e, n) {
                var r = t.call(this, e) || this;
                return r.connectable = n, r
            }
            return i.a(e, t), e.prototype._unsubscribe = function() {
                var t = this.connectable;
                if (!t) return void(this.connection = null);
                this.connectable = null;
                var e = t._refCount;
                if (e <= 0) return void(this.connection = null);
                if (t._refCount = e - 1, e > 1) return void(this.connection = null);
                var n = this.connection,
                    r = t._connection;
                this.connection = null, !r || n && r !== n || r.unsubscribe()
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return c
    });
    var r = n(0),
        i = n(12),
        o = n(146),
        s = n(10),
        a = n(143),
        u = n(67),
        l = n(140),
        c = function(t) {
            function e(e, n, r) {
                void 0 === e && (e = Number.POSITIVE_INFINITY), void 0 === n && (n = Number.POSITIVE_INFINITY);
                var i = t.call(this) || this;
                return i.scheduler = r, i._events = [], i._infiniteTimeWindow = !1, i._bufferSize = e < 1 ? 1 : e, i._windowTime = n < 1 ? 1 : n, n === Number.POSITIVE_INFINITY ? (i._infiniteTimeWindow = !0, i.next = i.nextInfiniteTimeWindow) : i.next = i.nextTimeWindow, i
            }
            return r.a(e, t), e.prototype.nextInfiniteTimeWindow = function(e) {
                var n = this._events;
                n.push(e), n.length > this._bufferSize && n.shift(), t.prototype.next.call(this, e)
            }, e.prototype.nextTimeWindow = function(e) {
                this._events.push(new h(this._getNow(), e)), this._trimBufferThenGetEvents(), t.prototype.next.call(this, e)
            }, e.prototype._subscribe = function(t) {
                var e, n = this._infiniteTimeWindow,
                    r = n ? this._events : this._trimBufferThenGetEvents(),
                    i = this.scheduler,
                    o = r.length;
                if (this.closed) throw new u.a;
                if (this.isStopped || this.hasError ? e = s.a.EMPTY : (this.observers.push(t), e = new l.a(this, t)), i && t.add(t = new a.a(t, i)), n)
                    for (var c = 0; c < o && !t.closed; c++) t.next(r[c]);
                else
                    for (var c = 0; c < o && !t.closed; c++) t.next(r[c].value);
                return this.hasError ? t.error(this.thrownError) : this.isStopped && t.complete(), e
            }, e.prototype._getNow = function() {
                return (this.scheduler || o.a).now()
            }, e.prototype._trimBufferThenGetEvents = function() {
                for (var t = this._getNow(), e = this._bufferSize, n = this._windowTime, r = this._events, i = r.length, o = 0; o < i && !(t - r[o].time < n);) o++;
                return i > e && (o = Math.max(o, i - e)), o > 0 && r.splice(0, o), r
            }, e
        }(i.a),
        h = function() {
            function t(t, e) {
                this.time = t, this.value = e
            }
            return t
        }()
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return "function" == typeof e ? function(n) {
            return n.pipe(r(function(n, r) {
                return Object(l.a)(t(n, r)).pipe(Object(u.a)(function(t, i) {
                    return e(n, t, r, i)
                }))
            }))
        } : function(e) {
            return e.lift(new c(t))
        }
    }
    e.a = r;
    var i = n(0),
        o = n(3),
        s = n(30),
        a = n(4),
        u = n(17),
        l = n(23),
        c = function() {
            function t(t) {
                this.project = t
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new h(t, this.project))
            }, t
        }(),
        h = function(t) {
            function e(e, n) {
                var r = t.call(this, e) || this;
                return r.project = n, r.index = 0, r
            }
            return i.a(e, t), e.prototype._next = function(t) {
                var e, n = this.index++;
                try {
                    e = this.project(t, n)
                } catch (t) {
                    return void this.destination.error(t)
                }
                this._innerSub(e, t, n)
            }, e.prototype._innerSub = function(t, e, n) {
                var r = this.innerSubscription;
                r && r.unsubscribe();
                var i = new s.a(this, e, n),
                    o = this.destination;
                o.add(i), this.innerSubscription = Object(a.a)(this, t, void 0, void 0, i), this.innerSubscription !== i && o.add(this.innerSubscription)
            }, e.prototype._complete = function() {
                var e = this.innerSubscription;
                e && !e.closed || t.prototype._complete.call(this), this.unsubscribe()
            }, e.prototype._unsubscribe = function() {
                this.innerSubscription = null
            }, e.prototype.notifyComplete = function(e) {
                this.destination.remove(e), this.innerSubscription = null, this.isStopped && t.prototype._complete.call(this)
            }, e.prototype.notifyNext = function(t, e, n, r, i) {
                this.destination.next(e)
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r() {}
    e.a = r
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return new i.a(function(e) {
            var n;
            try {
                n = t()
            } catch (t) {
                return void e.error(t)
            }
            return (n ? Object(o.a)(n) : Object(s.b)()).subscribe(e)
        })
    }
    e.a = r;
    var i = n(2),
        o = n(23),
        s = n(24)
}, function(t, e, n) {
    "use strict";

    function r() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        var n = t[t.length - 1];
        return "function" == typeof n && t.pop(), Object(o.a)(t, void 0).lift(new h(n))
    }
    e.b = r, n.d(e, "a", function() {
        return h
    });
    var i = n(0),
        o = n(46),
        s = n(15),
        a = n(1),
        u = n(3),
        l = n(4),
        c = n(43),
        h = function() {
            function t(t) {
                this.resultSelector = t
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new f(t, this.resultSelector))
            }, t
        }(),
        f = function(t) {
            function e(e, n, r) {
                void 0 === r && (r = Object.create(null));
                var i = t.call(this, e) || this;
                return i.iterators = [], i.active = 0, i.resultSelector = "function" == typeof n ? n : null, i.values = r, i
            }
            return i.a(e, t), e.prototype._next = function(t) {
                var e = this.iterators;
                Object(s.a)(t) ? e.push(new d(t)) : "function" == typeof t[c.a] ? e.push(new p(t[c.a]())) : e.push(new g(this.destination, this, t))
            }, e.prototype._complete = function() {
                var t = this.iterators,
                    e = t.length;
                if (this.unsubscribe(), 0 === e) return void this.destination.complete();
                this.active = e;
                for (var n = 0; n < e; n++) {
                    var r = t[n];
                    if (r.stillUnsubscribed) {
                        this.destination.add(r.subscribe(r, n))
                    } else this.active--
                }
            }, e.prototype.notifyInactive = function() {
                0 === --this.active && this.destination.complete()
            }, e.prototype.checkIterators = function() {
                for (var t = this.iterators, e = t.length, n = this.destination, r = 0; r < e; r++) {
                    var i = t[r];
                    if ("function" == typeof i.hasValue && !i.hasValue()) return
                }
                for (var o = !1, s = [], r = 0; r < e; r++) {
                    var i = t[r],
                        a = i.next();
                    if (i.hasCompleted() && (o = !0), a.done) return void n.complete();
                    s.push(a.value)
                }
                this.resultSelector ? this._tryresultSelector(s) : n.next(s), o && n.complete()
            }, e.prototype._tryresultSelector = function(t) {
                var e;
                try {
                    e = this.resultSelector.apply(this, t)
                } catch (t) {
                    return void this.destination.error(t)
                }
                this.destination.next(e)
            }, e
        }(a.a),
        p = function() {
            function t(t) {
                this.iterator = t, this.nextResult = t.next()
            }
            return t.prototype.hasValue = function() {
                return !0
            }, t.prototype.next = function() {
                var t = this.nextResult;
                return this.nextResult = this.iterator.next(), t
            }, t.prototype.hasCompleted = function() {
                var t = this.nextResult;
                return t && t.done
            }, t
        }(),
        d = function() {
            function t(t) {
                this.array = t, this.index = 0, this.length = 0, this.length = t.length
            }
            return t.prototype[c.a] = function() {
                return this
            }, t.prototype.next = function(t) {
                var e = this.index++,
                    n = this.array;
                return e < this.length ? {
                    value: n[e],
                    done: !1
                } : {
                    value: null,
                    done: !0
                }
            }, t.prototype.hasValue = function() {
                return this.array.length > this.index
            }, t.prototype.hasCompleted = function() {
                return this.array.length === this.index
            }, t
        }(),
        g = function(t) {
            function e(e, n, r) {
                var i = t.call(this, e) || this;
                return i.parent = n, i.observable = r, i.stillUnsubscribed = !0, i.buffer = [], i.isComplete = !1, i
            }
            return i.a(e, t), e.prototype[c.a] = function() {
                return this
            }, e.prototype.next = function() {
                var t = this.buffer;
                return 0 === t.length && this.isComplete ? {
                    value: null,
                    done: !0
                } : {
                    value: t.shift(),
                    done: !1
                }
            }, e.prototype.hasValue = function() {
                return this.buffer.length > 0
            }, e.prototype.hasCompleted = function() {
                return 0 === this.buffer.length && this.isComplete
            }, e.prototype.notifyComplete = function() {
                this.buffer.length > 0 ? (this.isComplete = !0, this.parent.notifyInactive()) : this.destination.complete()
            }, e.prototype.notifyNext = function(t, e, n, r, i) {
                this.buffer.push(e), this.parent.checkIterators()
            }, e.prototype.subscribe = function(t, e) {
                return Object(l.a)(this, this.observable, this, e)
            }, e
        }(u.a)
}, function(t, e, n) {
    var r = n(311),
        i = n(312),
        o = i;
    o.v1 = r, o.v4 = i, t.exports = o
}, function(t, e, n) {
    "use strict";
    var r = this && this.__extends || function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                })(e, n)
        };
        return function(e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.BPSvgItem = void 0;
    var i = n(110),
        o = n(21),
        s = n(20),
        a = n(14),
        u = n(40),
        l = function(t) {
            function e() {
                var e = t.call(this) || this;
                return e.id = null, e.svg = null, e.type = o.BPItem.SVG, e
            }
            return r(e, t), e.prototype.setSvgContentString = function(t) {
                for (var e = window.atob(t), n = e.split(""), r = 0; r < n.length; r++) n[r] = n[r].charCodeAt(0);
                this.svg = i.inflate(n, {
                    to: "string"
                })
            }, e.deserialize = function(t) {
                var n = new e;
                n.group = t.group, n.maths = s.Maths.deserialize(t.maths), n.fill = u.BPItemFill.deserialize(t.fill), n.target = t.target, n.bounds = a.Rectangle.deserialize(t.content);
                var r = t.svg;
                n.id = r.id, n.setSvgContentString(r.content);
                var i = r.bounds.split(";");
                return n.svgBounds = new a.Rectangle(parseFloat(i[0]), parseFloat(i[1]), parseFloat(i[2]), parseFloat(i[3])), n
            }, e.prototype.serialize = function(e) {
                void 0 === e && (e = !1);
                var n = t.prototype.serialize.call(this);
                return n.content = this.bounds.serialize(), n.bounds = n.content, n.svgId = this.id, n
            }, e.prototype.clone = function() {
                var t = new e;
                return t.group = this.group, t.maths = this.maths.clone(), t.fill = this.fill.clone(), t.target = this.target, t.content = this.content, t.id = this.id, t.svg = this.svg, t.svgBounds = this.svgBounds.clone(), t.bounds = this.bounds.clone(), t.product = this.product, t
            }, e.BP_ICON_ITYPE = 100001, e
        }(o.BPItem);
    e.BPSvgItem = l
}, function(t, e, n) {
    var r = n(173),
        i = n(112),
        o = n(74),
        s = n(381),
        a = r(Object, "keys"),
        u = a ? function(t) {
            var e = null == t ? void 0 : t.constructor;
            return "function" == typeof e && e.prototype === t || "function" != typeof t && i(t) ? s(t) : o(t) ? a(t) : []
        } : s;
    t.exports = u
}, function(t, e) {
    function n(t) {
        return !!t && "object" == typeof t
    }
    t.exports = n
}, function(t, e, n) {
    var r = n(173),
        i = n(53),
        o = n(101),
        s = Object.prototype,
        a = s.toString,
        u = r(Array, "isArray"),
        l = u || function(t) {
            return o(t) && i(t.length) && "[object Array]" == a.call(t)
        };
    t.exports = l
}, function(t, e, n) {
    "use strict";
    var r = this && this.__extends || function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                })(e, n)
        };
        return function(e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.CustomText = e.Monogram = e.Tagline = e.LogoName = e.BaseText = void 0;
    var i = n(19),
        o = n(26),
        s = n(72),
        a = n(8),
        u = n(11),
        l = n(58),
        c = n(54),
        h = function(t) {
            function e() {
                var e = t.call(this) || this;
                return e._text = "", e._font = null, e.transform = c.TextTransform.NONE, e.type = i.LogoItem.BASE_TEXT, e
            }
            return r(e, t), Object.defineProperty(e.prototype, "text", {
                get: function() {
                    return this._text
                },
                set: function(t) {
                    this._text !== t && (this._bounds = null, this._text = t)
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "maths", {
                get: function() {
                    return this._maths
                },
                set: function(t) {
                    this._maths = t
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "bounds", {
                get: function() {
                    return null == this._bounds && (this._bounds = s.TextBoundsManager.getBounds(this.text, a.Logo.LOGO_TEXT_SIZE, this.font.fontFamily, this.maths.kerning)), this._bounds
                },
                set: function(t) {
                    t != this._bounds && (this._bounds = t)
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "font", {
                get: function() {
                    return this._font
                },
                set: function(t) {
                    this._font !== t && (this._bounds = null, this._font = t)
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "isText", {
                get: function() {
                    return !0
                },
                enumerable: !1,
                configurable: !0
            }), e.prototype.serialize = function() {
                var t = {
                    id: this.id,
                    type: this.type,
                    group: this.group,
                    fontId: this.font.id,
                    maths: this.maths.serialize(),
                    text: this.text,
                    fill: u.Fill.serialize(this.fill),
                    blendMode: this.blendMode
                };
                return JSON.stringify(t)
            }, e.deserialize = function(t) {
                var n = e.initText(t.t);
                return n.id = t.i, n.group = t.g, n.text = t.tt, n.maths = l.TextMaths.deserialize(t.m), n.font = o.Font.fromId(t.ft), n.fill = u.Fill.deserialize(t.f), n.transform = c.TextTransform.detectTransform(n.text), n.blendMode = t.bm, n._source = n.clone(), n
            }, e.deserializeNg = function(t) {
                var n = e.initText(t.type);
                return n.id = t.id, n.group = t.group, n.text = t.text, n.maths = l.TextMaths.deserialize(t.maths), n.font = o.Font.fromId(t.font_id), n.fill = u.Fill.deserialize(t.fill), n.transform = c.TextTransform.detectTransform(n.text), n.blendMode = t.blendMode, n._source = n.clone(), n
            }, e.prototype.clone = function() {
                var t = e.initText(this.type);
                return t.id = this.id, t.uid = this.uid, t.group = this.group, t.bounds = this._bounds ? this._bounds.clone() : null, t.maths = this.maths ? this.maths.clone() : null, t.fill = this.fill ? this.fill.clone() : null, t.text = this.text, t.transform = this.transform, t.font = this.font ? this.font : null, t.blendMode = this.blendMode, t
            }, e.initText = function(t) {
                var n = null;
                switch (t) {
                    case i.LogoItem.LOGO_NAME:
                        n = new f;
                        break;
                    case i.LogoItem.TAGLINE:
                        n = new p;
                        break;
                    case i.LogoItem.MONOGRAM:
                        n = new d;
                        break;
                    case i.LogoItem.CUSTOM_TEXT:
                        n = new g;
                        break;
                    case i.LogoItem.BASE_TEXT:
                        n = new e
                }
                return n
            }, e.prototype.hasChanges = function() {
                return t.prototype.hasChanges.call(this) || this._text !== this._source.text || this._font.id !== this._source.font.id
            }, e.prototype.debug = function() {
                var e, n = t.prototype.debug.call(this);
                switch (this.type) {
                    case i.LogoItem.LOGO_NAME:
                        e = "Logo Name";
                        break;
                    case i.LogoItem.TAGLINE:
                        e = "Tagline";
                        break;
                    case i.LogoItem.MONOGRAM:
                        e = "Monogram";
                        break;
                    case i.LogoItem.CUSTOM_TEXT:
                        e = "Custom text"
                }
                return "Type: " + e + "\nFontId: " + this.font.id + "\nFontName: " + this.font.fontFamily + "\n" + n + "\n"
            }, e.prototype.equals = function(e, n) {
                return void 0 === n && (n = !1), !!t.prototype.equals.call(this, e, n) && this.text === e.text && this.font.equals(e.font)
            }, e.prototype.getCharHeight = function() {
                return this.transform == c.TextTransform.UPPERCASE ? this.font.capHeightPx() : this.font.xHeightPx()
            }, e
        }(i.LogoItem);
    e.BaseText = h;
    var f = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.type = i.LogoItem.LOGO_NAME, e
        }
        return r(e, t), e
    }(h);
    e.LogoName = f;
    var p = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.type = i.LogoItem.TAGLINE, e
        }
        return r(e, t), e
    }(h);
    e.Tagline = p;
    var d = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.type = i.LogoItem.MONOGRAM, e
        }
        return r(e, t), e
    }(h);
    e.Monogram = d;
    var g = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.type = i.LogoItem.CUSTOM_TEXT, e
        }
        return r(e, t), e
    }(h);
    e.CustomText = g
}, function(t, e, n) {
    (function(r, o) {
        var s, a, u;
        ! function(r, i) {
            "use strict";
            a = [n(205), n(206)], s = i, void 0 !== (u = "function" == typeof s ? s.apply(e, a) : s) && (t.exports = u), r.canvg = i(r.RGBColor, r.stackBlur)
        }("undefined" != typeof window ? window : this, function(t, e) {
            function n(t) {
                var e = [0, 0, 0],
                    n = function(n, r) {
                        var i = t.match(n);
                        null != i && (e[r] += i.length, t = t.replace(n, " "))
                    };
                return t = t.replace(/:not\(([^\)]*)\)/g, "     $1 "), t = t.replace(/{[\s\S]*/gm, " "), n(l, 1), n(c, 0), n(h, 1), n(f, 2), n(p, 1), n(d, 1), t = t.replace(/[\*\s\+>~]/g, " "), t = t.replace(/[#\.]/g, " "), n(g, 2), e.join("")
            }

            function s(r) {
                var o = {
                    opts: r
                };
                o.FRAMERATE = 30, o.MAX_VIRTUAL_PIXELS = 3e4, o.log = function(t) {}, 1 == o.opts.log && "undefined" != typeof console && (o.log = function(t) {
                    console.log(t)
                }), o.init = function(t) {
                    var e = 0;
                    o.UniqueId = function() {
                        return "canvg" + ++e
                    }, o.Definitions = {}, o.Styles = {}, o.StylesSpecificity = {}, o.Animations = [], o.Images = [], o.ctx = t, o.ViewPort = new function() {
                        this.viewPorts = [], this.Clear = function() {
                            this.viewPorts = []
                        }, this.SetCurrent = function(t, e) {
                            this.viewPorts.push({
                                width: t,
                                height: e
                            })
                        }, this.RemoveCurrent = function() {
                            this.viewPorts.pop()
                        }, this.Current = function() {
                            return this.viewPorts[this.viewPorts.length - 1]
                        }, this.width = function() {
                            return this.Current().width
                        }, this.height = function() {
                            return this.Current().height
                        }, this.ComputeSize = function(t) {
                            return null != t && "number" == typeof t ? t : "x" == t ? this.width() : "y" == t ? this.height() : Math.sqrt(Math.pow(this.width(), 2) + Math.pow(this.height(), 2)) / Math.sqrt(2)
                        }
                    }
                }, o.init(), o.ImagesLoaded = function() {
                    for (var t = 0; t < o.Images.length; t++)
                        if (!o.Images[t].loaded) return !1;
                    return !0
                }, o.trim = function(t) {
                    return t.replace(/^\s+|\s+$/g, "")
                }, o.compressSpaces = function(t) {
                    return t.replace(/[\s\r\t\n]+/gm, " ")
                }, o.ajax = function(t) {
                    var e;
                    return e = window.XMLHttpRequest ? new XMLHttpRequest : new ActiveXObject("Microsoft.XMLHTTP"), e ? (e.open("GET", t, !1), e.send(null), e.responseText) : null
                }, o.parseXml = function(t) {
                    if ("undefined" != typeof Windows && void 0 !== Windows.Data && void 0 !== Windows.Data.Xml) {
                        var e = new Windows.Data.Xml.Dom.XmlDocument,
                            n = new Windows.Data.Xml.Dom.XmlLoadSettings;
                        return n.prohibitDtd = !1, e.loadXml(t, n), e
                    }
                    if (!window.DOMParser) {
                        t = t.replace(/<!DOCTYPE svg[^>]*>/, "");
                        var e = new ActiveXObject("Microsoft.XMLDOM");
                        return e.async = "false", e.loadXML(t), e
                    }
                    try {
                        var r = new DOMParser;
                        return r.parseFromString(t, "image/svg+xml")
                    } catch (e) {
                        return r = new DOMParser, r.parseFromString(t, "text/xml")
                    }
                }, o.Property = function(t, e) {
                    this.name = t, this.value = e
                }, o.Property.prototype.getValue = function() {
                    return this.value
                }, o.Property.prototype.hasValue = function() {
                    return null != this.value && "" !== this.value
                }, o.Property.prototype.numValue = function() {
                    if (!this.hasValue()) return 0;
                    var t = parseFloat(this.value);
                    return (this.value + "").match(/%$/) && (t /= 100), t
                }, o.Property.prototype.valueOrDefault = function(t) {
                    return this.hasValue() ? this.value : t
                }, o.Property.prototype.numValueOrDefault = function(t) {
                    return this.hasValue() ? this.numValue() : t
                }, o.Property.prototype.addOpacity = function(e) {
                    var n = this.value;
                    if (null != e.value && "" != e.value && "string" == typeof this.value) {
                        var r = new t(this.value);
                        r.ok && (n = "rgba(" + r.r + ", " + r.g + ", " + r.b + ", " + e.numValue() + ")")
                    }
                    return new o.Property(this.name, n)
                }, o.Property.prototype.getDefinition = function() {
                    var t = this.value.match(/#([^\)'"]+)/);
                    return t && (t = t[1]), t || (t = this.value), o.Definitions[t]
                }, o.Property.prototype.isUrlDefinition = function() {
                    return 0 == this.value.indexOf("url(")
                }, o.Property.prototype.getFillStyleDefinition = function(t, e) {
                    var n = this.getDefinition();
                    if (null != n && n.createGradient) return n.createGradient(o.ctx, t, e);
                    if (null != n && n.createPattern) {
                        if (n.getHrefAttribute().hasValue()) {
                            var r = n.attribute("patternTransform");
                            n = n.getHrefAttribute().getDefinition(), r.hasValue() && (n.attribute("patternTransform", !0).value = r.value)
                        }
                        return n.createPattern(o.ctx, t)
                    }
                    return null
                }, o.Property.prototype.getDPI = function(t) {
                    return 96
                }, o.Property.prototype.getEM = function(t) {
                    var e = 12,
                        n = new o.Property("fontSize", o.Font.Parse(o.ctx.font).fontSize);
                    return n.hasValue() && (e = n.toPixels(t)), e
                }, o.Property.prototype.getUnits = function() {
                    return (this.value + "").replace(/[0-9\.\-]/g, "")
                }, o.Property.prototype.toPixels = function(t, e) {
                    if (!this.hasValue()) return 0;
                    var n = this.value + "";
                    if (n.match(/em$/)) return this.numValue() * this.getEM(t);
                    if (n.match(/ex$/)) return this.numValue() * this.getEM(t) / 2;
                    if (n.match(/px$/)) return this.numValue();
                    if (n.match(/pt$/)) return this.numValue() * this.getDPI(t) * (1 / 72);
                    if (n.match(/pc$/)) return 15 * this.numValue();
                    if (n.match(/cm$/)) return this.numValue() * this.getDPI(t) / 2.54;
                    if (n.match(/mm$/)) return this.numValue() * this.getDPI(t) / 25.4;
                    if (n.match(/in$/)) return this.numValue() * this.getDPI(t);
                    if (n.match(/%$/)) return this.numValue() * o.ViewPort.ComputeSize(t);
                    var r = this.numValue();
                    return e && r < 1 ? r * o.ViewPort.ComputeSize(t) : r
                }, o.Property.prototype.toMilliseconds = function() {
                    if (!this.hasValue()) return 0;
                    var t = this.value + "";
                    return t.match(/s$/) ? 1e3 * this.numValue() : (t.match(/ms$/), this.numValue())
                }, o.Property.prototype.toRadians = function() {
                    if (!this.hasValue()) return 0;
                    var t = this.value + "";
                    return t.match(/deg$/) ? this.numValue() * (Math.PI / 180) : t.match(/grad$/) ? this.numValue() * (Math.PI / 200) : t.match(/rad$/) ? this.numValue() : this.numValue() * (Math.PI / 180)
                };
                var s = {
                    baseline: "alphabetic",
                    "before-edge": "top",
                    "text-before-edge": "top",
                    middle: "middle",
                    central: "middle",
                    "after-edge": "bottom",
                    "text-after-edge": "bottom",
                    ideographic: "ideographic",
                    alphabetic: "alphabetic",
                    hanging: "hanging",
                    mathematical: "alphabetic"
                };
                return o.Property.prototype.toTextBaseline = function() {
                    return this.hasValue() ? s[this.value] : null
                }, o.Font = new function() {
                    this.Styles = "normal|italic|oblique|inherit", this.Variants = "normal|small-caps|inherit", this.Weights = "normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit", this.CreateFont = function(t, e, n, r, i, s) {
                        var a = null != s ? this.Parse(s) : this.CreateFont("", "", "", "", "", o.ctx.font);
                        return {
                            fontFamily: i || a.fontFamily,
                            fontSize: r || a.fontSize,
                            fontStyle: t || a.fontStyle,
                            fontWeight: n || a.fontWeight,
                            fontVariant: e || a.fontVariant,
                            toString: function() {
                                return [this.fontStyle, this.fontVariant, this.fontWeight, this.fontSize, this.fontFamily].join(" ")
                            }
                        }
                    };
                    var t = this;
                    this.Parse = function(e) {
                        for (var n = {}, r = o.trim(o.compressSpaces(e || "")).split(" "), i = {
                                fontSize: !1,
                                fontStyle: !1,
                                fontWeight: !1,
                                fontVariant: !1
                            }, s = "", a = 0; a < r.length; a++) i.fontStyle || -1 == t.Styles.indexOf(r[a]) ? i.fontVariant || -1 == t.Variants.indexOf(r[a]) ? i.fontWeight || -1 == t.Weights.indexOf(r[a]) ? i.fontSize ? "inherit" != r[a] && (s += r[a]) : ("inherit" != r[a] && (n.fontSize = r[a].split("/")[0]), i.fontStyle = i.fontVariant = i.fontWeight = i.fontSize = !0) : ("inherit" != r[a] && (n.fontWeight = r[a]), i.fontStyle = i.fontVariant = i.fontWeight = !0) : ("inherit" != r[a] && (n.fontVariant = r[a]), i.fontStyle = i.fontVariant = !0) : ("inherit" != r[a] && (n.fontStyle = r[a]), i.fontStyle = !0);
                        return "" != s && (n.fontFamily = s), n
                    }
                }, o.ToNumberArray = function(t) {
                    for (var e = o.trim(o.compressSpaces((t || "").replace(/,/g, " "))).split(" "), n = 0; n < e.length; n++) e[n] = parseFloat(e[n]);
                    return e
                }, o.Point = function(t, e) {
                    this.x = t, this.y = e
                }, o.Point.prototype.angleTo = function(t) {
                    return Math.atan2(t.y - this.y, t.x - this.x)
                }, o.Point.prototype.applyTransform = function(t) {
                    var e = this.x * t[0] + this.y * t[2] + t[4],
                        n = this.x * t[1] + this.y * t[3] + t[5];
                    this.x = e, this.y = n
                }, o.CreatePoint = function(t) {
                    var e = o.ToNumberArray(t);
                    return new o.Point(e[0], e[1])
                }, o.CreatePath = function(t) {
                    for (var e = o.ToNumberArray(t), n = [], r = 0; r < e.length; r += 2) n.push(new o.Point(e[r], e[r + 1]));
                    return n
                }, o.BoundingBox = function(t, e, n, r) {
                    this.x1 = Number.NaN, this.y1 = Number.NaN, this.x2 = Number.NaN, this.y2 = Number.NaN, this.x = function() {
                        return this.x1
                    }, this.y = function() {
                        return this.y1
                    }, this.width = function() {
                        return this.x2 - this.x1
                    }, this.height = function() {
                        return this.y2 - this.y1
                    }, this.addPoint = function(t, e) {
                        null != t && ((isNaN(this.x1) || isNaN(this.x2)) && (this.x1 = t, this.x2 = t), t < this.x1 && (this.x1 = t), t > this.x2 && (this.x2 = t)), null != e && ((isNaN(this.y1) || isNaN(this.y2)) && (this.y1 = e, this.y2 = e), e < this.y1 && (this.y1 = e), e > this.y2 && (this.y2 = e))
                    }, this.addX = function(t) {
                        this.addPoint(t, null)
                    }, this.addY = function(t) {
                        this.addPoint(null, t)
                    }, this.addBoundingBox = function(t) {
                        this.addPoint(t.x1, t.y1), this.addPoint(t.x2, t.y2)
                    }, this.addQuadraticCurve = function(t, e, n, r, i, o) {
                        var s = t + 2 / 3 * (n - t),
                            a = e + 2 / 3 * (r - e),
                            u = s + 1 / 3 * (i - t),
                            l = a + 1 / 3 * (o - e);
                        this.addBezierCurve(t, e, s, u, a, l, i, o)
                    }, this.addBezierCurve = function(t, e, n, r, o, s, a, u) {
                        var l = [t, e],
                            c = [n, r],
                            h = [o, s],
                            f = [a, u];
                        for (this.addPoint(l[0], l[1]), this.addPoint(f[0], f[1]), i = 0; i <= 1; i++) {
                            var p = function(t) {
                                    return Math.pow(1 - t, 3) * l[i] + 3 * Math.pow(1 - t, 2) * t * c[i] + 3 * (1 - t) * Math.pow(t, 2) * h[i] + Math.pow(t, 3) * f[i]
                                },
                                d = 6 * l[i] - 12 * c[i] + 6 * h[i],
                                g = -3 * l[i] + 9 * c[i] - 9 * h[i] + 3 * f[i],
                                m = 3 * c[i] - 3 * l[i];
                            if (0 != g) {
                                var v = Math.pow(d, 2) - 4 * m * g;
                                if (!(v < 0)) {
                                    var b = (-d + Math.sqrt(v)) / (2 * g);
                                    0 < b && b < 1 && (0 == i && this.addX(p(b)), 1 == i && this.addY(p(b)));
                                    var y = (-d - Math.sqrt(v)) / (2 * g);
                                    0 < y && y < 1 && (0 == i && this.addX(p(y)), 1 == i && this.addY(p(y)))
                                }
                            } else {
                                if (0 == d) continue;
                                var _ = -m / d;
                                0 < _ && _ < 1 && (0 == i && this.addX(p(_)), 1 == i && this.addY(p(_)))
                            }
                        }
                    }, this.isPointInBox = function(t, e) {
                        return this.x1 <= t && t <= this.x2 && this.y1 <= e && e <= this.y2
                    }, this.addPoint(t, e), this.addPoint(n, r)
                }, o.Transform = function(t) {
                    var e = this;
                    this.Type = {}, this.Type.translate = function(t) {
                        this.p = o.CreatePoint(t), this.apply = function(t) {
                            t.translate(this.p.x || 0, this.p.y || 0)
                        }, this.unapply = function(t) {
                            t.translate(-1 * this.p.x || 0, -1 * this.p.y || 0)
                        }, this.applyToPoint = function(t) {
                            t.applyTransform([1, 0, 0, 1, this.p.x || 0, this.p.y || 0])
                        }
                    }, this.Type.rotate = function(t) {
                        var e = o.ToNumberArray(t);
                        this.angle = new o.Property("angle", e[0]), this.cx = e[1] || 0, this.cy = e[2] || 0, this.apply = function(t) {
                            t.translate(this.cx, this.cy), t.rotate(this.angle.toRadians()), t.translate(-this.cx, -this.cy)
                        }, this.unapply = function(t) {
                            t.translate(this.cx, this.cy), t.rotate(-1 * this.angle.toRadians()), t.translate(-this.cx, -this.cy)
                        }, this.applyToPoint = function(t) {
                            var e = this.angle.toRadians();
                            t.applyTransform([1, 0, 0, 1, this.p.x || 0, this.p.y || 0]), t.applyTransform([Math.cos(e), Math.sin(e), -Math.sin(e), Math.cos(e), 0, 0]), t.applyTransform([1, 0, 0, 1, -this.p.x || 0, -this.p.y || 0])
                        }
                    }, this.Type.scale = function(t) {
                        this.p = o.CreatePoint(t), this.apply = function(t) {
                            t.scale(this.p.x || 1, this.p.y || this.p.x || 1)
                        }, this.unapply = function(t) {
                            t.scale(1 / this.p.x || 1, 1 / this.p.y || this.p.x || 1)
                        }, this.applyToPoint = function(t) {
                            t.applyTransform([this.p.x || 0, 0, 0, this.p.y || 0, 0, 0])
                        }
                    }, this.Type.matrix = function(t) {
                        this.m = o.ToNumberArray(t), this.apply = function(t) {
                            t.transform(this.m[0], this.m[1], this.m[2], this.m[3], this.m[4], this.m[5])
                        }, this.unapply = function(t) {
                            var e = this.m[0],
                                n = this.m[2],
                                r = this.m[4],
                                i = this.m[1],
                                o = this.m[3],
                                s = this.m[5],
                                a = 1 / (e * (1 * o - 0 * s) - n * (1 * i - 0 * s) + r * (0 * i - 0 * o));
                            t.transform(a * (1 * o - 0 * s), a * (0 * s - 1 * i), a * (0 * r - 1 * n), a * (1 * e - 0 * r), a * (n * s - r * o), a * (r * i - e * s))
                        }, this.applyToPoint = function(t) {
                            t.applyTransform(this.m)
                        }
                    }, this.Type.SkewBase = function(t) {
                        this.base = e.Type.matrix, this.base(t), this.angle = new o.Property("angle", t)
                    }, this.Type.SkewBase.prototype = new this.Type.matrix, this.Type.skewX = function(t) {
                        this.base = e.Type.SkewBase, this.base(t), this.m = [1, 0, Math.tan(this.angle.toRadians()), 1, 0, 0]
                    }, this.Type.skewX.prototype = new this.Type.SkewBase, this.Type.skewY = function(t) {
                        this.base = e.Type.SkewBase, this.base(t), this.m = [1, Math.tan(this.angle.toRadians()), 0, 1, 0, 0]
                    }, this.Type.skewY.prototype = new this.Type.SkewBase, this.transforms = [], this.apply = function(t) {
                        for (var e = 0; e < this.transforms.length; e++) this.transforms[e].apply(t)
                    }, this.unapply = function(t) {
                        for (var e = this.transforms.length - 1; e >= 0; e--) this.transforms[e].unapply(t)
                    }, this.applyToPoint = function(t) {
                        for (var e = 0; e < this.transforms.length; e++) this.transforms[e].applyToPoint(t)
                    };
                    for (var n = o.trim(o.compressSpaces(t)).replace(/\)([a-zA-Z])/g, ") $1").replace(/\)(\s?,\s?)/g, ") ").split(/\s(?=[a-z])/), r = 0; r < n.length; r++) {
                        var i = o.trim(n[r].split("(")[0]),
                            s = n[r].split("(")[1].replace(")", ""),
                            a = this.Type[i];
                        if (void 0 !== a) {
                            var u = new a(s);
                            u.type = i, this.transforms.push(u)
                        }
                    }
                }, o.AspectRatio = function(t, e, n, r, i, s, a, u, l, c) {
                    e = o.compressSpaces(e), e = e.replace(/^defer\s/, "");
                    var h = e.split(" ")[0] || "xMidYMid",
                        f = e.split(" ")[1] || "meet",
                        p = n / r,
                        d = i / s,
                        g = Math.min(p, d),
                        m = Math.max(p, d);
                    "meet" == f && (r *= g, s *= g), "slice" == f && (r *= m, s *= m), l = new o.Property("refX", l), c = new o.Property("refY", c), l.hasValue() && c.hasValue() ? t.translate(-g * l.toPixels("x"), -g * c.toPixels("y")) : (h.match(/^xMid/) && ("meet" == f && g == d || "slice" == f && m == d) && t.translate(n / 2 - r / 2, 0), h.match(/YMid$/) && ("meet" == f && g == p || "slice" == f && m == p) && t.translate(0, i / 2 - s / 2), h.match(/^xMax/) && ("meet" == f && g == d || "slice" == f && m == d) && t.translate(n - r, 0), h.match(/YMax$/) && ("meet" == f && g == p || "slice" == f && m == p) && t.translate(0, i - s)), "none" == h ? t.scale(p, d) : "meet" == f ? t.scale(g, g) : "slice" == f && t.scale(m, m), t.translate(null == a ? 0 : -a, null == u ? 0 : -u)
                }, o.Element = {}, o.EmptyProperty = new o.Property("EMPTY", ""), o.Element.ElementBase = function(t) {
                    this.attributes = {}, this.styles = {}, this.stylesSpecificity = {}, this.children = [], this.attribute = function(t, e) {
                        var n = this.attributes[t];
                        return null != n ? n : (1 == e && (n = new o.Property(t, ""), this.attributes[t] = n), n || o.EmptyProperty)
                    }, this.getHrefAttribute = function() {
                        for (var t in this.attributes)
                            if ("href" == t || t.match(/:href$/)) return this.attributes[t];
                        return o.EmptyProperty
                    }, this.style = function(t, e, n) {
                        var r = this.styles[t];
                        if (null != r) return r;
                        var i = this.attribute(t);
                        if (null != i && i.hasValue()) return this.styles[t] = i, i;
                        if (1 != n) {
                            var s = this.parent;
                            if (null != s) {
                                var a = s.style(t);
                                if (null != a && a.hasValue()) return a
                            }
                        }
                        return 1 == e && (r = new o.Property(t, ""), this.styles[t] = r), r || o.EmptyProperty
                    }, this.render = function(t) {
                        if ("none" != this.style("display").value && "hidden" != this.style("visibility").value) {
                            if (t.save(), this.style("mask").hasValue()) {
                                var e = this.style("mask").getDefinition();
                                null != e && e.apply(t, this)
                            } else if (this.style("filter").hasValue()) {
                                var n = this.style("filter").getDefinition();
                                null != n && n.apply(t, this)
                            } else this.setContext(t), this.renderChildren(t), this.clearContext(t);
                            t.restore()
                        }
                    }, this.setContext = function(t) {}, this.clearContext = function(t) {}, this.renderChildren = function(t) {
                        for (var e = 0; e < this.children.length; e++) this.children[e].render(t)
                    }, this.addChild = function(t, e) {
                        var n = t;
                        e && (n = o.CreateElement(t)), n.parent = this, "title" != n.type && this.children.push(n)
                    }, this.addStylesFromStyleDefinition = function() {
                        for (var e in o.Styles)
                            if ("@" != e[0] && a(t, e)) {
                                var n = o.Styles[e],
                                    r = o.StylesSpecificity[e];
                                if (null != n)
                                    for (var i in n) {
                                        var s = this.stylesSpecificity[i];
                                        void 0 === s && (s = "000"), r > s && (this.styles[i] = n[i], this.stylesSpecificity[i] = r)
                                    }
                            }
                    };
                    var e = new RegExp("^[A-Z-]+$");
                    if (null != t && 1 == t.nodeType) {
                        for (var n = 0; n < t.attributes.length; n++) {
                            var r = t.attributes[n],
                                i = function(t) {
                                    return e.test(t) ? t.toLowerCase() : t
                                }(r.nodeName);
                            this.attributes[i] = new o.Property(i, r.value)
                        }
                        if (this.addStylesFromStyleDefinition(), this.attribute("style").hasValue())
                            for (var s = this.attribute("style").value.split(";"), n = 0; n < s.length; n++)
                                if ("" != o.trim(s[n])) {
                                    var u = s[n].split(":"),
                                        l = o.trim(u[0]),
                                        c = o.trim(u[1]);
                                    this.styles[l] = new o.Property(l, c)
                                } this.attribute("id").hasValue() && null == o.Definitions[this.attribute("id").value] && (o.Definitions[this.attribute("id").value] = this);
                        for (var n = 0; n < t.childNodes.length; n++) {
                            var h = t.childNodes[n];
                            if (1 == h.nodeType && this.addChild(h, !0), this.captureTextNodes && (3 == h.nodeType || 4 == h.nodeType)) {
                                var f = h.value || h.text || h.textContent || "";
                                "" != o.compressSpaces(f) && this.addChild(new o.Element.tspan(h), !1)
                            }
                        }
                    }
                }, o.Element.RenderedElementBase = function(t) {
                    this.base = o.Element.ElementBase, this.base(t), this.setContext = function(t) {
                        if (this.style("fill").isUrlDefinition()) {
                            var e = this.style("fill").getFillStyleDefinition(this, this.style("fill-opacity"));
                            null != e && (t.fillStyle = e)
                        } else if (this.style("fill").hasValue()) {
                            var n = this.style("fill");
                            "currentColor" == n.value && (n.value = this.style("color").value), "inherit" != n.value && (t.fillStyle = "none" == n.value ? "rgba(0,0,0,0)" : n.value)
                        }
                        if (this.style("fill-opacity").hasValue()) {
                            var n = new o.Property("fill", t.fillStyle);
                            n = n.addOpacity(this.style("fill-opacity")), t.fillStyle = n.value
                        }
                        if (this.style("stroke").isUrlDefinition()) {
                            var e = this.style("stroke").getFillStyleDefinition(this, this.style("stroke-opacity"));
                            null != e && (t.strokeStyle = e)
                        } else if (this.style("stroke").hasValue()) {
                            var r = this.style("stroke");
                            "currentColor" == r.value && (r.value = this.style("color").value), "inherit" != r.value && (t.strokeStyle = "none" == r.value ? "rgba(0,0,0,0)" : r.value)
                        }
                        if (this.style("stroke-opacity").hasValue()) {
                            var r = new o.Property("stroke", t.strokeStyle);
                            r = r.addOpacity(this.style("stroke-opacity")), t.strokeStyle = r.value
                        }
                        if (this.style("stroke-width").hasValue()) {
                            var i = this.style("stroke-width").toPixels();
                            t.lineWidth = 0 == i ? .001 : i
                        }
                        if (this.style("stroke-linecap").hasValue() && (t.lineCap = this.style("stroke-linecap").value), this.style("stroke-linejoin").hasValue() && (t.lineJoin = this.style("stroke-linejoin").value), this.style("stroke-miterlimit").hasValue() && (t.miterLimit = this.style("stroke-miterlimit").value), this.style("stroke-dasharray").hasValue() && "none" != this.style("stroke-dasharray").value) {
                            var s = o.ToNumberArray(this.style("stroke-dasharray").value);
                            void 0 !== t.setLineDash ? t.setLineDash(s) : void 0 !== t.webkitLineDash ? t.webkitLineDash = s : void 0 === t.mozDash || 1 == s.length && 0 == s[0] || (t.mozDash = s);
                            var a = this.style("stroke-dashoffset").numValueOrDefault(1);
                            void 0 !== t.lineDashOffset ? t.lineDashOffset = a : void 0 !== t.webkitLineDashOffset ? t.webkitLineDashOffset = a : void 0 !== t.mozDashOffset && (t.mozDashOffset = a)
                        }
                        if (void 0 !== t.font && (t.font = o.Font.CreateFont(this.style("font-style").value, this.style("font-variant").value, this.style("font-weight").value, this.style("font-size").hasValue() ? this.style("font-size").toPixels() + "px" : "", this.style("font-family").value).toString()), this.style("transform", !1, !0).hasValue()) {
                            new o.Transform(this.style("transform", !1, !0).value).apply(t)
                        }
                        if (this.style("clip-path", !1, !0).hasValue()) {
                            var u = this.style("clip-path", !1, !0).getDefinition();
                            null != u && u.apply(t)
                        }
                        this.style("opacity").hasValue() && (t.globalAlpha = this.style("opacity").numValue())
                    }
                }, o.Element.RenderedElementBase.prototype = new o.Element.ElementBase, o.Element.PathElementBase = function(t) {
                    this.base = o.Element.RenderedElementBase, this.base(t), this.path = function(t) {
                        return null != t && t.beginPath(), new o.BoundingBox
                    }, this.renderChildren = function(t) {
                        this.path(t), o.Mouse.checkPath(this, t), "" != t.fillStyle && ("inherit" != this.style("fill-rule").valueOrDefault("inherit") ? t.fill(this.style("fill-rule").value) : t.fill()), "" != t.strokeStyle && t.stroke();
                        var e = this.getMarkers();
                        if (null != e) {
                            if (this.style("marker-start").isUrlDefinition()) {
                                var n = this.style("marker-start").getDefinition();
                                n.render(t, e[0][0], e[0][1])
                            }
                            if (this.style("marker-mid").isUrlDefinition())
                                for (var n = this.style("marker-mid").getDefinition(), r = 1; r < e.length - 1; r++) n.render(t, e[r][0], e[r][1]);
                            if (this.style("marker-end").isUrlDefinition()) {
                                var n = this.style("marker-end").getDefinition();
                                n.render(t, e[e.length - 1][0], e[e.length - 1][1])
                            }
                        }
                    }, this.getBoundingBox = function() {
                        return this.path()
                    }, this.getMarkers = function() {
                        return null
                    }
                }, o.Element.PathElementBase.prototype = new o.Element.RenderedElementBase, o.Element.svg = function(t) {
                    this.base = o.Element.RenderedElementBase, this.base(t), this.baseClearContext = this.clearContext, this.clearContext = function(t) {
                        this.baseClearContext(t), o.ViewPort.RemoveCurrent()
                    }, this.baseSetContext = this.setContext, this.setContext = function(t) {
                        t.strokeStyle = "rgba(0,0,0,0)", t.lineCap = "butt", t.lineJoin = "miter", t.miterLimit = 4, void 0 !== t.font && void 0 !== window.getComputedStyle && (t.font = window.getComputedStyle(t.canvas).getPropertyValue("font")), this.baseSetContext(t), this.attribute("x").hasValue() || (this.attribute("x", !0).value = 0), this.attribute("y").hasValue() || (this.attribute("y", !0).value = 0), t.translate(this.attribute("x").toPixels("x"), this.attribute("y").toPixels("y"));
                        var e = o.ViewPort.width(),
                            n = o.ViewPort.height();
                        if (this.attribute("width").hasValue() || (this.attribute("width", !0).value = "100%"), this.attribute("height").hasValue() || (this.attribute("height", !0).value = "100%"), void 0 === this.root) {
                            e = this.attribute("width").toPixels("x"), n = this.attribute("height").toPixels("y");
                            var r = 0,
                                i = 0;
                            this.attribute("refX").hasValue() && this.attribute("refY").hasValue() && (r = -this.attribute("refX").toPixels("x"), i = -this.attribute("refY").toPixels("y")), "visible" != this.attribute("overflow").valueOrDefault("hidden") && (t.beginPath(), t.moveTo(r, i), t.lineTo(e, i), t.lineTo(e, n), t.lineTo(r, n), t.closePath(), t.clip())
                        }
                        if (o.ViewPort.SetCurrent(e, n), this.attribute("viewBox").hasValue()) {
                            var s = o.ToNumberArray(this.attribute("viewBox").value),
                                a = s[0],
                                u = s[1];
                            e = s[2], n = s[3], o.AspectRatio(t, this.attribute("preserveAspectRatio").value, o.ViewPort.width(), e, o.ViewPort.height(), n, a, u, this.attribute("refX").value, this.attribute("refY").value), o.ViewPort.RemoveCurrent(), o.ViewPort.SetCurrent(s[2], s[3])
                        }
                    }
                }, o.Element.svg.prototype = new o.Element.RenderedElementBase, o.Element.rect = function(t) {
                    this.base = o.Element.PathElementBase, this.base(t), this.path = function(t) {
                        var e = this.attribute("x").toPixels("x"),
                            n = this.attribute("y").toPixels("y"),
                            r = this.attribute("width").toPixels("x"),
                            i = this.attribute("height").toPixels("y"),
                            s = this.attribute("rx").toPixels("x"),
                            a = this.attribute("ry").toPixels("y");
                        return this.attribute("rx").hasValue() && !this.attribute("ry").hasValue() && (a = s), this.attribute("ry").hasValue() && !this.attribute("rx").hasValue() && (s = a), s = Math.min(s, r / 2), a = Math.min(a, i / 2), null != t && (t.beginPath(), t.moveTo(e + s, n), t.lineTo(e + r - s, n), t.quadraticCurveTo(e + r, n, e + r, n + a), t.lineTo(e + r, n + i - a), t.quadraticCurveTo(e + r, n + i, e + r - s, n + i), t.lineTo(e + s, n + i), t.quadraticCurveTo(e, n + i, e, n + i - a), t.lineTo(e, n + a), t.quadraticCurveTo(e, n, e + s, n), t.closePath()), new o.BoundingBox(e, n, e + r, n + i)
                    }
                }, o.Element.rect.prototype = new o.Element.PathElementBase, o.Element.circle = function(t) {
                    this.base = o.Element.PathElementBase, this.base(t), this.path = function(t) {
                        var e = this.attribute("cx").toPixels("x"),
                            n = this.attribute("cy").toPixels("y"),
                            r = this.attribute("r").toPixels();
                        return null != t && (t.beginPath(), t.arc(e, n, r, 0, 2 * Math.PI, !0), t.closePath()), new o.BoundingBox(e - r, n - r, e + r, n + r)
                    }
                }, o.Element.circle.prototype = new o.Element.PathElementBase, o.Element.ellipse = function(t) {
                    this.base = o.Element.PathElementBase, this.base(t), this.path = function(t) {
                        var e = (Math.sqrt(2) - 1) / 3 * 4,
                            n = this.attribute("rx").toPixels("x"),
                            r = this.attribute("ry").toPixels("y"),
                            i = this.attribute("cx").toPixels("x"),
                            s = this.attribute("cy").toPixels("y");
                        return null != t && (t.beginPath(), t.moveTo(i, s - r), t.bezierCurveTo(i + e * n, s - r, i + n, s - e * r, i + n, s), t.bezierCurveTo(i + n, s + e * r, i + e * n, s + r, i, s + r), t.bezierCurveTo(i - e * n, s + r, i - n, s + e * r, i - n, s), t.bezierCurveTo(i - n, s - e * r, i - e * n, s - r, i, s - r), t.closePath()), new o.BoundingBox(i - n, s - r, i + n, s + r)
                    }
                }, o.Element.ellipse.prototype = new o.Element.PathElementBase, o.Element.line = function(t) {
                    this.base = o.Element.PathElementBase, this.base(t), this.getPoints = function() {
                        return [new o.Point(this.attribute("x1").toPixels("x"), this.attribute("y1").toPixels("y")), new o.Point(this.attribute("x2").toPixels("x"), this.attribute("y2").toPixels("y"))]
                    }, this.path = function(t) {
                        var e = this.getPoints();
                        return null != t && (t.beginPath(), t.moveTo(e[0].x, e[0].y), t.lineTo(e[1].x, e[1].y)), new o.BoundingBox(e[0].x, e[0].y, e[1].x, e[1].y)
                    }, this.getMarkers = function() {
                        var t = this.getPoints(),
                            e = t[0].angleTo(t[1]);
                        return [
                            [t[0], e],
                            [t[1], e]
                        ]
                    }
                }, o.Element.line.prototype = new o.Element.PathElementBase, o.Element.polyline = function(t) {
                    this.base = o.Element.PathElementBase, this.base(t), this.points = o.CreatePath(this.attribute("points").value), this.path = function(t) {
                        var e = new o.BoundingBox(this.points[0].x, this.points[0].y);
                        null != t && (t.beginPath(), t.moveTo(this.points[0].x, this.points[0].y));
                        for (var n = 1; n < this.points.length; n++) e.addPoint(this.points[n].x, this.points[n].y), null != t && t.lineTo(this.points[n].x, this.points[n].y);
                        return e
                    }, this.getMarkers = function() {
                        for (var t = [], e = 0; e < this.points.length - 1; e++) t.push([this.points[e], this.points[e].angleTo(this.points[e + 1])]);
                        return t.length > 0 && t.push([this.points[this.points.length - 1], t[t.length - 1][1]]), t
                    }
                }, o.Element.polyline.prototype = new o.Element.PathElementBase, o.Element.polygon = function(t) {
                    this.base = o.Element.polyline, this.base(t), this.basePath = this.path, this.path = function(t) {
                        var e = this.basePath(t);
                        return null != t && (t.lineTo(this.points[0].x, this.points[0].y), t.closePath()), e
                    }
                }, o.Element.polygon.prototype = new o.Element.polyline, o.Element.path = function(t) {
                    this.base = o.Element.PathElementBase, this.base(t);
                    var e = this.attribute("d").value;
                    e = e.replace(/,/gm, " ");
                    for (var n = 0; n < 2; n++) e = e.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm, "$1 $2");
                    e = e.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm, "$1 $2"), e = e.replace(/([0-9])([+\-])/gm, "$1 $2");
                    for (var n = 0; n < 2; n++) e = e.replace(/(\.[0-9]*)(\.)/gm, "$1 $2");
                    e = e.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm, "$1 $3 $4 "), e = o.compressSpaces(e), e = o.trim(e), this.PathParser = new function(t) {
                        this.tokens = t.split(" "), this.reset = function() {
                            this.i = -1, this.command = "", this.previousCommand = "", this.start = new o.Point(0, 0), this.control = new o.Point(0, 0), this.current = new o.Point(0, 0), this.points = [], this.angles = []
                        }, this.isEnd = function() {
                            return this.i >= this.tokens.length - 1
                        }, this.isCommandOrEnd = function() {
                            return !!this.isEnd() || null != this.tokens[this.i + 1].match(/^[A-Za-z]$/)
                        }, this.isRelativeCommand = function() {
                            switch (this.command) {
                                case "m":
                                case "l":
                                case "h":
                                case "v":
                                case "c":
                                case "s":
                                case "q":
                                case "t":
                                case "a":
                                case "z":
                                    return !0
                            }
                            return !1
                        }, this.getToken = function() {
                            return this.i++, this.tokens[this.i]
                        }, this.getScalar = function() {
                            return parseFloat(this.getToken())
                        }, this.nextCommand = function() {
                            this.previousCommand = this.command, this.command = this.getToken()
                        }, this.getPoint = function() {
                            var t = new o.Point(this.getScalar(), this.getScalar());
                            return this.makeAbsolute(t)
                        }, this.getAsControlPoint = function() {
                            var t = this.getPoint();
                            return this.control = t, t
                        }, this.getAsCurrentPoint = function() {
                            var t = this.getPoint();
                            return this.current = t, t
                        }, this.getReflectedControlPoint = function() {
                            return "c" != this.previousCommand.toLowerCase() && "s" != this.previousCommand.toLowerCase() && "q" != this.previousCommand.toLowerCase() && "t" != this.previousCommand.toLowerCase() ? this.current : new o.Point(2 * this.current.x - this.control.x, 2 * this.current.y - this.control.y)
                        }, this.makeAbsolute = function(t) {
                            return this.isRelativeCommand() && (t.x += this.current.x, t.y += this.current.y), t
                        }, this.addMarker = function(t, e, n) {
                            null != n && this.angles.length > 0 && null == this.angles[this.angles.length - 1] && (this.angles[this.angles.length - 1] = this.points[this.points.length - 1].angleTo(n)), this.addMarkerAngle(t, null == e ? null : e.angleTo(t))
                        }, this.addMarkerAngle = function(t, e) {
                            this.points.push(t), this.angles.push(e)
                        }, this.getMarkerPoints = function() {
                            return this.points
                        }, this.getMarkerAngles = function() {
                            for (var t = 0; t < this.angles.length; t++)
                                if (null == this.angles[t])
                                    for (var e = t + 1; e < this.angles.length; e++)
                                        if (null != this.angles[e]) {
                                            this.angles[t] = this.angles[e];
                                            break
                                        } return this.angles
                        }
                    }(e), this.path = function(t) {
                        var e = this.PathParser;
                        e.reset();
                        var n = new o.BoundingBox;
                        for (null != t && t.beginPath(); !e.isEnd();) switch (e.nextCommand(), e.command) {
                            case "M":
                            case "m":
                                var r = e.getAsCurrentPoint();
                                for (e.addMarker(r), n.addPoint(r.x, r.y), null != t && t.moveTo(r.x, r.y), e.start = e.current; !e.isCommandOrEnd();) {
                                    var r = e.getAsCurrentPoint();
                                    e.addMarker(r, e.start), n.addPoint(r.x, r.y), null != t && t.lineTo(r.x, r.y)
                                }
                                break;
                            case "L":
                            case "l":
                                for (; !e.isCommandOrEnd();) {
                                    var i = e.current,
                                        r = e.getAsCurrentPoint();
                                    e.addMarker(r, i), n.addPoint(r.x, r.y), null != t && t.lineTo(r.x, r.y)
                                }
                                break;
                            case "H":
                            case "h":
                                for (; !e.isCommandOrEnd();) {
                                    var s = new o.Point((e.isRelativeCommand() ? e.current.x : 0) + e.getScalar(), e.current.y);
                                    e.addMarker(s, e.current), e.current = s, n.addPoint(e.current.x, e.current.y), null != t && t.lineTo(e.current.x, e.current.y)
                                }
                                break;
                            case "V":
                            case "v":
                                for (; !e.isCommandOrEnd();) {
                                    var s = new o.Point(e.current.x, (e.isRelativeCommand() ? e.current.y : 0) + e.getScalar());
                                    e.addMarker(s, e.current), e.current = s, n.addPoint(e.current.x, e.current.y), null != t && t.lineTo(e.current.x, e.current.y)
                                }
                                break;
                            case "C":
                            case "c":
                                for (; !e.isCommandOrEnd();) {
                                    var a = e.current,
                                        u = e.getPoint(),
                                        l = e.getAsControlPoint(),
                                        c = e.getAsCurrentPoint();
                                    e.addMarker(c, l, u), n.addBezierCurve(a.x, a.y, u.x, u.y, l.x, l.y, c.x, c.y), null != t && t.bezierCurveTo(u.x, u.y, l.x, l.y, c.x, c.y)
                                }
                                break;
                            case "S":
                            case "s":
                                for (; !e.isCommandOrEnd();) {
                                    var a = e.current,
                                        u = e.getReflectedControlPoint(),
                                        l = e.getAsControlPoint(),
                                        c = e.getAsCurrentPoint();
                                    e.addMarker(c, l, u), n.addBezierCurve(a.x, a.y, u.x, u.y, l.x, l.y, c.x, c.y), null != t && t.bezierCurveTo(u.x, u.y, l.x, l.y, c.x, c.y)
                                }
                                break;
                            case "Q":
                            case "q":
                                for (; !e.isCommandOrEnd();) {
                                    var a = e.current,
                                        l = e.getAsControlPoint(),
                                        c = e.getAsCurrentPoint();
                                    e.addMarker(c, l, l), n.addQuadraticCurve(a.x, a.y, l.x, l.y, c.x, c.y), null != t && t.quadraticCurveTo(l.x, l.y, c.x, c.y)
                                }
                                break;
                            case "T":
                            case "t":
                                for (; !e.isCommandOrEnd();) {
                                    var a = e.current,
                                        l = e.getReflectedControlPoint();
                                    e.control = l;
                                    var c = e.getAsCurrentPoint();
                                    e.addMarker(c, l, l), n.addQuadraticCurve(a.x, a.y, l.x, l.y, c.x, c.y), null != t && t.quadraticCurveTo(l.x, l.y, c.x, c.y)
                                }
                                break;
                            case "A":
                            case "a":
                                for (; !e.isCommandOrEnd();) {
                                    var a = e.current,
                                        h = e.getScalar(),
                                        f = e.getScalar(),
                                        p = e.getScalar() * (Math.PI / 180),
                                        d = e.getScalar(),
                                        g = e.getScalar(),
                                        c = e.getAsCurrentPoint(),
                                        m = new o.Point(Math.cos(p) * (a.x - c.x) / 2 + Math.sin(p) * (a.y - c.y) / 2, -Math.sin(p) * (a.x - c.x) / 2 + Math.cos(p) * (a.y - c.y) / 2),
                                        v = Math.pow(m.x, 2) / Math.pow(h, 2) + Math.pow(m.y, 2) / Math.pow(f, 2);
                                    v > 1 && (h *= Math.sqrt(v), f *= Math.sqrt(v));
                                    var b = (d == g ? -1 : 1) * Math.sqrt((Math.pow(h, 2) * Math.pow(f, 2) - Math.pow(h, 2) * Math.pow(m.y, 2) - Math.pow(f, 2) * Math.pow(m.x, 2)) / (Math.pow(h, 2) * Math.pow(m.y, 2) + Math.pow(f, 2) * Math.pow(m.x, 2)));
                                    isNaN(b) && (b = 0);
                                    var y = new o.Point(b * h * m.y / f, b * -f * m.x / h),
                                        _ = new o.Point((a.x + c.x) / 2 + Math.cos(p) * y.x - Math.sin(p) * y.y, (a.y + c.y) / 2 + Math.sin(p) * y.x + Math.cos(p) * y.y),
                                        w = function(t) {
                                            return Math.sqrt(Math.pow(t[0], 2) + Math.pow(t[1], 2))
                                        },
                                        x = function(t, e) {
                                            return (t[0] * e[0] + t[1] * e[1]) / (w(t) * w(e))
                                        },
                                        T = function(t, e) {
                                            return (t[0] * e[1] < t[1] * e[0] ? -1 : 1) * Math.acos(x(t, e))
                                        },
                                        C = T([1, 0], [(m.x - y.x) / h, (m.y - y.y) / f]),
                                        I = [(m.x - y.x) / h, (m.y - y.y) / f],
                                        S = [(-m.x - y.x) / h, (-m.y - y.y) / f],
                                        O = T(I, S);
                                    x(I, S) <= -1 && (O = Math.PI), x(I, S) >= 1 && (O = 0);
                                    var E = 1 - g ? 1 : -1,
                                        P = C + E * (O / 2),
                                        M = new o.Point(_.x + h * Math.cos(P), _.y + f * Math.sin(P));
                                    if (e.addMarkerAngle(M, P - E * Math.PI / 2), e.addMarkerAngle(c, P - E * Math.PI), n.addPoint(c.x, c.y), null != t) {
                                        var x = h > f ? h : f,
                                            k = h > f ? 1 : h / f,
                                            L = h > f ? f / h : 1;
                                        t.translate(_.x, _.y), t.rotate(p), t.scale(k, L), t.arc(0, 0, x, C, C + O, 1 - g), t.scale(1 / k, 1 / L), t.rotate(-p), t.translate(-_.x, -_.y)
                                    }
                                }
                                break;
                            case "Z":
                            case "z":
                                null != t && t.closePath(), e.current = e.start
                        }
                        return n
                    }, this.getMarkers = function() {
                        for (var t = this.PathParser.getMarkerPoints(), e = this.PathParser.getMarkerAngles(), n = [], r = 0; r < t.length; r++) n.push([t[r], e[r]]);
                        return n
                    }
                }, o.Element.path.prototype = new o.Element.PathElementBase, o.Element.pattern = function(t) {
                    this.base = o.Element.ElementBase, this.base(t), this.createPattern = function(t, e) {
                        var n = this.attribute("width").toPixels("x", !0),
                            r = this.attribute("height").toPixels("y", !0),
                            i = new o.Element.svg;
                        i.attributes.viewBox = new o.Property("viewBox", this.attribute("viewBox").value), i.attributes.width = new o.Property("width", n + "px"), i.attributes.height = new o.Property("height", r + "px"), i.attributes.transform = new o.Property("transform", this.attribute("patternTransform").value), i.children = this.children;
                        var s = document.createElement("canvas");
                        s.width = n, s.height = r;
                        var a = s.getContext("2d");
                        this.attribute("x").hasValue() && this.attribute("y").hasValue() && a.translate(this.attribute("x").toPixels("x", !0), this.attribute("y").toPixels("y", !0));
                        for (var u = -1; u <= 1; u++)
                            for (var l = -1; l <= 1; l++) a.save(), i.attributes.x = new o.Property("x", u * s.width), i.attributes.y = new o.Property("y", l * s.height), i.render(a), a.restore();
                        return t.createPattern(s, "repeat")
                    }
                }, o.Element.pattern.prototype = new o.Element.ElementBase, o.Element.marker = function(t) {
                    this.base = o.Element.ElementBase, this.base(t), this.baseRender = this.render, this.render = function(t, e, n) {
                        t.translate(e.x, e.y), "auto" == this.attribute("orient").valueOrDefault("auto") && t.rotate(n), "strokeWidth" == this.attribute("markerUnits").valueOrDefault("strokeWidth") && t.scale(t.lineWidth, t.lineWidth), t.save();
                        var r = new o.Element.svg;
                        r.attributes.viewBox = new o.Property("viewBox", this.attribute("viewBox").value), r.attributes.refX = new o.Property("refX", this.attribute("refX").value), r.attributes.refY = new o.Property("refY", this.attribute("refY").value), r.attributes.width = new o.Property("width", this.attribute("markerWidth").value), r.attributes.height = new o.Property("height", this.attribute("markerHeight").value), r.attributes.fill = new o.Property("fill", this.attribute("fill").valueOrDefault("black")), r.attributes.stroke = new o.Property("stroke", this.attribute("stroke").valueOrDefault("none")), r.children = this.children, r.render(t), t.restore(), "strokeWidth" == this.attribute("markerUnits").valueOrDefault("strokeWidth") && t.scale(1 / t.lineWidth, 1 / t.lineWidth), "auto" == this.attribute("orient").valueOrDefault("auto") && t.rotate(-n), t.translate(-e.x, -e.y)
                    }
                }, o.Element.marker.prototype = new o.Element.ElementBase, o.Element.defs = function(t) {
                    this.base = o.Element.ElementBase, this.base(t), this.render = function(t) {}
                }, o.Element.defs.prototype = new o.Element.ElementBase, o.Element.GradientBase = function(t) {
                    this.base = o.Element.ElementBase, this.base(t), this.stops = [];
                    for (var e = 0; e < this.children.length; e++) {
                        var n = this.children[e];
                        "stop" == n.type && this.stops.push(n)
                    }
                    this.getGradient = function() {}, this.gradientUnits = function() {
                        return this.attribute("gradientUnits").valueOrDefault("objectBoundingBox")
                    }, this.attributesToInherit = ["gradientUnits"], this.inheritStopContainer = function(t) {
                        for (var e = 0; e < this.attributesToInherit.length; e++) {
                            var n = this.attributesToInherit[e];
                            !this.attribute(n).hasValue() && t.attribute(n).hasValue() && (this.attribute(n, !0).value = t.attribute(n).value)
                        }
                    }, this.createGradient = function(t, e, n) {
                        var r = this;
                        this.getHrefAttribute().hasValue() && (r = this.getHrefAttribute().getDefinition(), this.inheritStopContainer(r));
                        var i = function(t) {
                                if (n.hasValue()) {
                                    return new o.Property("color", t).addOpacity(n).value
                                }
                                return t
                            },
                            s = this.getGradient(t, e);
                        if (null == s) return i(r.stops[r.stops.length - 1].color);
                        for (var a = 0; a < r.stops.length; a++) s.addColorStop(r.stops[a].offset, i(r.stops[a].color));
                        if (this.attribute("gradientTransform").hasValue()) {
                            var u = o.ViewPort.viewPorts[0],
                                l = new o.Element.rect;
                            l.attributes.x = new o.Property("x", -o.MAX_VIRTUAL_PIXELS / 3), l.attributes.y = new o.Property("y", -o.MAX_VIRTUAL_PIXELS / 3), l.attributes.width = new o.Property("width", o.MAX_VIRTUAL_PIXELS), l.attributes.height = new o.Property("height", o.MAX_VIRTUAL_PIXELS);
                            var c = new o.Element.g;
                            c.attributes.transform = new o.Property("transform", this.attribute("gradientTransform").value), c.children = [l];
                            var h = new o.Element.svg;
                            h.attributes.x = new o.Property("x", 0), h.attributes.y = new o.Property("y", 0), h.attributes.width = new o.Property("width", u.width), h.attributes.height = new o.Property("height", u.height), h.children = [c];
                            var f = document.createElement("canvas");
                            f.width = u.width, f.height = u.height;
                            var p = f.getContext("2d");
                            return p.fillStyle = s, h.render(p), p.createPattern(f, "no-repeat")
                        }
                        return s
                    }
                }, o.Element.GradientBase.prototype = new o.Element.ElementBase, o.Element.linearGradient = function(t) {
                    this.base = o.Element.GradientBase, this.base(t), this.attributesToInherit.push("x1"), this.attributesToInherit.push("y1"), this.attributesToInherit.push("x2"), this.attributesToInherit.push("y2"), this.getGradient = function(t, e) {
                        var n = "objectBoundingBox" == this.gradientUnits() ? e.getBoundingBox() : null;
                        this.attribute("x1").hasValue() || this.attribute("y1").hasValue() || this.attribute("x2").hasValue() || this.attribute("y2").hasValue() || (this.attribute("x1", !0).value = 0, this.attribute("y1", !0).value = 0, this.attribute("x2", !0).value = 1, this.attribute("y2", !0).value = 0);
                        var r = "objectBoundingBox" == this.gradientUnits() ? n.x() + n.width() * this.attribute("x1").numValue() : this.attribute("x1").toPixels("x"),
                            i = "objectBoundingBox" == this.gradientUnits() ? n.y() + n.height() * this.attribute("y1").numValue() : this.attribute("y1").toPixels("y"),
                            o = "objectBoundingBox" == this.gradientUnits() ? n.x() + n.width() * this.attribute("x2").numValue() : this.attribute("x2").toPixels("x"),
                            s = "objectBoundingBox" == this.gradientUnits() ? n.y() + n.height() * this.attribute("y2").numValue() : this.attribute("y2").toPixels("y");
                        return r == o && i == s ? null : t.createLinearGradient(r, i, o, s)
                    }
                }, o.Element.linearGradient.prototype = new o.Element.GradientBase, o.Element.radialGradient = function(t) {
                    this.base = o.Element.GradientBase, this.base(t), this.attributesToInherit.push("cx"), this.attributesToInherit.push("cy"), this.attributesToInherit.push("r"), this.attributesToInherit.push("fx"), this.attributesToInherit.push("fy"), this.getGradient = function(t, e) {
                        var n = e.getBoundingBox();
                        this.attribute("cx").hasValue() || (this.attribute("cx", !0).value = "50%"), this.attribute("cy").hasValue() || (this.attribute("cy", !0).value = "50%"), this.attribute("r").hasValue() || (this.attribute("r", !0).value = "50%");
                        var r = "objectBoundingBox" == this.gradientUnits() ? n.x() + n.width() * this.attribute("cx").numValue() : this.attribute("cx").toPixels("x"),
                            i = "objectBoundingBox" == this.gradientUnits() ? n.y() + n.height() * this.attribute("cy").numValue() : this.attribute("cy").toPixels("y"),
                            o = r,
                            s = i;
                        this.attribute("fx").hasValue() && (o = "objectBoundingBox" == this.gradientUnits() ? n.x() + n.width() * this.attribute("fx").numValue() : this.attribute("fx").toPixels("x")), this.attribute("fy").hasValue() && (s = "objectBoundingBox" == this.gradientUnits() ? n.y() + n.height() * this.attribute("fy").numValue() : this.attribute("fy").toPixels("y"));
                        var a = "objectBoundingBox" == this.gradientUnits() ? (n.width() + n.height()) / 2 * this.attribute("r").numValue() : this.attribute("r").toPixels();
                        return t.createRadialGradient(o, s, 0, r, i, a)
                    }
                }, o.Element.radialGradient.prototype = new o.Element.GradientBase, o.Element.stop = function(t) {
                    this.base = o.Element.ElementBase, this.base(t), this.offset = this.attribute("offset").numValue(), this.offset < 0 && (this.offset = 0), this.offset > 1 && (this.offset = 1);
                    var e = this.style("stop-color", !0);
                    "" === e.value && (e.value = "#000"), this.style("stop-opacity").hasValue() && (e = e.addOpacity(this.style("stop-opacity"))), this.color = e.value
                }, o.Element.stop.prototype = new o.Element.ElementBase, o.Element.AnimateBase = function(t) {
                    this.base = o.Element.ElementBase, this.base(t), o.Animations.push(this), this.duration = 0, this.begin = this.attribute("begin").toMilliseconds(), this.maxDuration = this.begin + this.attribute("dur").toMilliseconds(), this.getProperty = function() {
                        var t = this.attribute("attributeType").value,
                            e = this.attribute("attributeName").value;
                        return "CSS" == t ? this.parent.style(e, !0) : this.parent.attribute(e, !0)
                    }, this.initialValue = null, this.initialUnits = "", this.removed = !1, this.calcValue = function() {
                        return ""
                    }, this.update = function(t) {
                        if (null == this.initialValue && (this.initialValue = this.getProperty().value, this.initialUnits = this.getProperty().getUnits()), this.duration > this.maxDuration) {
                            if ("indefinite" == this.attribute("repeatCount").value || "indefinite" == this.attribute("repeatDur").value) this.duration = 0;
                            else if ("freeze" != this.attribute("fill").valueOrDefault("remove") || this.frozen) {
                                if ("remove" == this.attribute("fill").valueOrDefault("remove") && !this.removed) return this.removed = !0, this.getProperty().value = this.parent.animationFrozen ? this.parent.animationFrozenValue : this.initialValue, !0
                            } else this.frozen = !0, this.parent.animationFrozen = !0, this.parent.animationFrozenValue = this.getProperty().value;
                            return !1
                        }
                        this.duration = this.duration + t;
                        var e = !1;
                        if (this.begin < this.duration) {
                            var n = this.calcValue();
                            if (this.attribute("type").hasValue()) {
                                n = this.attribute("type").value + "(" + n + ")"
                            }
                            this.getProperty().value = n, e = !0
                        }
                        return e
                    }, this.from = this.attribute("from"), this.to = this.attribute("to"), this.values = this.attribute("values"), this.values.hasValue() && (this.values.value = this.values.value.split(";")), this.progress = function() {
                        var t = {
                            progress: (this.duration - this.begin) / (this.maxDuration - this.begin)
                        };
                        if (this.values.hasValue()) {
                            var e = t.progress * (this.values.value.length - 1),
                                n = Math.floor(e),
                                r = Math.ceil(e);
                            t.from = new o.Property("from", parseFloat(this.values.value[n])), t.to = new o.Property("to", parseFloat(this.values.value[r])), t.progress = (e - n) / (r - n)
                        } else t.from = this.from, t.to = this.to;
                        return t
                    }
                }, o.Element.AnimateBase.prototype = new o.Element.ElementBase, o.Element.animate = function(t) {
                    this.base = o.Element.AnimateBase, this.base(t), this.calcValue = function() {
                        var t = this.progress();
                        return t.from.numValue() + (t.to.numValue() - t.from.numValue()) * t.progress + this.initialUnits
                    }
                }, o.Element.animate.prototype = new o.Element.AnimateBase, o.Element.animateColor = function(e) {
                    this.base = o.Element.AnimateBase, this.base(e), this.calcValue = function() {
                        var e = this.progress(),
                            n = new t(e.from.value),
                            r = new t(e.to.value);
                        if (n.ok && r.ok) {
                            var i = n.r + (r.r - n.r) * e.progress,
                                o = n.g + (r.g - n.g) * e.progress,
                                s = n.b + (r.b - n.b) * e.progress;
                            return "rgb(" + parseInt(i, 10) + "," + parseInt(o, 10) + "," + parseInt(s, 10) + ")"
                        }
                        return this.attribute("from").value
                    }
                }, o.Element.animateColor.prototype = new o.Element.AnimateBase, o.Element.animateTransform = function(t) {
                    this.base = o.Element.AnimateBase, this.base(t), this.calcValue = function() {
                        for (var t = this.progress(), e = o.ToNumberArray(t.from.value), n = o.ToNumberArray(t.to.value), r = "", i = 0; i < e.length; i++) r += e[i] + (n[i] - e[i]) * t.progress + " ";
                        return r
                    }
                }, o.Element.animateTransform.prototype = new o.Element.animate, o.Element.font = function(t) {
                    this.base = o.Element.ElementBase, this.base(t), this.horizAdvX = this.attribute("horiz-adv-x").numValue(), this.isRTL = !1, this.isArabic = !1, this.fontFace = null, this.missingGlyph = null, this.glyphs = [];
                    for (var e = 0; e < this.children.length; e++) {
                        var n = this.children[e];
                        "font-face" == n.type ? (this.fontFace = n, n.style("font-family").hasValue() && (o.Definitions[n.style("font-family").value] = this)) : "missing-glyph" == n.type ? this.missingGlyph = n : "glyph" == n.type && ("" != n.arabicForm ? (this.isRTL = !0, this.isArabic = !0, void 0 === this.glyphs[n.unicode] && (this.glyphs[n.unicode] = []), this.glyphs[n.unicode][n.arabicForm] = n) : this.glyphs[n.unicode] = n)
                    }
                }, o.Element.font.prototype = new o.Element.ElementBase, o.Element.fontface = function(t) {
                    this.base = o.Element.ElementBase, this.base(t), this.ascent = this.attribute("ascent").value, this.descent = this.attribute("descent").value, this.unitsPerEm = this.attribute("units-per-em").numValue()
                }, o.Element.fontface.prototype = new o.Element.ElementBase, o.Element.missingglyph = function(t) {
                    this.base = o.Element.path, this.base(t), this.horizAdvX = 0
                }, o.Element.missingglyph.prototype = new o.Element.path, o.Element.glyph = function(t) {
                    this.base = o.Element.path, this.base(t), this.horizAdvX = this.attribute("horiz-adv-x").numValue(), this.unicode = this.attribute("unicode").value, this.arabicForm = this.attribute("arabic-form").value
                }, o.Element.glyph.prototype = new o.Element.path, o.Element.text = function(t) {
                    this.captureTextNodes = !0, this.base = o.Element.RenderedElementBase, this.base(t), this.baseSetContext = this.setContext, this.setContext = function(t) {
                        this.baseSetContext(t);
                        var e = this.style("dominant-baseline").toTextBaseline();
                        null == e && (e = this.style("alignment-baseline").toTextBaseline()), null != e && (t.textBaseline = e)
                    }, this.getBoundingBox = function() {
                        var t = this.attribute("x").toPixels("x"),
                            e = this.attribute("y").toPixels("y"),
                            n = this.parent.style("font-size").numValueOrDefault(o.Font.Parse(o.ctx.font).fontSize);
                        return new o.BoundingBox(t, e - n, t + Math.floor(2 * n / 3) * this.children[0].getText().length, e)
                    }, this.renderChildren = function(t) {
                        this.x = this.attribute("x").toPixels("x"), this.y = this.attribute("y").toPixels("y"), this.attribute("dx").hasValue() && (this.x += this.attribute("dx").toPixels("x")), this.attribute("dy").hasValue() && (this.y += this.attribute("dy").toPixels("y")), this.x += this.getAnchorDelta(t, this, 0);
                        for (var e = 0; e < this.children.length; e++) this.renderChild(t, this, this, e)
                    }, this.getAnchorDelta = function(t, e, n) {
                        var r = this.style("text-anchor").valueOrDefault("start");
                        if ("start" != r) {
                            for (var i = 0, o = n; o < e.children.length; o++) {
                                var s = e.children[o];
                                if (o > n && s.attribute("x").hasValue()) break;
                                i += s.measureTextRecursive(t)
                            }
                            return -1 * ("end" == r ? i : i / 2)
                        }
                        return 0
                    }, this.renderChild = function(t, e, n, r) {
                        var i = n.children[r];
                        i.attribute("x").hasValue() ? (i.x = i.attribute("x").toPixels("x") + e.getAnchorDelta(t, n, r), i.attribute("dx").hasValue() && (i.x += i.attribute("dx").toPixels("x"))) : (i.attribute("dx").hasValue() && (e.x += i.attribute("dx").toPixels("x")), i.x = e.x), e.x = i.x + i.measureText(t), i.attribute("y").hasValue() ? (i.y = i.attribute("y").toPixels("y"), i.attribute("dy").hasValue() && (i.y += i.attribute("dy").toPixels("y"))) : (i.attribute("dy").hasValue() && (e.y += i.attribute("dy").toPixels("y")), i.y = e.y), e.y = i.y, i.render(t);
                        for (var r = 0; r < i.children.length; r++) e.renderChild(t, e, i, r)
                    }
                }, o.Element.text.prototype = new o.Element.RenderedElementBase, o.Element.TextElementBase = function(t) {
                    this.base = o.Element.RenderedElementBase, this.base(t), this.getGlyph = function(t, e, n) {
                        var r = e[n],
                            i = null;
                        if (t.isArabic) {
                            var o = "isolated";
                            (0 == n || " " == e[n - 1]) && n < e.length - 2 && " " != e[n + 1] && (o = "terminal"), n > 0 && " " != e[n - 1] && n < e.length - 2 && " " != e[n + 1] && (o = "medial"), n > 0 && " " != e[n - 1] && (n == e.length - 1 || " " == e[n + 1]) && (o = "initial"), void 0 !== t.glyphs[r] && null == (i = t.glyphs[r][o]) && "glyph" == t.glyphs[r].type && (i = t.glyphs[r])
                        } else i = t.glyphs[r];
                        return null == i && (i = t.missingGlyph), i
                    }, this.renderChildren = function(t) {
                        var e = this.parent.style("font-family").getDefinition();
                        if (null == e) "" != t.fillStyle && t.fillText(o.compressSpaces(this.getText()), this.x, this.y), "" != t.strokeStyle && t.strokeText(o.compressSpaces(this.getText()), this.x, this.y);
                        else {
                            var n = this.parent.style("font-size").numValueOrDefault(o.Font.Parse(o.ctx.font).fontSize),
                                r = this.parent.style("font-style").valueOrDefault(o.Font.Parse(o.ctx.font).fontStyle),
                                i = this.getText();
                            e.isRTL && (i = i.split("").reverse().join(""));
                            for (var s = o.ToNumberArray(this.parent.attribute("dx").value), a = 0; a < i.length; a++) {
                                var u = this.getGlyph(e, i, a),
                                    l = n / e.fontFace.unitsPerEm;
                                t.translate(this.x, this.y), t.scale(l, -l);
                                var c = t.lineWidth;
                                t.lineWidth = t.lineWidth * e.fontFace.unitsPerEm / n, "italic" == r && t.transform(1, 0, .4, 1, 0, 0), u.render(t), "italic" == r && t.transform(1, 0, -.4, 1, 0, 0), t.lineWidth = c, t.scale(1 / l, -1 / l), t.translate(-this.x, -this.y), this.x += n * (u.horizAdvX || e.horizAdvX) / e.fontFace.unitsPerEm, void 0 === s[a] || isNaN(s[a]) || (this.x += s[a])
                            }
                        }
                    }, this.getText = function() {}, this.measureTextRecursive = function(t) {
                        for (var e = this.measureText(t), n = 0; n < this.children.length; n++) e += this.children[n].measureTextRecursive(t);
                        return e
                    }, this.measureText = function(t) {
                        var e = this.parent.style("font-family").getDefinition();
                        if (null != e) {
                            var n = this.parent.style("font-size").numValueOrDefault(o.Font.Parse(o.ctx.font).fontSize),
                                r = 0,
                                i = this.getText();
                            e.isRTL && (i = i.split("").reverse().join(""));
                            for (var s = o.ToNumberArray(this.parent.attribute("dx").value), a = 0; a < i.length; a++) {
                                r += (this.getGlyph(e, i, a).horizAdvX || e.horizAdvX) * n / e.fontFace.unitsPerEm, void 0 === s[a] || isNaN(s[a]) || (r += s[a])
                            }
                            return r
                        }
                        var u = o.compressSpaces(this.getText());
                        if (!t.measureText) return 10 * u.length;
                        t.save(), this.setContext(t);
                        var l = t.measureText(u).width;
                        return t.restore(), l
                    }
                }, o.Element.TextElementBase.prototype = new o.Element.RenderedElementBase, o.Element.tspan = function(t) {
                    this.captureTextNodes = !0, this.base = o.Element.TextElementBase, this.base(t), this.text = o.compressSpaces(t.value || t.text || t.textContent || ""), this.getText = function() {
                        return this.children.length > 0 ? "" : this.text
                    }
                }, o.Element.tspan.prototype = new o.Element.TextElementBase, o.Element.tref = function(t) {
                    this.base = o.Element.TextElementBase, this.base(t), this.getText = function() {
                        var t = this.getHrefAttribute().getDefinition();
                        if (null != t) return t.children[0].getText()
                    }
                }, o.Element.tref.prototype = new o.Element.TextElementBase, o.Element.a = function(t) {
                    this.base = o.Element.TextElementBase, this.base(t), this.hasText = t.childNodes.length > 0;
                    for (var e = 0; e < t.childNodes.length; e++) 3 != t.childNodes[e].nodeType && (this.hasText = !1);
                    this.text = this.hasText ? t.childNodes[0].value : "", this.getText = function() {
                        return this.text
                    }, this.baseRenderChildren = this.renderChildren, this.renderChildren = function(t) {
                        if (this.hasText) {
                            this.baseRenderChildren(t);
                            var e = new o.Property("fontSize", o.Font.Parse(o.ctx.font).fontSize);
                            o.Mouse.checkBoundingBox(this, new o.BoundingBox(this.x, this.y - e.toPixels("y"), this.x + this.measureText(t), this.y))
                        } else if (this.children.length > 0) {
                            var n = new o.Element.g;
                            n.children = this.children, n.parent = this, n.render(t)
                        }
                    }, this.onclick = function() {
                        window.open(this.getHrefAttribute().value)
                    }, this.onmousemove = function() {
                        o.ctx.canvas.style.cursor = "pointer"
                    }
                }, o.Element.a.prototype = new o.Element.TextElementBase, o.Element.image = function(t) {
                    this.base = o.Element.RenderedElementBase, this.base(t);
                    var e = this.getHrefAttribute().value;
                    if ("" != e) {
                        var n = e.match(/\.svg$/);
                        if (o.Images.push(this), this.loaded = !1, n) this.img = o.ajax(e), this.loaded = !0;
                        else {
                            this.img = document.createElement("img"), 1 == o.opts.useCORS && (this.img.crossOrigin = "Anonymous");
                            var r = this;
                            this.img.onload = function() {
                                r.loaded = !0
                            }, this.img.onerror = function() {
                                o.log('ERROR: image "' + e + '" not found'), r.loaded = !0
                            }, this.img.src = e
                        }
                        this.renderChildren = function(t) {
                            var e = this.attribute("x").toPixels("x"),
                                r = this.attribute("y").toPixels("y"),
                                i = this.attribute("width").toPixels("x"),
                                s = this.attribute("height").toPixels("y");
                            0 != i && 0 != s && (t.save(), n ? t.drawSvg(this.img, e, r, i, s) : (t.translate(e, r), o.AspectRatio(t, this.attribute("preserveAspectRatio").value, i, this.img.width, s, this.img.height, 0, 0), t.drawImage(this.img, 0, 0)), t.restore())
                        }, this.getBoundingBox = function() {
                            var t = this.attribute("x").toPixels("x"),
                                e = this.attribute("y").toPixels("y"),
                                n = this.attribute("width").toPixels("x"),
                                r = this.attribute("height").toPixels("y");
                            return new o.BoundingBox(t, e, t + n, e + r)
                        }
                    }
                }, o.Element.image.prototype = new o.Element.RenderedElementBase, o.Element.g = function(t) {
                    this.base = o.Element.RenderedElementBase, this.base(t), this.getBoundingBox = function() {
                        for (var t = new o.BoundingBox, e = 0; e < this.children.length; e++) t.addBoundingBox(this.children[e].getBoundingBox());
                        return t
                    }
                }, o.Element.g.prototype = new o.Element.RenderedElementBase, o.Element.symbol = function(t) {
                    this.base = o.Element.RenderedElementBase, this.base(t), this.render = function(t) {}
                }, o.Element.symbol.prototype = new o.Element.RenderedElementBase, o.Element.style = function(t) {
                    this.base = o.Element.ElementBase, this.base(t);
                    for (var e = "", r = 0; r < t.childNodes.length; r++) e += t.childNodes[r].data;
                    e = e.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm, ""), e = o.compressSpaces(e);
                    for (var i = e.split("}"), r = 0; r < i.length; r++)
                        if ("" != o.trim(i[r]))
                            for (var s = i[r].split("{"), a = s[0].split(","), u = s[1].split(";"), l = 0; l < a.length; l++) {
                                var c = o.trim(a[l]);
                                if ("" != c) {
                                    for (var h = o.Styles[c] || {}, f = 0; f < u.length; f++) {
                                        var p = u[f].indexOf(":"),
                                            d = u[f].substr(0, p),
                                            g = u[f].substr(p + 1, u[f].length - p);
                                        null != d && null != g && (h[o.trim(d)] = new o.Property(o.trim(d), o.trim(g)))
                                    }
                                    if (o.Styles[c] = h, o.StylesSpecificity[c] = n(c), "@font-face" == c)
                                        for (var m = h["font-family"].value.replace(/"/g, ""), v = h.src.value.split(","), b = 0; b < v.length; b++)
                                            if (v[b].indexOf('format("svg")') > 0)
                                                for (var y = v[b].indexOf("url"), _ = v[b].indexOf(")", y), w = v[b].substr(y + 5, _ - y - 6), x = o.parseXml(o.ajax(w)), T = x.getElementsByTagName("font"), C = 0; C < T.length; C++) {
                                                    var I = o.CreateElement(T[C]);
                                                    o.Definitions[m] = I
                                                }
                                }
                            }
                }, o.Element.style.prototype = new o.Element.ElementBase, o.Element.use = function(t) {
                    this.base = o.Element.RenderedElementBase, this.base(t), this.baseSetContext = this.setContext, this.setContext = function(t) {
                        this.baseSetContext(t), this.attribute("x").hasValue() && t.translate(this.attribute("x").toPixels("x"), 0), this.attribute("y").hasValue() && t.translate(0, this.attribute("y").toPixels("y"))
                    };
                    var e = this.getHrefAttribute().getDefinition();
                    this.path = function(t) {
                        null != e && e.path(t)
                    }, this.getBoundingBox = function() {
                        if (null != e) return e.getBoundingBox()
                    }, this.renderChildren = function(t) {
                        if (null != e) {
                            var n = e;
                            "symbol" == e.type && (n = new o.Element.svg, n.type = "svg", n.attributes.viewBox = new o.Property("viewBox", e.attribute("viewBox").value), n.attributes.preserveAspectRatio = new o.Property("preserveAspectRatio", e.attribute("preserveAspectRatio").value), n.attributes.overflow = new o.Property("overflow", e.attribute("overflow").value), n.children = e.children), "svg" == n.type && (this.attribute("width").hasValue() && (n.attributes.width = new o.Property("width", this.attribute("width").value)), this.attribute("height").hasValue() && (n.attributes.height = new o.Property("height", this.attribute("height").value)));
                            var r = n.parent;
                            n.parent = null, n.render(t), n.parent = r
                        }
                    }
                }, o.Element.use.prototype = new o.Element.RenderedElementBase, o.Element.mask = function(t) {
                    this.base = o.Element.ElementBase, this.base(t), this.apply = function(t, e) {
                        var n = this.attribute("x").toPixels("x"),
                            r = this.attribute("y").toPixels("y"),
                            i = this.attribute("width").toPixels("x"),
                            s = this.attribute("height").toPixels("y");
                        if (0 == i && 0 == s) {
                            for (var a = new o.BoundingBox, u = 0; u < this.children.length; u++) a.addBoundingBox(this.children[u].getBoundingBox());
                            var n = Math.floor(a.x1),
                                r = Math.floor(a.y1),
                                i = Math.floor(a.width()),
                                s = Math.floor(a.height())
                        }
                        var l = e.attribute("mask").value;
                        e.attribute("mask").value = "";
                        var c = document.createElement("canvas");
                        c.width = n + i, c.height = r + s;
                        var h = c.getContext("2d");
                        this.renderChildren(h);
                        var f = document.createElement("canvas");
                        f.width = n + i, f.height = r + s;
                        var p = f.getContext("2d");
                        e.render(p), p.globalCompositeOperation = "destination-in", p.fillStyle = h.createPattern(c, "no-repeat"), p.fillRect(0, 0, n + i, r + s), t.fillStyle = p.createPattern(f, "no-repeat"), t.fillRect(0, 0, n + i, r + s), e.attribute("mask").value = l
                    }, this.render = function(t) {}
                }, o.Element.mask.prototype = new o.Element.ElementBase, o.Element.clipPath = function(t) {
                    this.base = o.Element.ElementBase, this.base(t), this.apply = function(t) {
                        var e = CanvasRenderingContext2D.prototype.beginPath;
                        CanvasRenderingContext2D.prototype.beginPath = function() {};
                        var n = CanvasRenderingContext2D.prototype.closePath;
                        CanvasRenderingContext2D.prototype.closePath = function() {}, e.call(t);
                        for (var r = 0; r < this.children.length; r++) {
                            var i = this.children[r];
                            if (void 0 !== i.path) {
                                var s = null;
                                i.style("transform", !1, !0).hasValue() && (s = new o.Transform(i.style("transform", !1, !0).value), s.apply(t)), i.path(t), CanvasRenderingContext2D.prototype.closePath = n, s && s.unapply(t)
                            }
                        }
                        n.call(t), t.clip(), CanvasRenderingContext2D.prototype.beginPath = e, CanvasRenderingContext2D.prototype.closePath = n
                    }, this.render = function(t) {}
                }, o.Element.clipPath.prototype = new o.Element.ElementBase, o.Element.filter = function(t) {
                    this.base = o.Element.ElementBase, this.base(t), this.apply = function(t, e) {
                        var n = e.getBoundingBox(),
                            r = Math.floor(n.x1),
                            i = Math.floor(n.y1),
                            o = Math.floor(n.width()),
                            s = Math.floor(n.height()),
                            a = e.style("filter").value;
                        e.style("filter").value = "";
                        for (var u = 0, l = 0, c = 0; c < this.children.length; c++) {
                            var h = this.children[c].extraFilterDistance || 0;
                            u = Math.max(u, h), l = Math.max(l, h)
                        }
                        var f = document.createElement("canvas");
                        f.width = o + 2 * u, f.height = s + 2 * l;
                        var p = f.getContext("2d");
                        p.translate(-r + u, -i + l), e.render(p);
                        for (var c = 0; c < this.children.length; c++) "function" == typeof this.children[c].apply && this.children[c].apply(p, 0, 0, o + 2 * u, s + 2 * l);
                        t.drawImage(f, 0, 0, o + 2 * u, s + 2 * l, r - u, i - l, o + 2 * u, s + 2 * l), e.style("filter", !0).value = a
                    }, this.render = function(t) {}
                }, o.Element.filter.prototype = new o.Element.ElementBase, o.Element.feMorphology = function(t) {
                    this.base = o.Element.ElementBase, this.base(t), this.apply = function(t, e, n, r, i) {}
                }, o.Element.feMorphology.prototype = new o.Element.ElementBase, o.Element.feComposite = function(t) {
                    this.base = o.Element.ElementBase, this.base(t), this.apply = function(t, e, n, r, i) {}
                }, o.Element.feComposite.prototype = new o.Element.ElementBase, o.Element.feColorMatrix = function(t) {
                    function e(t, e, n, r, i, o) {
                        return t[n * r * 4 + 4 * e + o]
                    }

                    function n(t, e, n, r, i, o, s) {
                        t[n * r * 4 + 4 * e + o] = s
                    }

                    function r(t, e) {
                        var n = i[t];
                        return n * (n < 0 ? e - 255 : e)
                    }
                    this.base = o.Element.ElementBase, this.base(t);
                    var i = o.ToNumberArray(this.attribute("values").value);
                    switch (this.attribute("type").valueOrDefault("matrix")) {
                        case "saturate":
                            var s = i[0];
                            i = [.213 + .787 * s, .715 - .715 * s, .072 - .072 * s, 0, 0, .213 - .213 * s, .715 + .285 * s, .072 - .072 * s, 0, 0, .213 - .213 * s, .715 - .715 * s, .072 + .928 * s, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1];
                            break;
                        case "hueRotate":
                            var a = i[0] * Math.PI / 180,
                                u = function(t, e, n) {
                                    return t + Math.cos(a) * e + Math.sin(a) * n
                                };
                            i = [u(.213, .787, -.213), u(.715, -.715, -.715), u(.072, -.072, .928), 0, 0, u(.213, -.213, .143), u(.715, .285, .14), u(.072, -.072, -.283), 0, 0, u(.213, -.213, -.787), u(.715, -.715, .715), u(.072, .928, .072), 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1];
                            break;
                        case "luminanceToAlpha":
                            i = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, .2125, .7154, .0721, 0, 0, 0, 0, 0, 0, 1]
                    }
                    this.apply = function(t, i, o, s, a) {
                        for (var u = t.getImageData(0, 0, s, a), o = 0; o < a; o++)
                            for (var i = 0; i < s; i++) {
                                var l = e(u.data, i, o, s, a, 0),
                                    c = e(u.data, i, o, s, a, 1),
                                    h = e(u.data, i, o, s, a, 2),
                                    f = e(u.data, i, o, s, a, 3);
                                n(u.data, i, o, s, a, 0, r(0, l) + r(1, c) + r(2, h) + r(3, f) + r(4, 1)), n(u.data, i, o, s, a, 1, r(5, l) + r(6, c) + r(7, h) + r(8, f) + r(9, 1)), n(u.data, i, o, s, a, 2, r(10, l) + r(11, c) + r(12, h) + r(13, f) + r(14, 1)), n(u.data, i, o, s, a, 3, r(15, l) + r(16, c) + r(17, h) + r(18, f) + r(19, 1))
                            }
                        t.clearRect(0, 0, s, a), t.putImageData(u, 0, 0)
                    }
                }, o.Element.feColorMatrix.prototype = new o.Element.ElementBase, o.Element.feGaussianBlur = function(t) {
                    this.base = o.Element.ElementBase, this.base(t), this.blurRadius = Math.floor(this.attribute("stdDeviation").numValue()), this.extraFilterDistance = this.blurRadius, this.apply = function(t, n, r, i, s) {
                        if (void 0 === e.canvasRGBA) return void o.log("ERROR: StackBlur.js must be included for blur to work");
                        t.canvas.id = o.UniqueId(), t.canvas.style.display = "none", document.body.appendChild(t.canvas), e.canvasRGBA(t.canvas.id, n, r, i, s, this.blurRadius), document.body.removeChild(t.canvas)
                    }
                }, o.Element.feGaussianBlur.prototype = new o.Element.ElementBase, o.Element.title = function(t) {}, o.Element.title.prototype = new o.Element.ElementBase, o.Element.desc = function(t) {}, o.Element.desc.prototype = new o.Element.ElementBase, o.Element.MISSING = function(t) {
                    o.log("ERROR: Element '" + t.nodeName + "' not yet implemented.")
                }, o.Element.MISSING.prototype = new o.Element.ElementBase, o.CreateElement = function(t) {
                    var e = t.nodeName.replace(/^[^:]+:/, "");
                    e = e.replace(/\-/g, "");
                    var n = null;
                    return n = void 0 !== o.Element[e] ? new o.Element[e](t) : new o.Element.MISSING(t), n.type = t.nodeName, n
                }, o.load = function(t, e) {
                    o.loadXml(t, o.ajax(e))
                }, o.loadXml = function(t, e) {
                    o.loadXmlDoc(t, o.parseXml(e))
                }, o.loadXmlDoc = function(t, e) {
                    o.init(t);
                    var n = function(e) {
                        for (var n = t.canvas; n;) e.x -= n.offsetLeft, e.y -= n.offsetTop, n = n.offsetParent;
                        return window.scrollX && (e.x += window.scrollX), window.scrollY && (e.y += window.scrollY), e
                    };
                    1 != o.opts.ignoreMouse && (t.canvas.onclick = function(t) {
                        var e = n(new o.Point(null != t ? t.clientX : event.clientX, null != t ? t.clientY : event.clientY));
                        o.Mouse.onclick(e.x, e.y)
                    }, t.canvas.onmousemove = function(t) {
                        var e = n(new o.Point(null != t ? t.clientX : event.clientX, null != t ? t.clientY : event.clientY));
                        o.Mouse.onmousemove(e.x, e.y)
                    });
                    var r = o.CreateElement(e.documentElement);
                    r.root = !0, r.addStylesFromStyleDefinition();
                    var i = !0,
                        s = function() {
                            o.ViewPort.Clear(), t.canvas.parentNode && o.ViewPort.SetCurrent(t.canvas.parentNode.clientWidth, t.canvas.parentNode.clientHeight), 1 != o.opts.ignoreDimensions && (r.style("width").hasValue() && (t.canvas.width = r.style("width").toPixels("x"), t.canvas.style.width = t.canvas.width + "px"), r.style("height").hasValue() && (t.canvas.height = r.style("height").toPixels("y"), t.canvas.style.height = t.canvas.height + "px"));
                            var n = t.canvas.clientWidth || t.canvas.width,
                                s = t.canvas.clientHeight || t.canvas.height;
                            if (1 == o.opts.ignoreDimensions && r.style("width").hasValue() && r.style("height").hasValue() && (n = r.style("width").toPixels("x"), s = r.style("height").toPixels("y")), o.ViewPort.SetCurrent(n, s), null != o.opts.offsetX && (r.attribute("x", !0).value = o.opts.offsetX), null != o.opts.offsetY && (r.attribute("y", !0).value = o.opts.offsetY), null != o.opts.scaleWidth || null != o.opts.scaleHeight) {
                                var a = null,
                                    u = null,
                                    l = o.ToNumberArray(r.attribute("viewBox").value);
                                null != o.opts.scaleWidth && (r.attribute("width").hasValue() ? a = r.attribute("width").toPixels("x") / o.opts.scaleWidth : isNaN(l[2]) || (a = l[2] / o.opts.scaleWidth)), null != o.opts.scaleHeight && (r.attribute("height").hasValue() ? u = r.attribute("height").toPixels("y") / o.opts.scaleHeight : isNaN(l[3]) || (u = l[3] / o.opts.scaleHeight)), null == a && (a = u), null == u && (u = a), r.attribute("width", !0).value = o.opts.scaleWidth, r.attribute("height", !0).value = o.opts.scaleHeight, r.style("transform", !0, !0).value += " scale(" + 1 / a + "," + 1 / u + ")"
                            }
                            1 != o.opts.ignoreClear && t.clearRect(0, 0, n, s), r.render(t), i && (i = !1, "function" == typeof o.opts.renderCallback && o.opts.renderCallback(e))
                        },
                        a = !0;
                    o.ImagesLoaded() && (a = !1, s()), o.intervalID = setInterval(function() {
                        var t = !1;
                        if (a && o.ImagesLoaded() && (a = !1, t = !0), 1 != o.opts.ignoreMouse && (t |= o.Mouse.hasEvents()), 1 != o.opts.ignoreAnimation)
                            for (var e = 0; e < o.Animations.length; e++) t |= o.Animations[e].update(1e3 / o.FRAMERATE);
                        "function" == typeof o.opts.forceRedraw && 1 == o.opts.forceRedraw() && (t = !0), t && (s(), o.Mouse.runEvents())
                    }, 1e3 / o.FRAMERATE)
                }, o.stop = function() {
                    o.intervalID && clearInterval(o.intervalID)
                }, o.Mouse = new function() {
                    this.events = [], this.hasEvents = function() {
                        return 0 != this.events.length
                    }, this.onclick = function(t, e) {
                        this.events.push({
                            type: "onclick",
                            x: t,
                            y: e,
                            run: function(t) {
                                t.onclick && t.onclick()
                            }
                        })
                    }, this.onmousemove = function(t, e) {
                        this.events.push({
                            type: "onmousemove",
                            x: t,
                            y: e,
                            run: function(t) {
                                t.onmousemove && t.onmousemove()
                            }
                        })
                    }, this.eventElements = [], this.checkPath = function(t, e) {
                        for (var n = 0; n < this.events.length; n++) {
                            var r = this.events[n];
                            e.isPointInPath && e.isPointInPath(r.x, r.y) && (this.eventElements[n] = t)
                        }
                    }, this.checkBoundingBox = function(t, e) {
                        for (var n = 0; n < this.events.length; n++) {
                            var r = this.events[n];
                            e.isPointInBox(r.x, r.y) && (this.eventElements[n] = t)
                        }
                    }, this.runEvents = function() {
                        o.ctx.canvas.style.cursor = "";
                        for (var t = 0; t < this.events.length; t++)
                            for (var e = this.events[t], n = this.eventElements[t]; n;) e.run(n), n = n.parent;
                        this.events = [], this.eventElements = []
                    }
                }, o
            }
            var a, u = function(t, e, n) {
                if (null != t || null != e || null != n) {
                    "string" == typeof t && (t = document.getElementById(t)), null != t.svg && t.svg.stop();
                    var r = s(n || {});
                    1 == t.childNodes.length && "OBJECT" == t.childNodes[0].nodeName || (t.svg = r);
                    var i = t.getContext("2d");
                    void 0 !== e.documentElement ? r.loadXmlDoc(i, e) : "<" == e.substr(0, 1) ? r.loadXml(i, e) : r.load(i, e)
                } else
                    for (var o = document.querySelectorAll("svg"), a = 0; a < o.length; a++) {
                        var l = o[a],
                            c = document.createElement("canvas");
                        c.width = l.clientWidth, c.height = l.clientHeight, l.parentNode.insertBefore(c, l), l.parentNode.removeChild(l);
                        var h = document.createElement("div");
                        h.appendChild(l), u(c, h.innerHTML)
                    }
            };
            void 0 !== Element.prototype.matches ? a = function(t, e) {
                return t.matches(e)
            } : void 0 !== Element.prototype.webkitMatchesSelector ? a = function(t, e) {
                return t.webkitMatchesSelector(e)
            } : void 0 !== Element.prototype.mozMatchesSelector ? a = function(t, e) {
                return t.mozMatchesSelector(e)
            } : void 0 !== Element.prototype.msMatchesSelector ? a = function(t, e) {
                return t.msMatchesSelector(e)
            } : void 0 !== Element.prototype.oMatchesSelector ? a = function(t, e) {
                return t.oMatchesSelector(e)
            } : ("function" != typeof r && "function" != typeof Zepto || (a = function(t, e) {
                return o(t).is(e)
            }), void 0 === a && (a = Sizzle.matchesSelector));
            var l = /(\[[^\]]+\])/g,
                c = /(#[^\s\+>~\.\[:]+)/g,
                h = /(\.[^\s\+>~\.\[:]+)/g,
                f = /(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,
                p = /(:[\w-]+\([^\)]*\))/gi,
                d = /(:[^\s\+>~\.\[:]+)/g,
                g = /([^\s\+>~\.\[:]+)/g;
            return "undefined" != typeof CanvasRenderingContext2D && (CanvasRenderingContext2D.prototype.drawSvg = function(t, e, n, r, i, o) {
                var s = {
                    ignoreMouse: !0,
                    ignoreAnimation: !0,
                    ignoreDimensions: !0,
                    ignoreClear: !0,
                    offsetX: e,
                    offsetY: n,
                    scaleWidth: r,
                    scaleHeight: i
                };
                for (var a in o) o.hasOwnProperty(a) && (s[a] = o[a]);
                u(this.canvas, t, s)
            }), u
        })
    }).call(e, n(5), n(5))
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.AngularInit = void 0;
    var r = function() {
        function t() {}
        return t.isNG = !1, t.isNgWidget = !1, t
    }();
    e.AngularInit = r
}, function(t, e, n) {
    "use strict";
    (function(t) {
        var r = this && this.__extends || function() {
            var t = function(e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                    })(e, n)
            };
            return function(e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }();
        Object.defineProperty(e, "__esModule", {
            value: !0
        }), e.SocialProduct = e.SocialProductVersion = e.SocialProductType = void 0;
        var i, o = n(51),
            s = n(21),
            a = n(99),
            u = n(353),
            l = n(108),
            c = n(111),
            h = n(354),
            f = n(8),
            p = n(13),
            d = n(9),
            g = n(60),
            m = n(364),
            v = n(5);
        ! function(t) {
            t[t.NA = 0] = "NA", t[t.FacebookCoverPhoto = 1] = "FacebookCoverPhoto", t[t.FacebookProfileImage = 2] = "FacebookProfileImage", t[t.YoutubeProfile = 3] = "YoutubeProfile", t[t.YoutubeCoverMobile = 4] = "YoutubeCoverMobile", t[t.YoutubeCoverDesktop = 5] = "YoutubeCoverDesktop", t[t.YoutubeCoverTv = 6] = "YoutubeCoverTv", t[t.InstagramProfile = 7] = "InstagramProfile", t[t.InstagramPhotoThumbnail = 8] = "InstagramPhotoThumbnail", t[t.InstagramPhoto = 9] = "InstagramPhoto", t[t.InstagramPhotoLandscape = 10] = "InstagramPhotoLandscape", t[t.InstagramPhotoPortrait = 11] = "InstagramPhotoPortrait", t[t.TwitterHeader = 12] = "TwitterHeader", t[t.TwitterProfile = 13] = "TwitterProfile", t[t.TwitterInStream = 14] = "TwitterInStream", t[t.VkArticle = 15] = "VkArticle", t[t.VkProfile = 16] = "VkProfile", t[t.VkProfileBg = 17] = "VkProfileBg", t[t.LinkedinBgImage = 18] = "LinkedinBgImage", t[t.LinkedinStandardLogo = 19] = "LinkedinStandardLogo", t[t.LinkedinBusinessBanner = 20] = "LinkedinBusinessBanner", t[t.LinkedinSquareLogo = 21] = "LinkedinSquareLogo"
        }(i = e.SocialProductType || (e.SocialProductType = {}));
        var b;
        ! function(t) {
            t[t.V1 = 1] = "V1", t[t.V2 = 2] = "V2"
        }(b = e.SocialProductVersion || (e.SocialProductVersion = {}));
        var y = function(e) {
            function n() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.version = b.V1, t.category = null, t
            }
            return r(n, e), Object.defineProperty(n, "BRAND_PRODUCT_URL", {
                get: function() {
                    return p.Site.MAIN_URL + "/v3/brands/{id}/socials/"
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(n, "SERVICE_URL", {
                get: function() {
                    return p.Site.MAIN_URL + "/v3/js/brand/{brandId}/social-product/"
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(n, "TEMPLATE_SERVICE_URL", {
                get: function() {
                    return p.Site.MAIN_URL + "/v3/js/social-product-template/"
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(n, "ADD_TEMPLATE_URL", {
                get: function() {
                    return p.Site.MAIN_URL + "/v3/js/add-social-product-template/"
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(n, "SOCIAL_CATEGORIES_URL", {
                get: function() {
                    return p.Site.MAIN_URL + "/v3/fe/social-product-categories/"
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(n, "ADMIN_URL", {
                get: function() {
                    return p.Site.MAIN_URL + "/admin/models/socialproducttemplates/"
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(n.prototype, "templates", {
                get: function() {
                    return n.templates
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(n.prototype, "categories", {
                get: function() {
                    return n.categories
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(n.prototype, "widthMm", {
                get: function() {
                    return this.width
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(n.prototype, "heightMm", {
                get: function() {
                    return this.height
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(n.prototype, "adminUrl", {
                get: function() {
                    return n.ADMIN_URL
                },
                enumerable: !1,
                configurable: !0
            }), n.prototype.serialize = function() {
                for (var t = {
                        id: this.id,
                        brandId: this.brandId,
                        templateId: null !== this.template ? this.template.id : null,
                        text: this.text,
                        sizeType: this.sizeType,
                        category: this.category,
                        version: this.version,
                        width: this.width,
                        height: this.height,
                        items: []
                    }, e = 0, n = this.items; e < n.length; e++) {
                    var r = n[e],
                        i = r.serialize();
                    t.items.push(i)
                }
                return JSON.stringify(t)
            }, n.prototype.serializeTemplate = function() {
                for (var t = {
                        id: this.id,
                        sizeType: this.sizeType,
                        version: this.version,
                        category: this.category,
                        width: this.width,
                        height: this.height,
                        text: this.text,
                        items: []
                    }, e = 0, n = this.items; e < n.length; e++) {
                    var r = n[e],
                        i = r.serialize(!0);
                    t.items.push(i)
                }
                return JSON.stringify(t)
            }, n.prototype.save = function() {
                var e = this;
                return new t(function(t, r) {
                    v.ajax({
                        type: "POST",
                        url: n.SERVICE_URL.replace("{brandId}", "" + e.brandId),
                        dataType: "json",
                        data: e.serialize(),
                        success: function(n) {
                            e.id = n.id, t(e)
                        }
                    })
                })
            }, n.prototype.saveTemplate = function() {
                var e = this;
                return new t(function(t, r) {
                    v.ajax({
                        type: "POST",
                        url: n.ADD_TEMPLATE_URL,
                        dataType: "json",
                        data: e.serializeTemplate(),
                        success: function(n) {
                            e.id = n.id, t(e)
                        }
                    })
                })
            }, n.prototype.update = function() {
                var e = this;
                return new t(function(t, r) {
                    var i = n.SERVICE_URL.replace("{brandId}", "" + e.brandId) + (e.id + "/");
                    (new g.BrandManager).updateProduct(e, i).subscribe(function(n) {
                        var r = n.id;
                        e.id = r, t(e)
                    })
                })
            }, n.deserialize = function(t, e) {
                if (void 0 === e && (e = null), null === t) return null;
                var r = new n;
                r.brandId = null !== e ? e.id : t.brandId, r.id = t.id, r.template = this.deserialize(t.template), r.category = m.SocialProductCategory.deserialize(t.category), r.brand = e, r.text = t.text, r.number = t.number, r.sizeType = t.sizeType, r.version = t.version, r.width = t.width, r.height = t.height;
                for (var i = 0, o = t.items; i < o.length; i++) {
                    var f = o[i],
                        p = null;
                    switch (f.type) {
                        case s.BPItem.SVG:
                            p = a.BPSvgItem.deserialize(f);
                            break;
                        case s.BPItem.CUSTOM_SVG:
                            p = u.CustomBPSvgItem.deserialize(f);
                            break;
                        case s.BPItem.TEXT:
                            p = l.BPTextItem.deserialize(f);
                            break;
                        case s.BPItem.LOGO:
                            if (p = c.BPLogoItem.deserialize(f), null !== e) {
                                var d = p;
                                d.logo = e.getLogo(d.logoType, d.withSlogan), p = d
                            }
                            break;
                        case s.BPItem.Image:
                            p = h.BPImageItem.deserialize(f)
                    }
                    p.product = r, r.items.push(p)
                }
                return r
            }, n.prototype.clone = function() {
                var t = new n;
                t.id = this.id, t.brandId = this.brandId, t.brand = this.brand, t.template = this.template, t.text = this.text, t.number = this.number, t.sizeType = this.sizeType, t.category = this.category, t.version = this.version, t.width = this.width, t.height = this.height;
                for (var e = 0, r = this.items; e < r.length; e++) {
                    var i = r[e],
                        o = i.clone();
                    o.product = t, t.items.push(o)
                }
                return t
            }, n.getTemplateById = function(t) {
                for (var e = null, r = 0, i = n.templates; r < i.length; r++) {
                    var o = i[r];
                    if (o.id === t) {
                        e = o;
                        break
                    }
                }
                return e
            }, n.loadTemplates = function(e, r, i, o) {
                void 0 === r && (r = null), void 0 === i && (i = null);
                for (var s = [], a = 0, u = n.templates; a < u.length; a++) {
                    var l = u[a];
                    s.push(l.id)
                }
                var c = {
                    lti: s,
                    neededCount: e,
                    neededSize: r,
                    version: i
                };
                return null != o && (c.categoryId = o), new t(function(t, e) {
                    v.ajax({
                        type: "GET",
                        url: n.TEMPLATE_SERVICE_URL,
                        dataType: "json",
                        data: c,
                        success: function(e) {
                            for (var r = [], i = 0, o = e; i < o.length; i++) {
                                var s = o[i],
                                    a = n.deserialize(s);
                                r.push(a), n.templates.push(a)
                            }
                            t(r)
                        }
                    })
                })
            }, n.prototype.getProductBG = function() {
                var t = null !== this.template ? this.template.number : this.number,
                    e = d.ColorRange.BG_B;
                switch (t) {
                    case 1:
                        e = d.ColorRange.BG_B;
                        break;
                    case 2:
                        e = d.ColorRange.BG_C;
                        break;
                    case 3:
                        e = d.ColorRange.BG_BLACK
                }
                return e
            }, n.prototype.getSocialNameFromType = function() {
                for (var t in i)
                    if (i[t.toString()] == this.sizeType) return t.replace(/([a-z])([A-Z])/g, "$1-$2").toLowerCase();
                return null
            }, n.prototype.getImageItem = function() {
                for (var t = 0, e = this.items; t < e.length; t++) {
                    var n = e[t];
                    if (n.type === s.BPItem.Image) return n
                }
                return null
            }, n.prototype.getDownloadFormat = function() {
                return -1 !== [i.InstagramProfile, i.InstagramPhotoThumbnail, i.InstagramPhoto, i.InstagramPhotoLandscape, i.InstagramPhotoPortrait].indexOf(this.sizeType) ? f.Logo.IMAGE_FORMAT_JPG : f.Logo.IMAGE_FORMAT_PNG
            }, n.getCategories = function() {
                return new t(function(t, e) {
                    v.ajax({
                        type: "GET",
                        url: n.SOCIAL_CATEGORIES_URL,
                        dataType: "json",
                        success: function(e) {
                            for (var r = [], i = 0, o = e; i < o.length; i++) {
                                var s = o[i],
                                    a = m.SocialProductCategory.deserialize(s);
                                r.push(a), n.categories.push(a)
                            }
                            t(r)
                        }
                    })
                })
            }, n.getCategoryById = function(t) {
                for (var e = null, r = 0, i = n.categories; r < i.length; r++) {
                    var o = i[r];
                    if (o.categoryId === t) {
                        e = o;
                        break
                    }
                }
                return e
            }, n.templates = [], n.categories = [], n
        }(o.BrandProduct);
        e.SocialProduct = y
    }).call(e, n(6))
}, function(t, e) {
    function n() {
        throw new Error("setTimeout has not been defined")
    }

    function r() {
        throw new Error("clearTimeout has not been defined")
    }

    function i(t) {
        if (c === setTimeout) return setTimeout(t, 0);
        if ((c === n || !c) && setTimeout) return c = setTimeout, setTimeout(t, 0);
        try {
            return c(t, 0)
        } catch (e) {
            try {
                return c.call(null, t, 0)
            } catch (e) {
                return c.call(this, t, 0)
            }
        }
    }

    function o(t) {
        if (h === clearTimeout) return clearTimeout(t);
        if ((h === r || !h) && clearTimeout) return h = clearTimeout, clearTimeout(t);
        try {
            return h(t)
        } catch (e) {
            try {
                return h.call(null, t)
            } catch (e) {
                return h.call(this, t)
            }
        }
    }

    function s() {
        g && p && (g = !1, p.length ? d = p.concat(d) : m = -1, d.length && a())
    }

    function a() {
        if (!g) {
            var t = i(s);
            g = !0;
            for (var e = d.length; e;) {
                for (p = d, d = []; ++m < e;) p && p[m].run();
                m = -1, e = d.length
            }
            p = null, g = !1, o(t)
        }
    }

    function u(t, e) {
        this.fun = t, this.array = e
    }

    function l() {}
    var c, h, f = t.exports = {};
    ! function() {
        try {
            c = "function" == typeof setTimeout ? setTimeout : n
        } catch (t) {
            c = n
        }
        try {
            h = "function" == typeof clearTimeout ? clearTimeout : r
        } catch (t) {
            h = r
        }
    }();
    var p, d = [],
        g = !1,
        m = -1;
    f.nextTick = function(t) {
        var e = new Array(arguments.length - 1);
        if (arguments.length > 1)
            for (var n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
        d.push(new u(t, e)), 1 !== d.length || g || i(a)
    }, u.prototype.run = function() {
        this.fun.apply(null, this.array)
    }, f.title = "browser", f.browser = !0, f.env = {}, f.argv = [], f.version = "", f.versions = {}, f.on = l, f.addListener = l, f.once = l, f.off = l, f.removeListener = l, f.removeAllListeners = l, f.emit = l, f.prependListener = l, f.prependOnceListener = l, f.listeners = function(t) {
        return []
    }, f.binding = function(t) {
        throw new Error("process.binding is not supported")
    }, f.cwd = function() {
        return "/"
    }, f.chdir = function(t) {
        throw new Error("process.chdir is not supported")
    }, f.umask = function() {
        return 0
    }
}, function(t, e, n) {
    "use strict";
    var r = this && this.__extends || function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                })(e, n)
        };
        return function(e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.BPTextItem = void 0;
    var i = n(21),
        o = n(58),
        s = n(26),
        a = n(72),
        u = n(54),
        l = n(51),
        c = n(40),
        h = function(t) {
            function e() {
                var n = t.call(this) || this;
                return n.transform = u.TextTransform.NONE, n.textAlign = e.TEXT_ALIGN_LEFT, n.fontWeight = e.FONT_WEIGHT_NORMAL, n.fontStyle = e.FONT_STYLE_REGULAR, n.textDecoration = e.TEXT_DECORATION_NONE, n.type = i.BPItem.TEXT, n
            }
            return r(e, t), Object.defineProperty(e, "TEXT_ALIGN_LEFT", {
                get: function() {
                    return 0
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "TEXT_ALIGN_CENTER", {
                get: function() {
                    return 1
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "TEXT_ALIGN_RIGHT", {
                get: function() {
                    return 2
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "TEXT_ALIGN_START", {
                get: function() {
                    return 3
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "TEXT_ALIGN_JUSTIFY", {
                get: function() {
                    return 4
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "TEXT_ALIGN_END", {
                get: function() {
                    return 5
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "FONT_WEIGHT_NORMAL", {
                get: function() {
                    return 0
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "FONT_WEIGHT_BOLD", {
                get: function() {
                    return 1
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "FONT_STYLE_REGULAR", {
                get: function() {
                    return 0
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "FONT_STYLE_BOLD", {
                get: function() {
                    return 1
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "FONT_STYLE_BOLD_ITALIC", {
                get: function() {
                    return 2
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "FONT_STYLE_ITALIC", {
                get: function() {
                    return 3
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "TEXT_DECORATION_NONE", {
                get: function() {
                    return 0
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "TEXT_DECORATION_UNDERLINE", {
                get: function() {
                    return 1
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e, "TEXT_SIZE", {
                get: function() {
                    return 24
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "maths", {
                get: function() {
                    return this._maths
                },
                set: function(t) {
                    this._maths = t
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "bounds", {
                get: function() {
                    return null == this._bounds && (this._bounds = a.TextBoundsManager.getBounds(this.content, l.BrandProduct.TEXT_SIZE, this.font.fontFamily, this.maths.kerning)), this._bounds
                },
                set: function(t) {
                    t != this._bounds && (this._bounds = t)
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "content", {
                get: function() {
                    return this._content
                },
                set: function(t) {
                    this._content !== t && (this._bounds = null, this._content = t)
                },
                enumerable: !1,
                configurable: !0
            }), e.deserialize = function(t) {
                var n = new e;
                return n.group = t.group, n.maths = o.TextMaths.deserialize(t.maths), n.font = s.Font.fromId(t.font), n.fill = c.BPItemFill.deserialize(t.fill), n.target = t.target, n.content = t.content, n.transform = u.TextTransform.detectTransform(t.content), n
            }, e.prototype.serialize = function(e) {
                void 0 === e && (e = !1);
                var n = t.prototype.serialize.call(this);
                return n.fontId = this.font.id, n
            }, e.prototype.clone = function() {
                var t = new e;
                return t.uid = this.uid, t.group = this.group, t.maths = this.maths.clone(), t.font = this.font, t.fill = this.fill.clone(), t.target = this.target, t.content = this.content, t.transform = this.transform, t.product = this.product, t
            }, e
        }(i.BPItem);
    e.BPTextItem = h
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.BlendManager = void 0;
    var r = function() {
        function t() {
            this.map = [
                [null, t.DEFAULT, "source-over"],
                ["i-mask", t.INVERTED_MASK, "destination-out"]
            ]
        }
        return t.prototype.toModel = function(e) {
            if (null === e) return null;
            for (var n = null, r = 0, i = this.map; r < i.length; r++) {
                var o = i[r];
                if (o[t.MAP_RULE] === e) {
                    n = o[t.MAP_MODEL];
                    break
                }
            }
            return n
        }, t.prototype.toContext2d = function(e, n) {
            var r;
            if (e === t.DEFAULT) r = "source-over";
            else
                for (var i = 0, o = this.map; i < o.length; i++) {
                    var s = o[i];
                    if (s[t.MAP_MODEL] === e) {
                        r = s[t.MAP_CANVAS];
                        break
                    }
                }
            n.globalCompositeOperation = r
        }, t.DEFAULT = null, t.INVERTED_MASK = 1, t.MAP_RULE = 0, t.MAP_MODEL = 1, t.MAP_CANVAS = 2, t
    }();
    e.BlendManager = r
}, function(t, e, n) {
    "use strict";
    var r = n(29).assign,
        i = n(195),
        o = n(198),
        s = n(119),
        a = {};
    r(a, i, o, s), t.exports = a
}, function(t, e, n) {
    "use strict";
    var r = this && this.__extends || function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                })(e, n)
        };
        return function(e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.BPLogoItem = void 0;
    var i = n(21),
        o = n(8),
        s = n(14),
        a = n(20),
        u = n(40),
        l = function(t) {
            function e() {
                var n = t.call(this) || this;
                return n.logoType = null, n.withSlogan = null, n.type = e.LOGO, n
            }
            return r(e, t), Object.defineProperty(e.prototype, "bounds", {
                get: function() {
                    return this._bounds
                },
                set: function(t) {
                    this._bounds = t
                },
                enumerable: !1,
                configurable: !0
            }), e.deserialize = function(t) {
                var n = new e;
                n.group = t.group, n.maths = a.Maths.deserialize(t.maths), n.fill = u.BPItemFill.deserialize(t.fill), n.target = t.target, null !== t.logo && (n.logo = o.Logo.deserialize(t.logo));
                var r = t.content.split(";");
                return n.bounds = s.Rectangle.deserialize(r[0]), n.logoType = parseInt(r[1]), n.withSlogan = Boolean(parseInt(r[2])), n
            }, e.prototype.serialize = function(e) {
                void 0 === e && (e = !1);
                var n = t.prototype.serialize.call(this);
                if (e) {
                    var r = this.maths.matrix.transformPoint(this.bounds.topLeft),
                        i = this.maths.matrix.transformPoint(this.bounds.bottomRight),
                        o = new s.Rectangle(r.x, r.y, i.x - r.x, i.y - r.y).serialize();
                    n.content = o + ";" + this.logoType + ";" + Number(this.withSlogan), n.maths = (new a.Maths).serialize()
                } else n.logoId = this.logo.id, n.content = this.bounds.serialize() + ";" + this.logoType + ";" + Number(this.withSlogan);
                return n
            }, e.prototype.clone = function() {
                var t = new e;
                return t.uid = this.uid, t.group = this.group, t.maths = this.maths.clone(), t.fill = this.fill.clone(), t.target = this.target, t.logo = this.logo, t.bounds = this.bounds.clone(), t.product = this.product, t.logoType = this.logoType, t.withSlogan = this.withSlogan, t
            }, e
        }(i.BPItem);
    e.BPLogoItem = l
}, function(t, e, n) {
    function r(t) {
        return null != t && o(i(t))
    }
    var i = n(113),
        o = n(53);
    t.exports = r
}, function(t, e, n) {
    var r = n(380),
        i = r("length");
    t.exports = i
}, function(t, e) {
    function n(t, e) {
        return t = "number" == typeof t || r.test(t) ? +t : -1, e = null == e ? i : e, t > -1 && t % 1 == 0 && t < e
    }
    var r = /^\d+$/,
        i = 9007199254740991;
    t.exports = n
}, function(t, e, n) {
    "use strict";

    function r(t, e, n, r) {
        for (var i = 65535 & t | 0, o = t >>> 16 & 65535 | 0, s = 0; 0 !== n;) {
            s = n > 2e3 ? 2e3 : n, n -= s;
            do {
                i = i + e[r++] | 0, o = o + i | 0
            } while (--s);
            i %= 65521, o %= 65521
        }
        return i | o << 16 | 0
    }
    t.exports = r
}, function(t, e, n) {
    "use strict";

    function r(t, e, n, r) {
        var o = i,
            s = r + n;
        t ^= -1;
        for (var a = r; a < s; a++) t = t >>> 8 ^ o[255 & (t ^ e[a])];
        return -1 ^ t
    }
    var i = function() {
        for (var t, e = [], n = 0; n < 256; n++) {
            t = n;
            for (var r = 0; r < 8; r++) t = 1 & t ? 3988292384 ^ t >>> 1 : t >>> 1;
            e[n] = t
        }
        return e
    }();
    t.exports = r
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        if (e < 65537 && (t.subarray && s || !t.subarray && o)) return String.fromCharCode.apply(null, i.shrinkBuf(t, e));
        for (var n = "", r = 0; r < e; r++) n += String.fromCharCode(t[r]);
        return n
    }
    var i = n(29),
        o = !0,
        s = !0;
    try {
        String.fromCharCode.apply(null, [0])
    } catch (t) {
        o = !1
    }
    try {
        String.fromCharCode.apply(null, new Uint8Array(1))
    } catch (t) {
        s = !1
    }
    for (var a = new i.Buf8(256), u = 0; u < 256; u++) a[u] = u >= 252 ? 6 : u >= 248 ? 5 : u >= 240 ? 4 : u >= 224 ? 3 : u >= 192 ? 2 : 1;
    a[254] = a[254] = 1, e.string2buf = function(t) {
        var e, n, r, o, s, a = t.length,
            u = 0;
        for (o = 0; o < a; o++) n = t.charCodeAt(o), 55296 == (64512 & n) && o + 1 < a && 56320 == (64512 & (r = t.charCodeAt(o + 1))) && (n = 65536 + (n - 55296 << 10) + (r - 56320), o++), u += n < 128 ? 1 : n < 2048 ? 2 : n < 65536 ? 3 : 4;
        for (e = new i.Buf8(u), s = 0, o = 0; s < u; o++) n = t.charCodeAt(o), 55296 == (64512 & n) && o + 1 < a && 56320 == (64512 & (r = t.charCodeAt(o + 1))) && (n = 65536 + (n - 55296 << 10) + (r - 56320), o++), n < 128 ? e[s++] = n : n < 2048 ? (e[s++] = 192 | n >>> 6, e[s++] = 128 | 63 & n) : n < 65536 ? (e[s++] = 224 | n >>> 12, e[s++] = 128 | n >>> 6 & 63, e[s++] = 128 | 63 & n) : (e[s++] = 240 | n >>> 18, e[s++] = 128 | n >>> 12 & 63, e[s++] = 128 | n >>> 6 & 63, e[s++] = 128 | 63 & n);
        return e
    }, e.buf2binstring = function(t) {
        return r(t, t.length)
    }, e.binstring2buf = function(t) {
        for (var e = new i.Buf8(t.length), n = 0, r = e.length; n < r; n++) e[n] = t.charCodeAt(n);
        return e
    }, e.buf2string = function(t, e) {
        var n, i, o, s, u = e || t.length,
            l = new Array(2 * u);
        for (i = 0, n = 0; n < u;)
            if ((o = t[n++]) < 128) l[i++] = o;
            else if ((s = a[o]) > 4) l[i++] = 65533, n += s - 1;
        else {
            for (o &= 2 === s ? 31 : 3 === s ? 15 : 7; s > 1 && n < u;) o = o << 6 | 63 & t[n++], s--;
            s > 1 ? l[i++] = 65533 : o < 65536 ? l[i++] = o : (o -= 65536, l[i++] = 55296 | o >> 10 & 1023, l[i++] = 56320 | 1023 & o)
        }
        return r(l, i)
    }, e.utf8border = function(t, e) {
        var n;
        for (e = e || t.length, e > t.length && (e = t.length), n = e - 1; n >= 0 && 128 == (192 & t[n]);) n--;
        return n < 0 ? e : 0 === n ? e : n + a[t[n]] > e ? n : e
    }
}, function(t, e, n) {
    "use strict";

    function r() {
        this.input = null, this.next_in = 0, this.avail_in = 0, this.total_in = 0, this.output = null, this.next_out = 0, this.avail_out = 0, this.total_out = 0, this.msg = "", this.state = null, this.data_type = 2, this.adler = 0
    }
    t.exports = r
}, function(t, e, n) {
    "use strict";
    t.exports = {
        Z_NO_FLUSH: 0,
        Z_PARTIAL_FLUSH: 1,
        Z_SYNC_FLUSH: 2,
        Z_FULL_FLUSH: 3,
        Z_FINISH: 4,
        Z_BLOCK: 5,
        Z_TREES: 6,
        Z_OK: 0,
        Z_STREAM_END: 1,
        Z_NEED_DICT: 2,
        Z_ERRNO: -1,
        Z_STREAM_ERROR: -2,
        Z_DATA_ERROR: -3,
        Z_BUF_ERROR: -5,
        Z_NO_COMPRESSION: 0,
        Z_BEST_SPEED: 1,
        Z_BEST_COMPRESSION: 9,
        Z_DEFAULT_COMPRESSION: -1,
        Z_FILTERED: 1,
        Z_HUFFMAN_ONLY: 2,
        Z_RLE: 3,
        Z_FIXED: 4,
        Z_DEFAULT_STRATEGY: 0,
        Z_BINARY: 0,
        Z_TEXT: 1,
        Z_UNKNOWN: 2,
        Z_DEFLATED: 8
    }
}, function(t, e, n) {
    "use strict";
    var r = this && this.__extends || function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                })(e, n)
        };
        return function(e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.Line = void 0;
    var i = n(19),
        o = n(11),
        s = n(59),
        a = n(14),
        u = function(t) {
            function e() {
                var e = t.call(this) || this;
                return e.type = i.LogoItem.LINE, e
            }
            return r(e, t), Object.defineProperty(e.prototype, "maths", {
                get: function() {
                    return this._maths
                },
                set: function(t) {
                    this._maths = t
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "bounds", {
                get: function() {
                    return null == this._bounds && (this._bounds = this.calculateBounds()), this._bounds
                },
                set: function(t) {
                    this._bounds = t
                },
                enumerable: !1,
                configurable: !0
            }), e.prototype.serialize = function() {
                var t = {
                    id: this.id,
                    type: this.type,
                    group: this.group,
                    maths: this.maths.serialize(),
                    fill: o.Fill.serialize(this.fill),
                    blendMode: this.blendMode
                };
                return JSON.stringify(t)
            }, e.deserialize = function(t) {
                var n = new e;
                return n.id = t.i, n.group = t.g, n.maths = s.LineMaths.deserialize(t.m), n.fill = o.Fill.deserialize(t.f), n.blendMode = t.bm, n._source = n.clone(), n
            }, e.deserializeNg = function(t) {
                var n = new e;
                return n.id = t.id, n.group = t.group, n.maths = s.LineMaths.deserialize(t.maths), n.fill = o.Fill.deserialize(t.fill), n.blendMode = t.blendMode, n._source = n.clone(), n
            }, e.prototype.calculateBounds = function() {
                var t = 0,
                    e = 0,
                    n = 0,
                    r = 0;
                return this.maths.p1.x == this.maths.p2.x ? (t = Math.min(this.maths.p1.x, this.maths.p2.x) - this.maths.lineWidth / 2, e = Math.min(this.maths.p1.y, this.maths.p2.y), n = this.maths.lineWidth, r = Math.max(this.maths.p1.y, this.maths.p2.y) - Math.min(this.maths.p1.y, this.maths.p2.y)) : this.maths.p1.y == this.maths.p2.y ? (t = Math.min(this.maths.p1.x, this.maths.p2.x), e = Math.min(this.maths.p1.y, this.maths.p2.y) - this.maths.lineWidth / 2, n = Math.max(this.maths.p1.x, this.maths.p2.x) - Math.min(this.maths.p1.x, this.maths.p2.x), r = this.maths.lineWidth) : (t = Math.min(this.maths.p1.x, this.maths.p2.x), e = Math.min(this.maths.p1.y, this.maths.p2.y), n = Math.max(this.maths.p1.x, this.maths.p2.x) - t, r = Math.max(this.maths.p1.y, this.maths.p2.y) - e), new a.Rectangle(t, e, n, r)
            }, e.prototype.clone = function() {
                var t = new e;
                return t.id = this.id, t.uid = this.uid, t.group = this.group, t.bounds = this._bounds ? this._bounds.clone() : null, t.maths = this.maths ? this.maths.clone() : null, t.fill = this.fill ? this.fill.clone() : null, t.blendMode = this.blendMode, t
            }, e.prototype.debug = function() {
                return "Type: Line\n" + t.prototype.debug.call(this) + "\n"
            }, e
        }(i.LogoItem);
    e.Line = u
}, function(t, e, n) {
    "use strict";
    var r = this && this.__extends || function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                })(e, n)
        };
        return function(e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.Ellipse = void 0;
    var i = n(19),
        o = n(11),
        s = n(59),
        a = n(14),
        u = n(20),
        l = function(t) {
            function e() {
                var e = t.call(this) || this;
                return e.type = i.LogoItem.ELLIPSE, e
            }
            return r(e, t), Object.defineProperty(e.prototype, "bounds", {
                get: function() {
                    var t = this.stroke / 2;
                    return null == this._bounds && (this._bounds = new a.Rectangle(-t, -t, this.width + t, this.height + t)), this._bounds
                },
                set: function(t) {
                    t != this._bounds && (this._bounds = t)
                },
                enumerable: !1,
                configurable: !0
            }), e.prototype.serialize = function() {
                var t = {
                    id: this.id,
                    type: this.type,
                    group: this.group,
                    text: this.width + ";" + this.height,
                    maths: this.maths.serialize(),
                    fill: o.Fill.serialize(this.fill),
                    blendMode: this.blendMode,
                    stroke: this.stroke
                };
                return JSON.stringify(t)
            }, e.deserialize = function(t) {
                var n = new e;
                n.id = t.i, n.group = t.g, n.maths = u.Maths.deserialize(t.m), n.blendMode = t.bm, n.stroke = t.stroke, n.fill = o.Fill.deserialize(t.f);
                var r = t.tt.split(";");
                return n.width = Number(r[0]), n.height = Number(r[1]), n
            }, e.deserializeNg = function(t) {
                var n = new e;
                n.id = t.id, n.group = t.group, n.maths = s.LineMaths.deserialize(t.maths), n.blendMode = t.blendMode, n.stroke = t.stroke, n.fill = o.Fill.deserialize(t.fill);
                var r = t.text.split(";");
                return n.width = Number(r[0]), n.height = Number(r[1]), n._source = n.clone(), n
            }, e.prototype.clone = function() {
                var t = new e;
                return t.id = this.id, t.group = this.group, t.bounds = this._bounds ? this._bounds.clone() : null, t.maths = this.maths ? this.maths.clone() : null, t.fill = this.fill ? this.fill.clone() : null, t.blendMode = this.blendMode, t.stroke = this.stroke, t.width = this.width, t.height = this.height, t
            }, e.prototype.debug = function() {
                return "Type: Ellipse\n" + t.prototype.debug.call(this) + "\n"
            }, e
        }(i.LogoItem);
    e.Ellipse = l
}, function(t, e, n) {
    "use strict";
    var r = this && this.__extends || function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                })(e, n)
        };
        return function(e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.Rect = void 0;
    var i = n(19),
        o = n(11),
        s = n(59),
        a = n(14),
        u = n(20),
        l = function(t) {
            function e() {
                var e = t.call(this) || this;
                return e.cornerRadius = 0, e.type = i.LogoItem.RECT, e
            }
            return r(e, t), Object.defineProperty(e.prototype, "bounds", {
                get: function() {
                    var t = this.stroke / 2;
                    return null == this._bounds && (this._bounds = new a.Rectangle(-t, -t, this.width + t, this.height + t)), this._bounds
                },
                set: function(t) {
                    t != this._bounds && (this._bounds = t)
                },
                enumerable: !1,
                configurable: !0
            }), e.prototype.serialize = function() {
                var t = {
                    id: this.id,
                    type: this.type,
                    group: this.group,
                    text: this.width + ";" + this.height + ";" + this.cornerRadius,
                    maths: this.maths.serialize(),
                    fill: o.Fill.serialize(this.fill),
                    blendMode: this.blendMode,
                    stroke: this.stroke
                };
                return JSON.stringify(t)
            }, e.deserialize = function(t) {
                var n = new e;
                n.id = t.i, n.group = t.g, n.maths = u.Maths.deserialize(t.m), n.blendMode = t.bm, n.stroke = t.stroke, n.fill = o.Fill.deserialize(t.f);
                var r = t.tt.split(";");
                return n.width = Number(r[0]), n.height = Number(r[1]), n.cornerRadius = Number(r[2]), n
            }, e.deserializeNg = function(t) {
                var n = new e;
                n.id = t.id, n.group = t.group, n.maths = s.LineMaths.deserialize(t.maths), n.blendMode = t.blendMode, n.stroke = t.stroke, n.fill = o.Fill.deserialize(t.fill);
                var r = t.text.split(";");
                return n.width = Number(r[0]), n.height = Number(r[1]), n.cornerRadius = Number(r[2]), n._source = n.clone(), n
            }, e.prototype.clone = function() {
                var t = new e;
                return t.id = this.id, t.group = this.group, t.bounds = this._bounds ? this._bounds.clone() : null, t.maths = this.maths ? this.maths.clone() : null, t.fill = this.fill ? this.fill.clone() : null, t.blendMode = this.blendMode, t.stroke = this.stroke, t.width = this.width, t.height = this.height, t.cornerRadius = this.cornerRadius, t
            }, e.prototype.debug = function() {
                return "Type: Rect\n" + t.prototype.debug.call(this) + "\n"
            }, e
        }(i.LogoItem);
    e.Rect = l
}, function(t, e, n) {
    "use strict";

    function r() {
        if (g.a.XMLHttpRequest) return new g.a.XMLHttpRequest;
        if (g.a.XDomainRequest) return new g.a.XDomainRequest;
        throw new Error("CORS is not supported by your browser")
    }

    function i() {
        if (g.a.XMLHttpRequest) return new g.a.XMLHttpRequest;
        var t = void 0;
        try {
            for (var e = ["Msxml2.XMLHTTP", "Microsoft.XMLHTTP", "Msxml2.XMLHTTP.4.0"], n = 0; n < 3; n++) try {
                if (t = e[n], new g.a.ActiveXObject(t)) break
            } catch (t) {}
            return new g.a.ActiveXObject(t)
        } catch (t) {
            throw new Error("XMLHttpRequest is not supported by your browser")
        }
    }

    function o(t, e) {
        return void 0 === e && (e = null), new _({
            method: "GET",
            url: t,
            headers: e
        })
    }

    function s(t, e, n) {
        return new _({
            method: "POST",
            url: t,
            body: e,
            headers: n
        })
    }

    function a(t, e) {
        return new _({
            method: "DELETE",
            url: t,
            headers: e
        })
    }

    function u(t, e, n) {
        return new _({
            method: "PUT",
            url: t,
            body: e,
            headers: n
        })
    }

    function l(t, e, n) {
        return new _({
            method: "PATCH",
            url: t,
            body: e,
            headers: n
        })
    }

    function c(t, e) {
        return y(new _({
            method: "GET",
            url: t,
            responseType: "json",
            headers: e
        }))
    }

    function h(t) {
        return "response" in t ? t.responseType ? t.response : JSON.parse(t.response || t.responseText || "null") : JSON.parse(t.responseText || "null")
    }

    function f(t, e) {
        switch (t) {
            case "json":
                return h(e);
            case "xml":
                return e.responseXML;
            case "text":
            default:
                return "response" in e ? e.response : e.responseText
        }
    }

    function p(t, e) {
        return C.call(this, "ajax timeout", t, e), this.name = "AjaxTimeoutError", this
    }
    n.d(e, "b", function() {
        return _
    }), n.d(e, "c", function() {
        return x
    }), n.d(e, "a", function() {
        return C
    }), n.d(e, "d", function() {
        return I
    });
    var d = n(0),
        g = n(213),
        m = n(2),
        v = n(1),
        b = n(17),
        y = Object(b.a)(function(t, e) {
            return t.response
        }),
        _ = function(t) {
            function e(e) {
                var n = t.call(this) || this,
                    o = {
                        async: !0,
                        createXHR: function() {
                            return this.crossDomain ? r() : i()
                        },
                        crossDomain: !0,
                        withCredentials: !1,
                        headers: {},
                        method: "GET",
                        responseType: "json",
                        timeout: 0
                    };
                if ("string" == typeof e) o.url = e;
                else
                    for (var s in e) e.hasOwnProperty(s) && (o[s] = e[s]);
                return n.request = o, n
            }
            return d.a(e, t), e.prototype._subscribe = function(t) {
                return new w(t, this.request)
            }, e.create = function() {
                var t = function(t) {
                    return new e(t)
                };
                return t.get = o, t.post = s, t.delete = a, t.put = u, t.patch = l, t.getJSON = c, t
            }(), e
        }(m.a),
        w = function(t) {
            function e(e, n) {
                var r = t.call(this, e) || this;
                r.request = n, r.done = !1;
                var i = n.headers = n.headers || {};
                return n.crossDomain || r.getHeader(i, "X-Requested-With") || (i["X-Requested-With"] = "XMLHttpRequest"), r.getHeader(i, "Content-Type") || g.a.FormData && n.body instanceof g.a.FormData || void 0 === n.body || (i["Content-Type"] = "application/x-www-form-urlencoded; charset=UTF-8"), n.body = r.serializeBody(n.body, r.getHeader(n.headers, "Content-Type")), r.send(), r
            }
            return d.a(e, t), e.prototype.next = function(t) {
                this.done = !0;
                var e, n = this,
                    r = n.xhr,
                    i = n.request,
                    o = n.destination;
                try {
                    e = new x(t, r, i)
                } catch (t) {
                    return o.error(t)
                }
                o.next(e)
            }, e.prototype.send = function() {
                var t = this,
                    e = t.request,
                    n = t.request,
                    r = n.user,
                    i = n.method,
                    o = n.url,
                    s = n.async,
                    a = n.password,
                    u = n.headers,
                    l = n.body;
                try {
                    var c = this.xhr = e.createXHR();
                    this.setupEvents(c, e), r ? c.open(i, o, s, r, a) : c.open(i, o, s), s && (c.timeout = e.timeout, c.responseType = e.responseType), "withCredentials" in c && (c.withCredentials = !!e.withCredentials), this.setHeaders(c, u), l ? c.send(l) : c.send()
                } catch (t) {
                    this.error(t)
                }
            }, e.prototype.serializeBody = function(t, e) {
                if (!t || "string" == typeof t) return t;
                if (g.a.FormData && t instanceof g.a.FormData) return t;
                if (e) {
                    var n = e.indexOf(";"); - 1 !== n && (e = e.substring(0, n))
                }
                switch (e) {
                    case "application/x-www-form-urlencoded":
                        return Object.keys(t).map(function(e) {
                            return encodeURIComponent(e) + "=" + encodeURIComponent(t[e])
                        }).join("&");
                    case "application/json":
                        return JSON.stringify(t);
                    default:
                        return t
                }
            }, e.prototype.setHeaders = function(t, e) {
                for (var n in e) e.hasOwnProperty(n) && t.setRequestHeader(n, e[n])
            }, e.prototype.getHeader = function(t, e) {
                for (var n in t)
                    if (n.toLowerCase() === e.toLowerCase()) return t[n]
            }, e.prototype.setupEvents = function(t, e) {
                function n(t) {
                    var e = n,
                        r = e.subscriber,
                        i = e.progressSubscriber,
                        o = e.request;
                    i && i.error(t);
                    var s;
                    try {
                        s = new I(this, o)
                    } catch (t) {
                        s = t
                    }
                    r.error(s)
                }

                function r(t) {}

                function i(t) {
                    var e = i,
                        n = e.subscriber,
                        r = e.progressSubscriber,
                        o = e.request;
                    if (4 === this.readyState) {
                        var s = 1223 === this.status ? 204 : this.status,
                            a = "text" === this.responseType ? this.response || this.responseText : this.response;
                        if (0 === s && (s = a ? 200 : 0), s < 400) r && r.complete(), n.next(t), n.complete();
                        else {
                            r && r.error(t);
                            var u = void 0;
                            try {
                                u = new C("ajax error " + s, this, o)
                            } catch (t) {
                                u = t
                            }
                            n.error(u)
                        }
                    }
                }
                var o = e.progressSubscriber;
                if (t.ontimeout = n, n.request = e, n.subscriber = this, n.progressSubscriber = o, t.upload && "withCredentials" in t) {
                    if (o) {
                        var s;
                        s = function(t) {
                            s.progressSubscriber.next(t)
                        }, g.a.XDomainRequest ? t.onprogress = s : t.upload.onprogress = s, s.progressSubscriber = o
                    }
                    var a;
                    a = function(t) {
                        var e = a,
                            n = e.progressSubscriber,
                            r = e.subscriber,
                            i = e.request;
                        n && n.error(t);
                        var o;
                        try {
                            o = new C("ajax error", this, i)
                        } catch (t) {
                            o = t
                        }
                        r.error(o)
                    }, t.onerror = a, a.request = e, a.subscriber = this, a.progressSubscriber = o
                }
                t.onreadystatechange = r, r.subscriber = this, r.progressSubscriber = o, r.request = e, t.onload = i, i.subscriber = this, i.progressSubscriber = o, i.request = e
            }, e.prototype.unsubscribe = function() {
                var e = this,
                    n = e.done,
                    r = e.xhr;
                !n && r && 4 !== r.readyState && "function" == typeof r.abort && r.abort(), t.prototype.unsubscribe.call(this)
            }, e
        }(v.a),
        x = function() {
            function t(t, e, n) {
                this.originalEvent = t, this.xhr = e, this.request = n, this.status = e.status, this.responseType = e.responseType || n.responseType, this.response = f(this.responseType, e)
            }
            return t
        }(),
        T = function() {
            function t(t, e, n) {
                return Error.call(this), this.message = t, this.name = "AjaxError", this.xhr = e, this.request = n, this.status = e.status, this.responseType = e.responseType || n.responseType, this.response = f(this.responseType, e), this
            }
            return t.prototype = Object.create(Error.prototype), t
        }(),
        C = T,
        I = p
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return o
    });
    var r = n(61),
        i = n(80),
        o = {
            closed: !0,
            next: function(t) {},
            error: function(t) {
                if (r.a.useDeprecatedSynchronousErrorHandling) throw t;
                Object(i.a)(t)
            },
            complete: function() {}
        }
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return i
    });
    var r = function() {
            function t(t) {
                return Error.call(this), this.message = t ? t.length + " errors occurred during unsubscription:\n" + t.map(function(t, e) {
                    return e + 1 + ") " + t.toString()
                }).join("\n  ") : "", this.name = "UnsubscriptionError", this.errors = t, this
            }
            return t.prototype = Object.create(Error.prototype), t
        }(),
        i = r
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(127);
    n.d(e, "audit", function() {
        return r.a
    });
    var i = n(218);
    n.d(e, "auditTime", function() {
        return i.a
    });
    var o = n(220);
    n.d(e, "buffer", function() {
        return o.a
    });
    var s = n(221);
    n.d(e, "bufferCount", function() {
        return s.a
    });
    var a = n(222);
    n.d(e, "bufferTime", function() {
        return a.a
    });
    var u = n(223);
    n.d(e, "bufferToggle", function() {
        return u.a
    });
    var l = n(224);
    n.d(e, "bufferWhen", function() {
        return l.a
    });
    var c = n(225);
    n.d(e, "catchError", function() {
        return c.a
    });
    var h = n(226);
    n.d(e, "combineAll", function() {
        return h.a
    });
    var f = n(227);
    n.d(e, "combineLatest", function() {
        return f.a
    });
    var p = n(233);
    n.d(e, "concat", function() {
        return p.a
    });
    var d = n(134);
    n.d(e, "concatAll", function() {
        return d.a
    });
    var g = n(135);
    n.d(e, "concatMap", function() {
        return g.a
    });
    var m = n(234);
    n.d(e, "concatMapTo", function() {
        return m.a
    });
    var v = n(235);
    n.d(e, "count", function() {
        return v.a
    });
    var b = n(236);
    n.d(e, "debounce", function() {
        return b.a
    });
    var y = n(237);
    n.d(e, "debounceTime", function() {
        return y.a
    });
    var _ = n(48);
    n.d(e, "defaultIfEmpty", function() {
        return _.a
    });
    var w = n(238);
    n.d(e, "delay", function() {
        return w.a
    });
    var x = n(239);
    n.d(e, "delayWhen", function() {
        return x.a
    });
    var T = n(240);
    n.d(e, "dematerialize", function() {
        return T.a
    });
    var C = n(241);
    n.d(e, "distinct", function() {
        return C.a
    });
    var I = n(137);
    n.d(e, "distinctUntilChanged", function() {
        return I.a
    });
    var S = n(242);
    n.d(e, "distinctUntilKeyChanged", function() {
        return S.a
    });
    var O = n(243);
    n.d(e, "elementAt", function() {
        return O.a
    });
    var E = n(244);
    n.d(e, "endWith", function() {
        return E.a
    });
    var P = n(245);
    n.d(e, "every", function() {
        return P.a
    });
    var M = n(246);
    n.d(e, "exhaust", function() {
        return M.a
    });
    var k = n(247);
    n.d(e, "exhaustMap", function() {
        return k.a
    });
    var L = n(248);
    n.d(e, "expand", function() {
        return L.a
    });
    var A = n(34);
    n.d(e, "filter", function() {
        return A.a
    });
    var R = n(249);
    n.d(e, "finalize", function() {
        return R.a
    });
    var N = n(138);
    n.d(e, "find", function() {
        return N.b
    });
    var j = n(250);
    n.d(e, "findIndex", function() {
        return j.a
    });
    var B = n(251);
    n.d(e, "first", function() {
        return B.a
    });
    var z = n(139);
    n.d(e, "groupBy", function() {
        return z.b
    });
    var D = n(252);
    n.d(e, "ignoreElements", function() {
        return D.a
    });
    var F = n(253);
    n.d(e, "isEmpty", function() {
        return F.a
    });
    var V = n(254);
    n.d(e, "last", function() {
        return V.a
    });
    var U = n(17);
    n.d(e, "map", function() {
        return U.a
    });
    var H = n(255);
    n.d(e, "mapTo", function() {
        return H.a
    });
    var G = n(256);
    n.d(e, "materialize", function() {
        return G.a
    });
    var W = n(257);
    n.d(e, "max", function() {
        return W.a
    });
    var X = n(258);
    n.d(e, "merge", function() {
        return X.a
    });
    var q = n(87);
    n.d(e, "mergeAll", function() {
        return q.a
    });
    var Y = n(47);
    n.d(e, "mergeMap", function() {
        return Y.a
    }), n.d(e, "flatMap", function() {
        return Y.a
    });
    var K = n(259);
    n.d(e, "mergeMapTo", function() {
        return K.a
    });
    var $ = n(260);
    n.d(e, "mergeScan", function() {
        return $.a
    });
    var Z = n(261);
    n.d(e, "min", function() {
        return Z.a
    });
    var J = n(35);
    n.d(e, "multicast", function() {
        return J.a
    });
    var Q = n(143);
    n.d(e, "observeOn", function() {
        return Q.b
    });
    var tt = n(262);
    n.d(e, "onErrorResumeNext", function() {
        return tt.a
    });
    var et = n(263);
    n.d(e, "pairwise", function() {
        return et.a
    });
    var nt = n(264);
    n.d(e, "partition", function() {
        return nt.a
    });
    var rt = n(265);
    n.d(e, "pluck", function() {
        return rt.a
    });
    var it = n(266);
    n.d(e, "publish", function() {
        return it.a
    });
    var ot = n(267);
    n.d(e, "publishBehavior", function() {
        return ot.a
    });
    var st = n(268);
    n.d(e, "publishLast", function() {
        return st.a
    });
    var at = n(269);
    n.d(e, "publishReplay", function() {
        return at.a
    });
    var ut = n(272);
    n.d(e, "race", function() {
        return ut.a
    });
    var lt = n(68);
    n.d(e, "reduce", function() {
        return lt.a
    });
    var ct = n(273);
    n.d(e, "repeat", function() {
        return ct.a
    });
    var ht = n(274);
    n.d(e, "repeatWhen", function() {
        return ht.a
    });
    var ft = n(275);
    n.d(e, "retry", function() {
        return ft.a
    });
    var pt = n(276);
    n.d(e, "retryWhen", function() {
        return pt.a
    });
    var dt = n(92);
    n.d(e, "refCount", function() {
        return dt.a
    });
    var gt = n(277);
    n.d(e, "sample", function() {
        return gt.a
    });
    var mt = n(278);
    n.d(e, "sampleTime", function() {
        return mt.a
    });
    var vt = n(91);
    n.d(e, "scan", function() {
        return vt.a
    });
    var bt = n(279);
    n.d(e, "sequenceEqual", function() {
        return bt.a
    });
    var yt = n(280);
    n.d(e, "share", function() {
        return yt.a
    });
    var _t = n(281);
    n.d(e, "shareReplay", function() {
        return _t.a
    });
    var wt = n(282);
    n.d(e, "single", function() {
        return wt.a
    });
    var xt = n(283);
    n.d(e, "skip", function() {
        return xt.a
    });
    var Tt = n(284);
    n.d(e, "skipLast", function() {
        return Tt.a
    });
    var Ct = n(285);
    n.d(e, "skipUntil", function() {
        return Ct.a
    });
    var It = n(286);
    n.d(e, "skipWhile", function() {
        return It.a
    });
    var St = n(287);
    n.d(e, "startWith", function() {
        return St.a
    });
    var Ot = n(288);
    n.d(e, "subscribeOn", function() {
        return Ot.a
    });
    var Et = n(293);
    n.d(e, "switchAll", function() {
        return Et.a
    });
    var Pt = n(94);
    n.d(e, "switchMap", function() {
        return Pt.a
    });
    var Mt = n(294);
    n.d(e, "switchMapTo", function() {
        return Mt.a
    });
    var kt = n(89);
    n.d(e, "take", function() {
        return kt.a
    });
    var Lt = n(90);
    n.d(e, "takeLast", function() {
        return Lt.a
    });
    var At = n(295);
    n.d(e, "takeUntil", function() {
        return At.a
    });
    var Rt = n(296);
    n.d(e, "takeWhile", function() {
        return Rt.a
    });
    var Nt = n(297);
    n.d(e, "tap", function() {
        return Nt.a
    });
    var jt = n(149);
    n.d(e, "throttle", function() {
        return jt.b
    });
    var Bt = n(298);
    n.d(e, "throttleTime", function() {
        return Bt.a
    });
    var zt = n(66);
    n.d(e, "throwIfEmpty", function() {
        return zt.a
    });
    var Dt = n(299);
    n.d(e, "timeInterval", function() {
        return Dt.a
    });
    var Ft = n(300);
    n.d(e, "timeout", function() {
        return Ft.a
    });
    var Vt = n(151);
    n.d(e, "timeoutWith", function() {
        return Vt.a
    });
    var Ut = n(301);
    n.d(e, "timestamp", function() {
        return Ut.a
    });
    var Ht = n(302);
    n.d(e, "toArray", function() {
        return Ht.a
    });
    var Gt = n(303);
    n.d(e, "window", function() {
        return Gt.a
    });
    var Wt = n(304);
    n.d(e, "windowCount", function() {
        return Wt.a
    });
    var Xt = n(305);
    n.d(e, "windowTime", function() {
        return Xt.a
    });
    var qt = n(306);
    n.d(e, "windowToggle", function() {
        return qt.a
    });
    var Yt = n(307);
    n.d(e, "windowWhen", function() {
        return Yt.a
    });
    var Kt = n(308);
    n.d(e, "withLatestFrom", function() {
        return Kt.a
    });
    var $t = n(309);
    n.d(e, "zip", function() {
        return $t.a
    });
    var Zt = n(310);
    n.d(e, "zipAll", function() {
        return Zt.a
    })
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return function(e) {
            return e.lift(new a(t))
        }
    }
    e.a = r;
    var i = n(0),
        o = n(3),
        s = n(4),
        a = function() {
            function t(t) {
                this.durationSelector = t
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new u(t, this.durationSelector))
            }, t
        }(),
        u = function(t) {
            function e(e, n) {
                var r = t.call(this, e) || this;
                return r.durationSelector = n, r.hasValue = !1, r
            }
            return i.a(e, t), e.prototype._next = function(t) {
                if (this.value = t, this.hasValue = !0, !this.throttled) {
                    var e = void 0;
                    try {
                        e = (0, this.durationSelector)(t)
                    } catch (t) {
                        return this.destination.error(t)
                    }
                    var n = Object(s.a)(this, e);
                    !n || n.closed ? this.clearThrottle() : this.add(this.throttled = n)
                }
            }, e.prototype.clearThrottle = function() {
                var t = this,
                    e = t.value,
                    n = t.hasValue,
                    r = t.throttled;
                r && (this.remove(r), this.throttled = null, r.unsubscribe()), n && (this.value = null, this.hasValue = !1, this.destination.next(e))
            }, e.prototype.notifyNext = function(t, e, n, r) {
                this.clearThrottle()
            }, e.prototype.notifyComplete = function() {
                this.clearThrottle()
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return r
    });
    var r = function(t) {
        return function(e) {
            for (var n = 0, r = t.length; n < r && !e.closed; n++) e.next(t[n]);
            e.complete()
        }
    }
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return r
    });
    var r = function(t) {
        return t && "number" == typeof t.length && "function" != typeof t
    }
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return !!t && "function" != typeof t.subscribe && "function" == typeof t.then
    }
    e.a = r
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return r
    });
    var r = function() {
        function t(e, n) {
            void 0 === n && (n = t.now), this.SchedulerAction = e, this.now = n
        }
        return t.prototype.schedule = function(t, e, n) {
            return void 0 === e && (e = 0), new this.SchedulerAction(this, t).schedule(n, e)
        }, t.now = function() {
            return Date.now()
        }, t
    }()
}, function(t, e, n) {
    "use strict";

    function r(t, e, n) {
        void 0 === t && (t = 0);
        var r = -1;
        return Object(a.a)(e) ? r = Number(e) < 1 && 1 || Number(e) : Object(u.a)(e) && (n = e), Object(u.a)(n) || (n = s.a), new o.a(function(e) {
            var o = Object(a.a)(t) ? t : +t - n.now();
            return n.schedule(i, o, {
                index: 0,
                period: r,
                subscriber: e
            })
        })
    }

    function i(t) {
        var e = t.index,
            n = t.period,
            r = t.subscriber;
        if (r.next(e), !r.closed) {
            if (-1 === n) return r.complete();
            t.index = e + 1, this.schedule(t, n)
        }
    }
    e.a = r;
    var o = n(2),
        s = n(16),
        a = n(62),
        u = n(22)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        if (null != t) {
            if (Object(u.a)(t)) return Object(i.a)(t, e);
            if (Object(l.a)(t)) return Object(o.a)(t, e);
            if (Object(c.a)(t)) return Object(s.a)(t, e);
            if (Object(h.a)(t) || "string" == typeof t) return Object(a.a)(t, e)
        }
        throw new TypeError((null !== t && typeof t || t) + " is not observable")
    }
    e.a = r;
    var i = n(228),
        o = n(229),
        s = n(86),
        a = n(230),
        u = n(231),
        l = n(130),
        c = n(129),
        h = n(232)
}, function(t, e, n) {
    "use strict";

    function r() {
        return Object(i.a)(1)
    }
    e.a = r;
    var i = n(87)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return Object(i.a)(t, e, 1)
    }
    e.a = r;
    var i = n(47)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t instanceof Date && !isNaN(+t)
    }
    e.a = r
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return function(n) {
            return n.lift(new s(t, e))
        }
    }
    e.a = r;
    var i = n(0),
        o = n(1),
        s = function() {
            function t(t, e) {
                this.compare = t, this.keySelector = e
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new a(t, this.compare, this.keySelector))
            }, t
        }(),
        a = function(t) {
            function e(e, n, r) {
                var i = t.call(this, e) || this;
                return i.keySelector = r, i.hasKey = !1, "function" == typeof n && (i.compare = n), i
            }
            return i.a(e, t), e.prototype.compare = function(t, e) {
                return t === e
            }, e.prototype._next = function(t) {
                var e;
                try {
                    var n = this.keySelector;
                    e = n ? n(t) : t
                } catch (t) {
                    return this.destination.error(t)
                }
                var r = !1;
                if (this.hasKey) try {
                    r = (0, this.compare)(this.key, e)
                } catch (t) {
                    return this.destination.error(t)
                } else this.hasKey = !0;
                r || (this.key = e, this.destination.next(t))
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        if ("function" != typeof t) throw new TypeError("predicate is not a function");
        return function(n) {
            return n.lift(new s(t, n, !1, e))
        }
    }
    e.b = r, n.d(e, "a", function() {
        return s
    });
    var i = n(0),
        o = n(1),
        s = function() {
            function t(t, e, n, r) {
                this.predicate = t, this.source = e, this.yieldIndex = n, this.thisArg = r
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new a(t, this.predicate, this.source, this.yieldIndex, this.thisArg))
            }, t
        }(),
        a = function(t) {
            function e(e, n, r, i, o) {
                var s = t.call(this, e) || this;
                return s.predicate = n, s.source = r, s.yieldIndex = i, s.thisArg = o, s.index = 0, s
            }
            return i.a(e, t), e.prototype.notifyComplete = function(t) {
                var e = this.destination;
                e.next(t), e.complete(), this.unsubscribe()
            }, e.prototype._next = function(t) {
                var e = this,
                    n = e.predicate,
                    r = e.thisArg,
                    i = this.index++;
                try {
                    n.call(r || this, t, i, this.source) && this.notifyComplete(this.yieldIndex ? i : t)
                } catch (t) {
                    this.destination.error(t)
                }
            }, e.prototype._complete = function() {
                this.notifyComplete(this.yieldIndex ? -1 : void 0)
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r(t, e, n, r) {
        return function(i) {
            return i.lift(new l(t, e, n, r))
        }
    }
    e.b = r, n.d(e, "a", function() {
        return f
    });
    var i = n(0),
        o = n(1),
        s = n(10),
        a = n(2),
        u = n(12),
        l = function() {
            function t(t, e, n, r) {
                this.keySelector = t, this.elementSelector = e, this.durationSelector = n, this.subjectSelector = r
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new c(t, this.keySelector, this.elementSelector, this.durationSelector, this.subjectSelector))
            }, t
        }(),
        c = function(t) {
            function e(e, n, r, i, o) {
                var s = t.call(this, e) || this;
                return s.keySelector = n, s.elementSelector = r, s.durationSelector = i, s.subjectSelector = o, s.groups = null, s.attemptedToUnsubscribe = !1, s.count = 0, s
            }
            return i.a(e, t), e.prototype._next = function(t) {
                var e;
                try {
                    e = this.keySelector(t)
                } catch (t) {
                    return void this.error(t)
                }
                this._group(t, e)
            }, e.prototype._group = function(t, e) {
                var n = this.groups;
                n || (n = this.groups = new Map);
                var r, i = n.get(e);
                if (this.elementSelector) try {
                    r = this.elementSelector(t)
                } catch (t) {
                    this.error(t)
                } else r = t;
                if (!i) {
                    i = this.subjectSelector ? this.subjectSelector() : new u.a, n.set(e, i);
                    var o = new f(e, i, this);
                    if (this.destination.next(o), this.durationSelector) {
                        var s = void 0;
                        try {
                            s = this.durationSelector(new f(e, i))
                        } catch (t) {
                            return void this.error(t)
                        }
                        this.add(s.subscribe(new h(e, i, this)))
                    }
                }
                i.closed || i.next(r)
            }, e.prototype._error = function(t) {
                var e = this.groups;
                e && (e.forEach(function(e, n) {
                    e.error(t)
                }), e.clear()), this.destination.error(t)
            }, e.prototype._complete = function() {
                var t = this.groups;
                t && (t.forEach(function(t, e) {
                    t.complete()
                }), t.clear()), this.destination.complete()
            }, e.prototype.removeGroup = function(t) {
                this.groups.delete(t)
            }, e.prototype.unsubscribe = function() {
                this.closed || (this.attemptedToUnsubscribe = !0, 0 === this.count && t.prototype.unsubscribe.call(this))
            }, e
        }(o.a),
        h = function(t) {
            function e(e, n, r) {
                var i = t.call(this, n) || this;
                return i.key = e, i.group = n, i.parent = r, i
            }
            return i.a(e, t), e.prototype._next = function(t) {
                this.complete()
            }, e.prototype._unsubscribe = function() {
                var t = this,
                    e = t.parent,
                    n = t.key;
                this.key = this.parent = null, e && e.removeGroup(n)
            }, e
        }(o.a),
        f = function(t) {
            function e(e, n, r) {
                var i = t.call(this) || this;
                return i.key = e, i.groupSubject = n, i.refCountSubscription = r, i
            }
            return i.a(e, t), e.prototype._subscribe = function(t) {
                var e = new s.a,
                    n = this,
                    r = n.refCountSubscription,
                    i = n.groupSubject;
                return r && !r.closed && e.add(new p(r)), e.add(i.subscribe(t)), e
            }, e
        }(a.a),
        p = function(t) {
            function e(e) {
                var n = t.call(this) || this;
                return n.parent = e, e.count++, n
            }
            return i.a(e, t), e.prototype.unsubscribe = function() {
                var e = this.parent;
                e.closed || this.closed || (t.prototype.unsubscribe.call(this), e.count -= 1, 0 === e.count && e.attemptedToUnsubscribe && e.unsubscribe())
            }, e
        }(s.a)
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return o
    });
    var r = n(0),
        i = n(10),
        o = function(t) {
            function e(e, n) {
                var r = t.call(this) || this;
                return r.subject = e, r.subscriber = n, r.closed = !1, r
            }
            return r.a(e, t), e.prototype.unsubscribe = function() {
                if (!this.closed) {
                    this.closed = !0;
                    var t = this.subject,
                        e = t.observers;
                    if (this.subject = null, e && 0 !== e.length && !t.isStopped && !t.closed) {
                        var n = e.indexOf(this.subscriber); - 1 !== n && e.splice(n, 1)
                    }
                }
            }, e
        }(i.a)
}, function(t, e, n) {
    "use strict";

    function r() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        var n = Number.POSITIVE_INFINITY,
            r = null,
            u = t[t.length - 1];
        return Object(o.a)(u) ? (r = t.pop(), t.length > 1 && "number" == typeof t[t.length - 1] && (n = t.pop())) : "number" == typeof u && (n = t.pop()), null === r && 1 === t.length && t[0] instanceof i.a ? t[0] : Object(s.a)(n)(Object(a.a)(t, r))
    }
    e.a = r;
    var i = n(2),
        o = n(22),
        s = n(87),
        a = n(46)
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return l
    }), n.d(e, "b", function() {
        return c
    });
    var r = n(0),
        i = n(12),
        o = n(2),
        s = n(1),
        a = n(10),
        u = n(92),
        l = function(t) {
            function e(e, n) {
                var r = t.call(this) || this;
                return r.source = e, r.subjectFactory = n, r._refCount = 0, r._isComplete = !1, r
            }
            return r.a(e, t), e.prototype._subscribe = function(t) {
                return this.getSubject().subscribe(t)
            }, e.prototype.getSubject = function() {
                var t = this._subject;
                return t && !t.isStopped || (this._subject = this.subjectFactory()), this._subject
            }, e.prototype.connect = function() {
                var t = this._connection;
                return t || (this._isComplete = !1, t = this._connection = new a.a, t.add(this.source.subscribe(new h(this.getSubject(), this))), t.closed && (this._connection = null, t = a.a.EMPTY)), t
            }, e.prototype.refCount = function() {
                return Object(u.a)()(this)
            }, e
        }(o.a),
        c = function() {
            var t = l.prototype;
            return {
                operator: {
                    value: null
                },
                _refCount: {
                    value: 0,
                    writable: !0
                },
                _subject: {
                    value: null,
                    writable: !0
                },
                _connection: {
                    value: null,
                    writable: !0
                },
                _subscribe: {
                    value: t._subscribe
                },
                _isComplete: {
                    value: t._isComplete,
                    writable: !0
                },
                getSubject: {
                    value: t.getSubject
                },
                connect: {
                    value: t.connect
                },
                refCount: {
                    value: t.refCount
                }
            }
        }(),
        h = function(t) {
            function e(e, n) {
                var r = t.call(this, e) || this;
                return r.connectable = n, r
            }
            return r.a(e, t), e.prototype._error = function(e) {
                this._unsubscribe(), t.prototype._error.call(this, e)
            }, e.prototype._complete = function() {
                this.connectable._isComplete = !0, this._unsubscribe(), t.prototype._complete.call(this)
            }, e.prototype._unsubscribe = function() {
                var t = this.connectable;
                if (t) {
                    this.connectable = null;
                    var e = t._connection;
                    t._refCount = 0, t._subject = null, t._connection = null, e && e.unsubscribe()
                }
            }, e
        }(i.b);
    s.a
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return void 0 === e && (e = 0),
            function(n) {
                return n.lift(new a(t, e))
            }
    }
    e.b = r, n.d(e, "a", function() {
        return u
    });
    var i = n(0),
        o = n(1),
        s = n(65),
        a = function() {
            function t(t, e) {
                void 0 === e && (e = 0), this.scheduler = t, this.delay = e
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new u(t, this.scheduler, this.delay))
            }, t
        }(),
        u = function(t) {
            function e(e, n, r) {
                void 0 === r && (r = 0);
                var i = t.call(this, e) || this;
                return i.scheduler = n, i.delay = r, i
            }
            return i.a(e, t), e.dispatch = function(t) {
                var e = t.notification,
                    n = t.destination;
                e.observe(n), this.unsubscribe()
            }, e.prototype.scheduleMessage = function(t) {
                this.destination.add(this.scheduler.schedule(e.dispatch, this.delay, new l(t, this.destination)))
            }, e.prototype._next = function(t) {
                this.scheduleMessage(s.a.createNext(t))
            }, e.prototype._error = function(t) {
                this.scheduleMessage(s.a.createError(t)), this.unsubscribe()
            }, e.prototype._complete = function() {
                this.scheduleMessage(s.a.createComplete()), this.unsubscribe()
            }, e
        }(o.a),
        l = function() {
            function t(t, e) {
                this.notification = t, this.destination = e
            }
            return t
        }()
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        function n() {
            return !n.pred.apply(n.thisArg, arguments)
        }
        return n.pred = t, n.thisArg = e, n
    }
    e.a = r
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return s
    });
    var r = n(0),
        i = n(12),
        o = n(67),
        s = function(t) {
            function e(e) {
                var n = t.call(this) || this;
                return n._value = e, n
            }
            return r.a(e, t), Object.defineProperty(e.prototype, "value", {
                get: function() {
                    return this.getValue()
                },
                enumerable: !0,
                configurable: !0
            }), e.prototype._subscribe = function(e) {
                var n = t.prototype._subscribe.call(this, e);
                return n && !n.closed && e.next(this._value), n
            }, e.prototype.getValue = function() {
                if (this.hasError) throw this.thrownError;
                if (this.closed) throw new o.a;
                return this._value
            }, e.prototype.next = function(e) {
                t.prototype.next.call(this, this._value = e)
            }, e
        }(i.a)
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return o
    });
    var r = n(270),
        i = n(271),
        o = new i.a(r.a)
}, function(t, e, n) {
    "use strict";

    function r() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        if (1 === t.length) {
            if (!Object(o.a)(t[0])) return t[0];
            t = t[0]
        }
        return Object(s.a)(t, void 0).lift(new l)
    }
    e.a = r;
    var i = n(0),
        o = n(15),
        s = n(46),
        a = n(3),
        u = n(4),
        l = function() {
            function t() {}
            return t.prototype.call = function(t, e) {
                return e.subscribe(new c(t))
            }, t
        }(),
        c = function(t) {
            function e(e) {
                var n = t.call(this, e) || this;
                return n.hasFirst = !1, n.observables = [], n.subscriptions = [], n
            }
            return i.a(e, t), e.prototype._next = function(t) {
                this.observables.push(t)
            }, e.prototype._complete = function() {
                var t = this.observables,
                    e = t.length;
                if (0 === e) this.destination.complete();
                else {
                    for (var n = 0; n < e && !this.hasFirst; n++) {
                        var r = t[n],
                            i = Object(u.a)(this, r, r, n);
                        this.subscriptions && this.subscriptions.push(i), this.add(i)
                    }
                    this.observables = null
                }
            }, e.prototype.notifyNext = function(t, e, n, r, i) {
                if (!this.hasFirst) {
                    this.hasFirst = !0;
                    for (var o = 0; o < this.subscriptions.length; o++)
                        if (o !== n) {
                            var s = this.subscriptions[o];
                            s.unsubscribe(), this.remove(s)
                        } this.subscriptions = null
                }
                this.destination.next(e)
            }, e
        }(a.a)
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return o
    });
    var r = n(290),
        i = n(292),
        o = new i.a(r.a)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return void 0 === e && (e = a),
            function(n) {
                return n.lift(new u(t, e.leading, e.trailing))
            }
    }
    n.d(e, "a", function() {
        return a
    }), e.b = r;
    var i = n(0),
        o = n(3),
        s = n(4),
        a = {
            leading: !0,
            trailing: !1
        },
        u = function() {
            function t(t, e, n) {
                this.durationSelector = t, this.leading = e, this.trailing = n
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new l(t, this.durationSelector, this.leading, this.trailing))
            }, t
        }(),
        l = function(t) {
            function e(e, n, r, i) {
                var o = t.call(this, e) || this;
                return o.destination = e, o.durationSelector = n, o._leading = r, o._trailing = i, o._hasValue = !1, o
            }
            return i.a(e, t), e.prototype._next = function(t) {
                this._hasValue = !0, this._sendValue = t, this._throttled || (this._leading ? this.send() : this.throttle(t))
            }, e.prototype.send = function() {
                var t = this,
                    e = t._hasValue,
                    n = t._sendValue;
                e && (this.destination.next(n), this.throttle(n)), this._hasValue = !1, this._sendValue = null
            }, e.prototype.throttle = function(t) {
                var e = this.tryDurationSelector(t);
                e && this.add(this._throttled = Object(s.a)(this, e))
            }, e.prototype.tryDurationSelector = function(t) {
                try {
                    return this.durationSelector(t)
                } catch (t) {
                    return this.destination.error(t), null
                }
            }, e.prototype.throttlingDone = function() {
                var t = this,
                    e = t._throttled,
                    n = t._trailing;
                e && e.unsubscribe(), this._throttled = null, n && this.send()
            }, e.prototype.notifyNext = function(t, e, n, r, i) {
                this.throttlingDone()
            }, e.prototype.notifyComplete = function() {
                this.throttlingDone()
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return i
    });
    var r = function() {
            function t() {
                return Error.call(this), this.message = "Timeout has occurred", this.name = "TimeoutError", this
            }
            return t.prototype = Object.create(Error.prototype), t
        }(),
        i = r
}, function(t, e, n) {
    "use strict";

    function r(t, e, n) {
        return void 0 === n && (n = o.a),
            function(r) {
                var i = Object(s.a)(t),
                    o = i ? +t - n.now() : Math.abs(t);
                return r.lift(new l(o, i, e, n))
            }
    }
    e.a = r;
    var i = n(0),
        o = n(16),
        s = n(136),
        a = n(3),
        u = n(4),
        l = function() {
            function t(t, e, n, r) {
                this.waitFor = t, this.absoluteTimeout = e, this.withObservable = n, this.scheduler = r
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new c(t, this.absoluteTimeout, this.waitFor, this.withObservable, this.scheduler))
            }, t
        }(),
        c = function(t) {
            function e(e, n, r, i, o) {
                var s = t.call(this, e) || this;
                return s.absoluteTimeout = n, s.waitFor = r, s.withObservable = i, s.scheduler = o, s.action = null, s.scheduleTimeout(), s
            }
            return i.a(e, t), e.dispatchTimeout = function(t) {
                var e = t.withObservable;
                t._unsubscribeAndRecycle(), t.add(Object(u.a)(t, e))
            }, e.prototype.scheduleTimeout = function() {
                var t = this.action;
                t ? this.action = t.schedule(this, this.waitFor) : this.add(this.action = this.scheduler.schedule(e.dispatchTimeout, this.waitFor, this))
            }, e.prototype._next = function(e) {
                this.absoluteTimeout || this.scheduleTimeout(), t.prototype._next.call(this, e)
            }, e.prototype._unsubscribe = function() {
                this.action = null, this.scheduler = null, this.withObservable = null
            }, e
        }(a.a)
}, function(t, e) {
    var n = "undefined" != typeof crypto && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || "undefined" != typeof msCrypto && "function" == typeof window.msCrypto.getRandomValues && msCrypto.getRandomValues.bind(msCrypto);
    if (n) {
        var r = new Uint8Array(16);
        t.exports = function() {
            return n(r), r
        }
    } else {
        var i = new Array(16);
        t.exports = function() {
            for (var t, e = 0; e < 16; e++) 0 == (3 & e) && (t = 4294967296 * Math.random()), i[e] = t >>> ((3 & e) << 3) & 255;
            return i
        }
    }
}, function(t, e) {
    function n(t, e) {
        var n = e || 0,
            i = r;
        return [i[t[n++]], i[t[n++]], i[t[n++]], i[t[n++]], "-", i[t[n++]], i[t[n++]], "-", i[t[n++]], i[t[n++]], "-", i[t[n++]], i[t[n++]], "-", i[t[n++]], i[t[n++]], i[t[n++]], i[t[n++]], i[t[n++]], i[t[n++]]].join("")
    }
    for (var r = [], i = 0; i < 256; ++i) r[i] = (i + 256).toString(16).substr(1);
    t.exports = n
}, function(t, e, n) {
    "use strict";

    function r() {
        return s
    }
    n.d(e, "a", function() {
        return s
    }), e.b = r;
    var i = n(2),
        o = n(95),
        s = new i.a(o.a)
}, function(t, e, n) {
    "use strict";
    var r = this && this.__extends || function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                })(e, n)
        };
        return function(e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.AxiosRequest = void 0;
    var i = n(334),
        o = n(335),
        s = function(t) {
            function e() {
                return null !== t && t.apply(this, arguments) || this
            }
            return r(e, t), e.prototype.ajax = function(t) {
                var n, r = t.url,
                    i = t.type.toUpperCase() || "GET",
                    s = (t.crossDomain, t.data || {}),
                    a = t.dataType || "json",
                    u = "";
                return "GET" !== i && "DELETE" !== i || (u = "?" + e.getQueryString(s)), "POST" !== i && "UPDATE" !== i || (s = JSON.stringify(s)), "json" === a ? n = {
                    Accept: "application/json",
                    "Content-Type": "application/json"
                } : "script" === a ? n = {
                    Accept: "application/javascript",
                    "Content-Type": "application/javascript"
                } : "html" === a && (n = {
                    Accept: "text/html",
                    "Content-Type": "text/html"
                }), "html" === a && (a = "text"), o.default({
                    url: r + ("?" === u ? "" : u),
                    method: i,
                    headers: n,
                    responseType: a,
                    data: s
                }).then(function(t) {
                    return t.data
                })
            }, e.getQueryString = function(t) {
                var e = encodeURIComponent;
                return Object.keys(t).map(function(n) {
                    return e(n) + "=" + e(t[n])
                }).join("&")
            }, e
        }(i.Request);
    e.AxiosRequest = s
}, function(t, e, n) {
    "use strict";
    t.exports = function(t, e) {
        return function() {
            for (var n = new Array(arguments.length), r = 0; r < n.length; r++) n[r] = arguments[r];
            return t.apply(e, n)
        }
    }
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return encodeURIComponent(t).replace(/%40/gi, "@").replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, "+").replace(/%5B/gi, "[").replace(/%5D/gi, "]")
    }
    var i = n(18);
    t.exports = function(t, e, n) {
        if (!e) return t;
        var o;
        if (n) o = n(e);
        else if (i.isURLSearchParams(e)) o = e.toString();
        else {
            var s = [];
            i.forEach(e, function(t, e) {
                null !== t && void 0 !== t && (i.isArray(t) ? e += "[]" : t = [t], i.forEach(t, function(t) {
                    i.isDate(t) ? t = t.toISOString() : i.isObject(t) && (t = JSON.stringify(t)), s.push(r(e) + "=" + r(t))
                }))
            }), o = s.join("&")
        }
        if (o) {
            var a = t.indexOf("#"); - 1 !== a && (t = t.slice(0, a)), t += (-1 === t.indexOf("?") ? "?" : "&") + o
        }
        return t
    }
}, function(t, e, n) {
    "use strict";
    t.exports = function(t) {
        return !(!t || !t.__CANCEL__)
    }
}, function(t, e, n) {
    "use strict";
    (function(e) {
        function r(t, e) {
            !i.isUndefined(t) && i.isUndefined(t["Content-Type"]) && (t["Content-Type"] = e)
        }
        var i = n(18),
            o = n(341),
            s = {
                "Content-Type": "application/x-www-form-urlencoded"
            },
            a = {
                adapter: function() {
                    var t;
                    return "undefined" != typeof XMLHttpRequest ? t = n(160) : void 0 !== e && "[object process]" === Object.prototype.toString.call(e) && (t = n(160)), t
                }(),
                transformRequest: [function(t, e) {
                    return o(e, "Accept"), o(e, "Content-Type"), i.isFormData(t) || i.isArrayBuffer(t) || i.isBuffer(t) || i.isStream(t) || i.isFile(t) || i.isBlob(t) ? t : i.isArrayBufferView(t) ? t.buffer : i.isURLSearchParams(t) ? (r(e, "application/x-www-form-urlencoded;charset=utf-8"), t.toString()) : i.isObject(t) ? (r(e, "application/json;charset=utf-8"), JSON.stringify(t)) : t
                }],
                transformResponse: [function(t) {
                    if ("string" == typeof t) try {
                        t = JSON.parse(t)
                    } catch (t) {}
                    return t
                }],
                timeout: 0,
                xsrfCookieName: "XSRF-TOKEN",
                xsrfHeaderName: "X-XSRF-TOKEN",
                maxContentLength: -1,
                validateStatus: function(t) {
                    return t >= 200 && t < 300
                }
            };
        a.headers = {
            common: {
                Accept: "application/json, text/plain, */*"
            }
        }, i.forEach(["delete", "get", "head"], function(t) {
            a.headers[t] = {}
        }), i.forEach(["post", "put", "patch"], function(t) {
            a.headers[t] = i.merge(s)
        }), t.exports = a
    }).call(e, n(107))
}, function(t, e, n) {
    "use strict";
    (function(e) {
        var r = n(18),
            i = n(342),
            o = n(157),
            s = n(344),
            a = n(347),
            u = n(348),
            l = n(161);
        t.exports = function(t) {
            return new e(function(e, c) {
                var h = t.data,
                    f = t.headers;
                r.isFormData(h) && delete f["Content-Type"];
                var p = new XMLHttpRequest;
                if (t.auth) {
                    var d = t.auth.username || "",
                        g = t.auth.password || "";
                    f.Authorization = "Basic " + btoa(d + ":" + g)
                }
				if(t.url=="/v3/fe/fonts/?fi=90028%2C90029%2C10006%2C60037")
				{
					t.url='/Video/v3/fe/fonts/fi.json';
				}
				if(t.url=="https://1757140519.rsc.cdn77.org/static/v3/fonts/10006/10006.html")
				{
					t.url='/Video/10006.html';
				}
				if(t.url=="https://1757140519.rsc.cdn77.org/static/v3/fonts/90029/90029.html")
				{
					t.url='/Video/90029.html';
				}
				if(t.url=="https://1757140519.rsc.cdn77.org/static/v3/fonts/60037/60037.html")
				{
					t.url='/Video/60037.html';
				}
				if(t.url=="https://1757140519.rsc.cdn77.org/static/v3/fonts/90028/90028.html")
				{
					t.url='/Video/90028.html';
				}
                var m = s(t.baseURL, t.url);
				//var m = s("https://www.logaster.com", t.url);
                if (p.open(t.method.toUpperCase(), o(m, t.params, t.paramsSerializer), !0), p.timeout = t.timeout, p.onreadystatechange = function() {
                        if (p && 4 === p.readyState && (0 !== p.status || p.responseURL && 0 === p.responseURL.indexOf("file:"))) {
                            var n = "getAllResponseHeaders" in p ? a(p.getAllResponseHeaders()) : null,
                                r = t.responseType && "text" !== t.responseType ? p.response : p.responseText,
                                o = {
                                    data: r,
                                    status: p.status,
                                    statusText: p.statusText,
                                    headers: n,
                                    config: t,
                                    request: p
                                };
                            i(e, c, o), p = null
                        }
                    }, p.onabort = function() {
                        p && (c(l("Request aborted", t, "ECONNABORTED", p)), p = null)
                    }, p.onerror = function() {
                        c(l("Network Error", t, null, p)), p = null
                    }, p.ontimeout = function() {
                        var e = "timeout of " + t.timeout + "ms exceeded";
                        t.timeoutErrorMessage && (e = t.timeoutErrorMessage), c(l(e, t, "ECONNABORTED", p)), p = null
                    }, r.isStandardBrowserEnv()) {
                    var v = n(349),
                        b = (t.withCredentials || u(m)) && t.xsrfCookieName ? v.read(t.xsrfCookieName) : void 0;
                    b && (f[t.xsrfHeaderName] = b)
                }
                if ("setRequestHeader" in p && r.forEach(f, function(t, e) {
                        void 0 === h && "content-type" === e.toLowerCase() ? delete f[e] : p.setRequestHeader(e, t)
                    }), r.isUndefined(t.withCredentials) || (p.withCredentials = !!t.withCredentials), t.responseType) try {
                    p.responseType = t.responseType
                } catch (e) {
                    if ("json" !== t.responseType) throw e
                }
                "function" == typeof t.onDownloadProgress && p.addEventListener("progress", t.onDownloadProgress), "function" == typeof t.onUploadProgress && p.upload && p.upload.addEventListener("progress", t.onUploadProgress), t.cancelToken && t.cancelToken.promise.then(function(t) {
                    p && (p.abort(), c(t), p = null)
                }), void 0 === h && (h = null), p.send(h)
            })
        }
    }).call(e, n(6))
}, function(t, e, n) {
    "use strict";
    var r = n(343);
    t.exports = function(t, e, n, i, o) {
        var s = new Error(t);
        return r(s, e, n, i, o)
    }
}, function(t, e, n) {
    "use strict";
    var r = n(18);
    t.exports = function(t, e) {
        e = e || {};
        var n = {},
            i = ["url", "method", "params", "data"],
            o = ["headers", "auth", "proxy"],
            s = ["baseURL", "url", "transformRequest", "transformResponse", "paramsSerializer", "timeout", "withCredentials", "adapter", "responseType", "xsrfCookieName", "xsrfHeaderName", "onUploadProgress", "onDownloadProgress", "maxContentLength", "validateStatus", "maxRedirects", "httpAgent", "httpsAgent", "cancelToken", "socketPath"];
        r.forEach(i, function(t) {
            void 0 !== e[t] && (n[t] = e[t])
        }), r.forEach(o, function(i) {
            r.isObject(e[i]) ? n[i] = r.deepMerge(t[i], e[i]) : void 0 !== e[i] ? n[i] = e[i] : r.isObject(t[i]) ? n[i] = r.deepMerge(t[i]) : void 0 !== t[i] && (n[i] = t[i])
        }), r.forEach(s, function(r) {
            void 0 !== e[r] ? n[r] = e[r] : void 0 !== t[r] && (n[r] = t[r])
        });
        var a = i.concat(o).concat(s),
            u = Object.keys(e).filter(function(t) {
                return -1 === a.indexOf(t)
            });
        return r.forEach(u, function(r) {
            void 0 !== e[r] ? n[r] = e[r] : void 0 !== t[r] && (n[r] = t[r])
        }), n
    }
}, function(t, e, n) {
    "use strict";

    function r(t) {
        this.message = t
    }
    r.prototype.toString = function() {
        return "Cancel" + (this.message ? ": " + this.message : "")
    }, r.prototype.__CANCEL__ = !0, t.exports = r
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.WaitLocker = void 0;
    var r = function() {
        function t() {}
        return t.start = function() {
            0 === t.requests && null !== t.appElement && t.appElement.addClass("locked"), t.requests++
        }, t.stop = function() {
            0 !== t.requests && 0 === --t.requests && null !== t.appElement && t.appElement.removeClass("locked")
        }, t.isLocked = function() {
            return t.requests > 0
        }, t.requests = 0, t.appElement = null, t
    }();
    e.WaitLocker = r
}, function(t, e, n) {
    /*!
     * iro.js v3.5.0
     * 2016-2018 James Daniel
     * Released under the MIT License
     * github.com/jaames/iro.js
     */
    ! function(e, n) {
        t.exports = n()
    }(0, function() {
        "use strict";

        function t(t, e) {
            var n = t.match(/(\S+)\((\d+)(%?)(?:\D+?)(\d+)(%?)(?:\D+?)(\d+)(%?)(?:\D+?)?([0-9\.]+?)?\)/i),
                r = parseInt(n[2]),
                i = parseInt(n[4]),
                o = parseInt(n[6]);
            return [n[1], "%" == n[3] ? r / 100 * e[0] : r, "%" == n[5] ? i / 100 * e[1] : i, "%" == n[7] ? o / 100 * e[2] : o, parseFloat(n[8]) || void 0]
        }

        function e(t) {
            return t instanceof g ? t : new g(t)
        }

        function n(t, e, n) {
            return t <= e ? e : t >= n ? n : t
        }

        function r(t, e) {
            var n = {};
            for (var r in t) n[r] = e[r] != t[r];
            return n
        }

        function i(t, e, n, r) {
            void 0 === r && (r = {});
            for (var i = 0; i < e.length; i++) t.addEventListener(e[i], n, r)
        }

        function o(t, e, n) {
            for (var r = 0; r < e.length; r++) t.removeEventListener(e[r], n)
        }

        function s(t) {
            document.readyState == M ? t() : i(document, [P], function e(n) {
                document.readyState == M && (t(), o(document, [P], e))
            })
        }
        var a = function(t, e) {
            var n = t.g({
                class: "iro__marker"
            });
            n.circle(0, 0, e.r, {
                class: "iro__marker__outer",
                fill: "none",
                strokeWidth: 5,
                stroke: "#000"
            }), n.circle(0, 0, e.r, {
                class: "iro__marker__inner",
                fill: "none",
                strokeWidth: 2,
                stroke: "#fff"
            }), this.g = n
        };
        a.prototype.move = function(t, e) {
            this.g.setTransform("translate", [t, e])
        };
        var u = Math.PI,
            l = Math.sqrt,
            c = Math.abs,
            h = Math.round,
            f = function(t, e) {
                this._opts = e, this.type = "wheel";
                var n = e.cY,
                    r = e.cX,
                    i = e.r,
                    o = e.border,
                    s = t.g({
                        class: "iro__wheel"
                    });
                s.circle(r, n, i + o.w / 2, {
                    class: "iro__wheel__border",
                    fill: "#fff",
                    stroke: o.color,
                    strokeWidth: o.w
                });
                for (var u = s.g({
                        class: "iro__wheel__hue",
                        strokeWidth: i,
                        fill: "none"
                    }), l = 0; l < 360; l++) u.arc(r, n, i / 2, l, l + 1.5, {
                    stroke: "hsl(" + (e.anticlockwise ? 360 - l : l) + ",100%,50%)"
                });
                s.circle(r, n, i, {
                    class: "iro__wheel__saturation"
                }).setGradient("fill", t.gradient("radial", {
                    0: {
                        color: "#fff"
                    },
                    100: {
                        color: "#fff",
                        opacity: 0
                    }
                })), this._lightness = s.circle(r, n, i, {
                    class: "iro__wheel__lightness",
                    opacity: 0
                }), this.marker = new a(s, e.marker)
            };
        f.prototype.update = function(t, e) {
            var n = this._opts,
                r = t.hsv;
            if (e.v && n.lightness && this._lightness.setAttrs({
                    opacity: (1 - r.v / 100).toFixed(2)
                }), e.h || e.s) {
                var i = (n.anticlockwise ? 360 - r.h : r.h) * (u / 180),
                    o = r.s / 100 * n.rMax;
                this.marker.move(n.cX + o * Math.cos(i), n.cY + o * Math.sin(i))
            }
        }, f.prototype.input = function(t, e) {
            var n = this._opts,
                r = n.rMax,
                i = n.cX - t,
                o = n.cY - e,
                s = Math.atan2(o, i),
                a = h(s * (180 / u)) + 180,
                c = Math.min(l(i * i + o * o), r);
            return a = n.anticlockwise ? 360 - a : a, {
                h: a,
                s: h(100 / r * c)
            }
        }, f.prototype.checkHit = function(t, e) {
            var n = this._opts,
                r = c(t - n.cX),
                i = c(e - n.cY);
            return l(r * r + i * i) < n.r
        };
        var p = Math.round,
            d = Math.floor,
            g = function(t) {
                this._onChange = !1, this._value = {
                    h: void 0,
                    s: void 0,
                    v: void 0
                }, t && this.set(t)
            },
            m = {
                hsv: {
                    configurable: !0
                },
                rgb: {
                    configurable: !0
                },
                hsl: {
                    configurable: !0
                },
                rgbString: {
                    configurable: !0
                },
                hexString: {
                    configurable: !0
                },
                hslString: {
                    configurable: !0
                }
            };
        g.mix = function(t, r, i) {
            var o = e(t).rgb,
                s = e(r).rgb;
            return i = n(i / 100 || .5, 0, 1), new g({
                r: d(o.r + (s.r - o.r) * i),
                g: d(o.g + (s.g - o.g) * i),
                b: d(o.b + (s.b - o.b) * i)
            })
        }, g.lighten = function(t, r) {
            var i = e(t),
                o = i.hsv;
            return o.v = n(o.v + r, 0, 100), i.hsv = o, i
        }, g.darken = function(t, r) {
            var i = e(t),
                o = i.hsv;
            return o.v = n(o.v - r, 0, 100), i.hsv = o, i
        }, g.hsv2Rgb = function(t) {
            var e, n, r, i, o, s, a, u, l = t.h / 360,
                c = t.s / 100,
                h = t.v / 100;
            switch (i = d(6 * l), o = 6 * l - i, s = h * (1 - c), a = h * (1 - o * c), u = h * (1 - (1 - o) * c), i % 6) {
                case 0:
                    e = h, n = u, r = s;
                    break;
                case 1:
                    e = a, n = h, r = s;
                    break;
                case 2:
                    e = s, n = h, r = u;
                    break;
                case 3:
                    e = s, n = a, r = h;
                    break;
                case 4:
                    e = u, n = s, r = h;
                    break;
                case 5:
                    e = h, n = s, r = a
            }
            return {
                r: p(255 * e),
                g: p(255 * n),
                b: p(255 * r)
            }
        }, g.rgb2Hsv = function(t) {
            var e, n = t.r / 255,
                r = t.g / 255,
                i = t.b / 255,
                o = Math.max(n, r, i),
                s = Math.min(n, r, i),
                a = o - s;
            switch (o) {
                case s:
                    e = 0;
                    break;
                case n:
                    e = (r - i) / a + (r < i ? 6 : 0);
                    break;
                case r:
                    e = (i - n) / a + 2;
                    break;
                case i:
                    e = (n - r) / a + 4
            }
            return e /= 6, {
                h: 360 * e,
                s: 0 == o ? 0 : a / o * 100,
                v: 100 * o
            }
        }, g.hsv2Hsl = function(t) {
            var e = t.s / 100,
                n = t.v / 100,
                r = .5 * n * (2 - e);
            return e = n * e / (1 - Math.abs(2 * r - 1)), {
                h: t.h,
                s: 100 * e || 0,
                l: 100 * r
            }
        }, g.hsl2Hsv = function(t) {
            var e = t.s / 100,
                n = t.l / 100;
            return n *= 2, e *= n <= 1 ? n : 2 - n, {
                h: t.h,
                s: 2 * e / (n + e) * 100,
                v: (n + e) / 2 * 100
            }
        }, g.hsl2Str = function(t) {
            return "hsl" + (t.a ? "a" : "") + "(" + t.h + ", " + t.s + "%, " + t.l + "%" + (t.a ? ", " + t.a : "") + ")"
        }, g.rgb2Str = function(t) {
            return "rgb" + (t.a ? "a" : "") + "(" + t.r + ", " + t.g + ", " + t.b + (t.a ? ", " + t.a : "") + ")"
        }, g.rgb2Hex = function(t) {
            var e = "#";
            return e += t.r.toString(16).padStart(2, "0"), e += t.g.toString(16).padStart(2, "0"), e += t.b.toString(16).padStart(2, "0")
        }, g.parseHexStr = function(t) {
            t = t.replace("#", "");
            var e = parseInt("0x" + t),
                n = 3 == t.length,
                r = n ? 15 : 255,
                i = n ? 4 : 8,
                o = n ? 17 : 1;
            return {
                r: (e >> 2 * i & r) * o,
                g: (e >> i & r) * o,
                b: (e & r) * o
            }
        }, g.parseHslStr = function(e) {
            var n = t(e, [360, 100, 100]);
            return {
                h: n[2],
                s: n[3],
                l: n[4]
            }
        }, g.parseRgbStr = function(e) {
            var n = t(e, [255, 255, 255]);
            return {
                r: n[1],
                g: n[2],
                b: n[3]
            }
        }, m.hsv.get = function() {
            var t = this._value;
            return {
                h: t.h,
                s: t.s,
                v: t.v
            }
        }, m.hsv.set = function(t) {
            if (this._onChange) {
                var e = this._value;
                for (var n in e) t.hasOwnProperty(n) || (t[n] = e[n]);
                var i = r(e, t);
                this._value = t, (i.h || i.s || i.v) && this._onChange(this, i)
            } else this._value = t
        }, m.rgb.get = function() {
            var t = g.hsv2Rgb(this._value);
            return {
                r: p(t.r),
                g: p(t.g),
                b: p(t.b)
            }
        }, m.rgb.set = function(t) {
            this.hsv = g.rgb2Hsv(t)
        }, m.hsl.get = function() {
            var t = g.hsv2Hsl(this._value);
            return {
                h: p(t.h),
                s: p(t.s),
                l: p(t.l)
            }
        }, m.hsl.set = function(t) {
            this.hsv = g.hsl2Hsv(t)
        }, m.rgbString.get = function() {
            return g.rgb2Str(this.rgb)
        }, m.rgbString.set = function(t) {
            this.rgb = g.parseRgbStr(t)
        }, m.hexString.get = function() {
            return g.rgb2Hex(this.rgb)
        }, m.hexString.set = function(t) {
            this.rgb = g.parseHexStr(t)
        }, m.hslString.get = function() {
            return g.hsl2Str(this.hsl)
        }, m.hslString.set = function(t) {
            this.hsl = g.parseHslStr(t)
        }, g.prototype.set = function(t) {
            "object" == typeof t ? t instanceof g ? this.hsv = g.hsv : "r" in t ? this.rgb = t : "v" in t ? this.hsv = t : "l" in t && (this.hsl = t) : "string" == typeof t && (/^rgb/.test(t) ? this.rgbString = t : /^hsl/.test(t) ? this.hslString = t : /^#[0-9A-Fa-f]/.test(t) && (this.hexString = t))
        }, g.prototype.setChannel = function(t, e, n) {
            var r = this[t];
            r[e] = n, this[t] = r
        }, g.prototype.clone = function() {
            return new g(this)
        }, g.prototype.compare = function(t, n) {
            return n = n || "hsv", r(this[n], e(t)[n])
        }, g.prototype.mix = function(t, e) {
            this.hsv = mix(this, t, e).hsv
        }, g.prototype.lighten = function(t) {
            lighten(this, t)
        }, g.prototype.darken = function(t) {
            darken(this, t)
        }, Object.defineProperties(g.prototype, m);
        var v = function(t, e) {
            var n = e.r,
                r = e.w,
                i = e.h,
                o = e.x,
                s = e.y,
                u = e.border.w;
            e.range = {
                min: o + n,
                max: o + r - n,
                w: r - 2 * n
            }, e.sliderType = e.sliderType || "v", this.type = "slider", this._opts = e;
            var l = n + u / 2,
                c = t.g({
                    class: "iro__slider"
                }),
                h = c.insert("rect", {
                    class: "iro__slider__value",
                    rx: l,
                    ry: l,
                    x: o - u / 2,
                    y: s - u / 2,
                    width: r + u,
                    height: i + u,
                    strokeWidth: u,
                    stroke: e.border.color
                });
            h.setGradient("fill", t.gradient("linear", {
                0: {
                    color: "#000"
                },
                100: {
                    color: "#fff"
                }
            })), this._gradient = h.gradient, this.marker = new a(c, e.marker)
        };
        v.prototype.update = function(t, e) {
            var n = this._opts,
                r = n.range,
                i = t.hsv,
                o = g.hsv2Hsl({
                    h: i.h,
                    s: i.s,
                    v: 100
                });
            if ("v" == n.sliderType && ((e.h || e.s) && this._gradient.stops[1].setAttrs({
                    stopColor: "hsl(" + o.h + "," + o.s + "%," + o.l + "%)"
                }), e.v)) {
                var s = i.v / 100;
                this.marker.move(r.min + s * r.w, n.y + n.h / 2)
            }
        }, v.prototype.input = function(t, e) {
            var n = this._opts,
                r = n.range,
                i = Math.max(Math.min(t, r.max), r.min) - r.min;
            return {
                v: Math.round(100 / r.w * i)
            }
        }, v.prototype.checkHit = function(t, e) {
            var n = this._opts;
            return t > n.x && t < n.x + n.w && e > n.y && e < n.y + n.h
        };
        var b = 0,
            y = {
                class: "class",
                stroke: "stroke",
                strokeWidth: "stroke-width",
                fill: "fill",
                opacity: "opacity",
                offset: "offset",
                stopColor: "stop-color",
                stopOpacity: "stop-opacity"
            },
            _ = {
                translate: "setTranslate",
                scale: "setScale",
                rotate: "setRotate"
            },
            w = window.navigator.userAgent.toLowerCase(),
            x = /msie|trident|edge/.test(w),
            T = /^((?!chrome|android).)*safari/i.test(w),
            C = function(t, e, n, r) {
                var i = document.createElementNS("http://www.w3.org/2000/svg", n);
                this.el = i, this.setAttrs(r), (e.el || e).appendChild(i), this._root = t, this._svgTransforms = {}, this._transformList = !!i.transform && i.transform.baseVal
            };
        C.prototype.insert = function(t, e) {
            return new C(this._root, this, t, e)
        }, C.prototype.g = function(t) {
            return this.insert("g", t)
        }, C.prototype.arc = function(t, e, n, r, i, o) {
            var s = i - r <= 180 ? 0 : 1;
            r *= Math.PI / 180, i *= Math.PI / 180;
            var a = t + n * Math.cos(i),
                u = e + n * Math.sin(i),
                l = t + n * Math.cos(r),
                c = e + n * Math.sin(r);
            return o = o || {}, o.d = ["M", a, u, "A", n, n, 0, s, 0, l, c].join(" "), this.insert("path", o)
        }, C.prototype.circle = function(t, e, n, r) {
            return r = r || {}, r.cx = t, r.cy = e, r.r = n, this.insert("circle", r)
        }, C.prototype.setTransform = function(t, e) {
            if (x) this.setAttrs({
                transform: t + "(" + e.join(", ") + ")"
            });
            else {
                var n, r, i = this._svgTransforms;
                i[t] ? n = i[t] : (n = this._root.el.createSVGTransform(), i[t] = n, this._transformList.appendItem(n)), r = t in _ ? _[t] : t, n[r].apply(n, e)
            }
        }, C.prototype.setAttrs = function(t) {
            var e = this;
            for (var n in t) {
                var r = n in y ? y[n] : n;
                e.el.setAttribute(r, t[n])
            }
        }, C.prototype.setGradient = function(t, e) {
            var n = {};
            n[t] = e.getUrl(), e._refs[t] = this, this.gradient = e, this.setAttrs(n)
        };
        var I = function(t, e, n) {
            var r = [],
                i = t._defs.insert(e + "Gradient", {
                    id: "iroGradient" + b++
                });
            for (var o in n) {
                var s = n[o];
                r.push(i.insert("stop", {
                    offset: o + "%",
                    stopColor: s.color,
                    stopOpacity: void 0 === s.opacity ? 1 : s.opacity
                }))
            }
            this.el = i.el, this.stops = r, this._refs = {}
        };
        I.prototype.getUrl = function(t) {
            return "url(" + (T ? t || window.location.href : "") + "#" + this.el.id + ")"
        };
        var S = function(t) {
                function e(e, n, r, i) {
                    t.call(this, null, e, "svg", {
                        width: n,
                        height: r,
                        style: "display:" + (i || "block") + ";touch-action:none"
                    }), this._root = this, this._defs = this.insert("defs"), this._gradients = []
                }
                return t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e, e.prototype.gradient = function(t, e) {
                    var n = new I(this, t, e);
                    return this._gradients.push(n), n
                }, e.prototype.updateUrls = function(t) {
                    if (T)
                        for (var e = this._gradients, n = 0; n < e.length; n++)
                            for (var r in e[n]._refs) {
                                var i = {};
                                i[r] = e[n].getUrl(t), e[n]._refs[r].setAttrs(i)
                            }
                }, e
            }(C),
            O = function() {
                var t = document.createElement("style");
                document.head.appendChild(t), t.appendChild(document.createTextNode("")), this.style = t;
                var e = t.sheet;
                this.sheet = e, this.rules = e.rules || e.cssRules, this.map = {}
            },
            E = {
                enabled: {
                    configurable: !0
                },
                cssText: {
                    configurable: !0
                },
                css: {
                    configurable: !0
                }
            };
        E.enabled.get = function() {
            return !this.sheet.disabled
        }, E.enabled.set = function(t) {
            this.sheet.disabled = !t
        }, E.cssText.get = function() {
            var t = this.map,
                e = [];
            for (var n in t) e.push(n.replace(/,\W/g, ",\n") + " {\n\t" + t[n].cssText.replace(/;\W/g, ";\n\t") + "\n}");
            return e.join("\n")
        }, E.css.get = function() {
            var t = this.map,
                e = {};
            for (var n in t) {
                var r = t[n];
                e[n] = {};
                for (var i = 0; i < r.length; i++) {
                    var o = r[i];
                    e[n][o] = r.getPropertyValue(o)
                }
            }
            return e
        }, O.prototype.setRule = function(t, e, n) {
            var r = this.sheet,
                i = r.rules || r.cssRules,
                o = this.map;
            if (e = e.replace(/([A-Z])/g, function(t) {
                    return "-" + t.toLowerCase()
                }), o.hasOwnProperty(t)) o[t].setProperty(e, n);
            else {
                var s = i.length,
                    a = e + ": " + n;
                try {
                    r.insertRule(t + " {" + a + ";}", s)
                } catch (e) {
                    r.addRule(t, a, s)
                } finally {
                    i = r.rules || r.cssRules, o[t] = i[s].style
                }
            }
        }, Object.defineProperties(O.prototype, E);
        var P = "readystatechange",
            M = "complete",
            k = function(t, e) {
                var n = this;
                e = e || {}, this._events = {}, this._mouseTarget = !1, this._colorChangeActive = !1, this.css = e.css || e.styles || void 0, s(function() {
                    n._mount(t, e)
                })
            };
        return k.prototype._mount = function(t, e) {
            var n = this;
            t = "string" == typeof t ? document.querySelector(t) : t;
            var r = e.width || parseInt(t.width) || 320,
                o = e.height || parseInt(t.height) || 320,
                s = e.padding + 2 || 6,
                a = e.borderWidth || 0,
                u = e.markerRadius || 8,
                l = e.sliderMargin || 24,
                c = e.sliderHeight || 2 * u + 2 * s + 2 * a,
                h = Math.min(o - c - l, r),
                p = h / 2 - a,
                d = (r - h) / 2,
                m = {
                    r: u
                },
                b = {
                    w: a,
                    color: e.borderColor || "#fff"
                };
            this.el = t, this.svg = new S(t, r, o, e.display), this.ui = [new f(this.svg, {
                cX: d + h / 2,
                cY: h / 2,
                r: p,
                rMax: p - (u + s),
                marker: m,
                border: b,
                lightness: void 0 == e.wheelLightness || e.wheelLightness,
                anticlockwise: e.anticlockwise
            }), new v(this.svg, {
                sliderType: "v",
                x: d + a,
                y: h + l,
                w: h - 2 * a,
                h: c - 2 * a,
                r: c / 2 - a,
                marker: m,
                border: b
            })], this.stylesheet = new O, this.color = new g, this.color._onChange = this._update.bind(this), this.color.set(e.color || e.defaultValue || "#fff"), this.on("history:stateChange", function(t) {
                n.svg.updateUrls(t)
            }), i(this.svg.el, ["mousedown", "touchstart"], this, {
                passive: !1
            }), this.emit("mount", this)
        }, k.prototype._update = function(t, e) {
            for (var n = this, r = t.rgbString, i = this.css, o = 0; o < this.ui.length; o++) n.ui[o].update(t, e);
            for (var s in i) {
                var a = i[s];
                for (var u in a) n.stylesheet.setRule(s, u, r)
            }
            this._colorChangeActive || (this._colorChangeActive = !0, this.emit("color:change", t, e), this._colorChangeActive = !1)
        }, k.prototype.on = function(t, e) {
            var n = this._events;
            (n[t] || (n[t] = [])).push(e)
        }, k.prototype.off = function(t, e) {
            var n = this._events[t];
            n && n.splice(n.indexOf(e), 1)
        }, k.prototype.emit = function(t) {
            for (var e = [], n = arguments.length - 1; n-- > 0;) e[n] = arguments[n + 1];
            for (var r = this._events, i = (r[t] || []).concat(r["*"] || []), o = 0; o < i.length; o++) i[o].apply(null, e)
        }, k.prototype.handleEvent = function(t) {
            var e = this,
                n = t.touches ? t.changedTouches[0] : t,
                r = this.svg.el.getBoundingClientRect(),
                s = n.clientX - r.left,
                a = n.clientY - r.top;
            switch (t.type) {
                case "mousedown":
                case "touchstart":
                    for (var u = 0; u < this.ui.length; u++) {
                        var l = e.ui[u];
                        l.checkHit(s, a) && (e._mouseTarget = l, i(document, ["mousemove", "touchmove", "mouseup", "touchend"], e, {
                            passive: !1
                        }), e.emit("input:start", e.color), e.color.hsv = e._mouseTarget.input(s, a))
                    }
                    break;
                case "mousemove":
                case "touchmove":
                    this.color.hsv = this._mouseTarget.input(s, a);
                    break;
                case "mouseup":
                case "touchend":
                    this._mouseTarget = !1, this.emit("input:end", this.color), o(document, ["mousemove", "touchmove", "mouseup", "touchend"], this)
            }
            this._mouseTarget && t.preventDefault()
        }, {
            Color: g,
            ColorPicker: k,
            Stylesheet: O,
            version: "3.5.0"
        }
    })
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.LogoView = void 0;
    var r = n(8),
        i = n(7),
        o = n(14),
        s = n(169),
        a = function() {
            function t(t) {
                this._logo = null, this.context2d = null, this.items = [], this.zoom = 1, this.watermark = null, this.debugMode = !1, this.padding = 10, this.traceRect = new o.Rectangle(0, 0, r.Logo.LOGO_SUGGESTION_WIDTH, r.Logo.LOGO_SUGGESTION_HEIGHT), this._offsetMatrix = null, this._lastColorCombination = null, this._cashedItems = [], this._needRedraw = !0, this.context2d = t
            }
            return Object.defineProperty(t.prototype, "width", {
                get: function() {
                    return this.traceRect.width
                },
                set: function(t) {
                    this.traceRect.width = t
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "height", {
                get: function() {
                    return this.traceRect.height
                },
                set: function(t) {
                    this.traceRect.height = t
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "offsetMatrix", {
                get: function() {
                    return this._offsetMatrix
                },
                set: function(t) {
                    this._needRedraw || (this._needRedraw = null === this._offsetMatrix || !this._offsetMatrix.equals(t)), this._offsetMatrix = t
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "logo", {
                get: function() {
                    return this._logo
                },
                set: function(t) {
                    this._logo = t, this._needRedraw = this._detectRedraw(), this._updateCashedItems()
                },
                enumerable: !1,
                configurable: !0
            }), t.prototype._updateCashedItems = function() {
                this._cashedItems = [];
                for (var t = 0, e = this._logo.items; t < e.length; t++) {
                    var n = e[t],
                        r = n.clone();
                    this._cashedItems.push(r)
                }
            }, t.prototype._detectRedraw = function() {
                if (this._needRedraw || this._logo.items.length !== this._cashedItems.length) return !0;
                var t = this._cashedItems;
                return !this._logo.items.every(function(e, n) {
                    return e.equals(t[n], !0)
                })
            }, t.prototype._calculateMatrix = function() {
                this.traceRect.width != r.Logo.LOGO_SUGGESTION_WIDTH && this.traceRect.height != r.Logo.LOGO_SUGGESTION_HEIGHT && (this.zoom = 1);
                var t = this.getCenteringMatrix(this.padding, this.traceRect.width, this.traceRect.height);
                return t.translate(this.traceRect.x, this.traceRect.y), null !== this._offsetMatrix && t.concat(this._offsetMatrix), t
            }, t.prototype.getCenteringMatrix = function(t, e, n) {
                return void 0 === t && (t = 10), void 0 === e && (e = r.Logo.LOGO_SUGGESTION_WIDTH), void 0 === n && (n = r.Logo.LOGO_SUGGESTION_HEIGHT), this._logo.getCenteringMatrix(this.padding, this.traceRect.width, this.traceRect.height)
            }, t.prototype.skipRedraw = function(t, e) {
                return !1
            }, t.prototype.draw = function(t, e) {
                if (void 0 === t && (t = null), void 0 === e && (e = !1), !this.skipRedraw(t, e)) {
                    null !== t && (this._lastColorCombination = t.clone());
                    var n = [];
                    this.clear();
                    var r = this._calculateMatrix(),
                        i = this.getOffset(r);
                    r.concat(i.offsetMatrix);
                    for (var o = 0, a = this._logo.items; o < a.length; o++) {
                        var u = a[o];
                        if (!u.isText || "" !== u.text) {
                            var l = s.LogoItemViewBuilder.get(u, this.context2d, n);
                            null === l.offsetMatrix ? l.offsetMatrix = r : l.offsetMatrix.concat(r), l.zoom = this.zoom, n.push(l), l.draw(t)
                        }
                    }
                    this.items = n, this._needRedraw = !1, null !== this.watermark && this.drawWatermark(), this.debugMode && this.drawOutline(), this.postDraw(r)
                }
            }, t.prototype.postDraw = function(t) {}, t.prototype.drawWatermark = function() {
                this.context2d.drawImage(this.watermark, 0, 0)
            }, t.prototype.drawOutline = function() {
                this.context2d.save(), null !== this._offsetMatrix && this._offsetMatrix.setToContext2d(this.context2d), this.context2d.lineWidth = 2, this.context2d.strokeRect(this.traceRect.x, this.traceRect.y, this.traceRect.width * this.zoom, this.traceRect.height * this.zoom), this.context2d.restore()
            }, t.prototype.clear = function() {
                i.Matrix.resetContext2d(this.context2d), this.context2d.clearRect(0, 0, this.context2d.canvas.width, this.context2d.canvas.height)
            }, t.prototype.getOffset = function(t) {
                return {
                    offsetMatrix: new i.Matrix
                }
            }, t
        }();
    e.LogoView = a
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.BPItemView = void 0;
    var r = n(7),
        i = n(75),
        o = n(25),
        s = function() {
            function t(t, e) {
                this._item = null, this.context2d = null, this.transformable = null, this.trimLine = 0, this._item = t, this.context2d = e
            }
            return Object.defineProperty(t.prototype, "transformableWidth", {
                get: function() {
                    return this.item.bounds.width
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "transformableHeight", {
                get: function() {
                    return this.item.bounds.height
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "item", {
                get: function() {
                    return this._item
                },
                enumerable: !1,
                configurable: !0
            }), t.prototype.fromBasis = function() {
                var t = this.item.maths.matrix.clone(),
                    e = this.context2d.canvas.width / (this.item.product.widthMm + 2 * this.trimLine),
                    n = this.context2d.canvas.height / (this.item.product.heightMm + 2 * this.trimLine);
                return t.scale(e, n), t
            }, t.prototype.toBasis = function(t) {
                var e = new r.Matrix,
                    n = this.context2d.canvas.width / (this.item.product.widthMm + 2 * this.trimLine),
                    i = this.context2d.canvas.height / (this.item.product.heightMm + 2 * this.trimLine);
                return e.scale(n, i), e.invert(), t.concat(e), t
            }, t.prototype.draw = function() {
                this.context2d.save();
                var t = this.getMatrixForContext2d();
                this.item.fill.getColorCombination(this.item.product.brand.colorRange).getFill(null).toContext2d(this.context2d, this.item.bounds), this.drawItem(t), this.context2d.restore()
            }, t.prototype.drawItem = function(t) {
                var e = this.context2d.canvas.width / (this.item.product.widthMm + 2 * this.trimLine),
                    n = this.context2d.canvas.height / (this.item.product.heightMm + 2 * this.trimLine);
                t.translate(this.trimLine * e, this.trimLine * n)
            }, t.prototype.resetTransformable = function() {
                this.transformable = null
            }, t.prototype.initializeTransformable = function() {
                this.transformable = new i.Transformable(this.transformableWidth, this.transformableHeight, this.getMatrixForTransformable(), this)
            }, t.prototype.getMatrixForTransformable = function() {
                var t = new r.Matrix;
                return t.translate(this._item.bounds.x, this._item.bounds.y), t.concat(this.fromBasis()), t
            }, t.prototype.drawBorder = function() {
                var t = this.transformable.matrix.transformPoint(new o.Point(0, 0)),
                    e = this.transformable.matrix.transformPoint(new o.Point(this.transformable.width, 0)),
                    n = this.transformable.matrix.transformPoint(new o.Point(this.transformable.width, this.transformable.height)),
                    r = this.transformable.matrix.transformPoint(new o.Point(0, this.transformable.height));
                this.context2d.save(), this.context2d.strokeStyle = "#9c9c9c", this.context2d.lineWidth = 1, this.context2d.beginPath(), this.context2d.moveTo(t.x, t.y), this.context2d.lineTo(e.x, e.y), this.context2d.lineTo(n.x, n.y), this.context2d.lineTo(r.x, r.y), this.context2d.lineTo(t.x, t.y), this.context2d.stroke(), this.context2d.restore()
            }, t.prototype.getMatrixFromTransformable = function() {
                var t = this.transformable.matrix.clone(),
                    e = new r.Matrix;
                return e.translate(this._item.bounds.x, this._item.bounds.y), e.invert(), e.concat(t), e
            }, t.prototype.getMatrixForContext2d = function() {
                return null !== this.transformable ? this.getMatrixFromTransformable() : this.fromBasis()
            }, t.prototype.saveItemTransform = function() {
                var t = this.getMatrixFromTransformable();
                this._item.maths.matrix = this.toBasis(t)
            }, t
        }();
    e.BPItemView = s
}, function(t, e, n) {
    var r, i, o;
    ! function(s) {
        i = [n(5)], r = s, void 0 !== (o = "function" == typeof r ? r.apply(e, i) : r) && (t.exports = o)
    }(function(t) {
        return t.ui = t.ui || {}, t.ui.version = "1.12.1"
    })
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.LogoItemViewBuilder = void 0;
    var r = n(19),
        i = n(189),
        o = n(358),
        s = n(359),
        a = n(360),
        u = n(361),
        l = n(362),
        c = n(363),
        h = function() {
            function t() {}
            return t.get = function(e, n, r) {
                for (var i = 0, o = 0, s = r; o < s.length; o++) {
                    var a = s[o];
                    e.type === a.item.type && i++
                }
                var u = t.items[e.type];
                void 0 === u && (t.items[e.type] = [], u = t.items[e.type]);
                var l = u[i];
                return void 0 === l ? (u[i] = t.createItemView(e, n), l = u[i]) : l.setItem(e), l.context2d = n, l.offsetMatrix = null, l
            }, t.createItemView = function(t, e) {
                var n = null;
                switch (t.type) {
                    case r.LogoItem.SVG_ICON:
                        n = new i.SvgIconView(e);
                        break;
                    case r.LogoItem.TEXT_ICON:
                        n = new o.TextIconView(e);
                        break;
                    case r.LogoItem.BASE_TEXT:
                    case r.LogoItem.LOGO_NAME:
                    case r.LogoItem.TAGLINE:
                    case r.LogoItem.MONOGRAM:
                    case r.LogoItem.CUSTOM_TEXT:
                        n = new s.TextView(e);
                        break;
                    case r.LogoItem.RICH_TEXT:
                        n = new a.RichTextView(e);
                        break;
                    case r.LogoItem.LINE:
                        n = new u.LineView(e);
                        break;
                    case r.LogoItem.ELLIPSE:
                        n = new l.EllipseView(e);
                        break;
                    case r.LogoItem.RECT:
                        n = new c.RectView(e)
                }
                return n.setItem(t), n
            }, t.items = new Map, t
        }();
    e.LogoItemViewBuilder = h
}, function(t, e, n) {
    "use strict";
    var r = this && this.__extends || function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                })(e, n)
        };
        return function(e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.LinearGradientFill = void 0;
    var i = n(203),
        o = n(11),
        s = n(56),
        a = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.entries = [], e.angle = 0, e
            }
            return r(e, t), e.prototype.serializeGradientStops = function() {
                for (var t = "", e = 0; e < this.entries.length; e++) {
                    var n = this.entries[e];
                    t += " " + n.color.toString() + ";" + n.alpha + ";" + n.ratio.toString()
                }
                return t
            }, e.prototype.serialize = function() {
                var e = t.prototype.serialize.call(this);
                return e += " lg", e += " " + this.angle.toString(), e += this.serializeGradientStops()
            }, e.deserializeGradientStops = function(t) {
                var e = [];
                if (!(null == t || t.length < 3)) {
                    for (var n = 3; n < t.length; n++) {
                        var r = t[n];
                        if ("" != r) {
                            var o = r.split(";"),
                                s = Number(o[2]);
                            (-1 == s || isNaN(s)) && (s = 1 / (t.length - 1) * n);
                            var a = new i.GradientEntry(o[0], parseInt(o[1]), s);
                            e.push(a)
                        }
                    }
                    return e
                }
            }, e.deserialize = function(t) {
                var n = new e("000000"),
                    r = t.split(" ");
                return "lg" == r[1] && (n.color = r[0], n.angle = parseInt(r[2]), n.entries = e.deserializeGradientStops(r)), n
            }, e.prototype.toContext2d = function(t, e) {
                for (var n = t.createLinearGradient(e.x + e.width / 2, e.y, e.x + e.width / 2, e.y + e.height), r = 0; r < this.entries.length; r++) {
                    var i = this.entries[r];
                    n.addColorStop(i.ratio, "#" + i.color)
                }
                t.fillStyle = n
            }, e.prototype.toSvg = function(t, e) {
                var n = t.getAttribute("id") + "_fill";
                e.appendChild(s.BaseSvgExporter.createGradientXml(n, this)), t.setAttribute("fill", "url(#{fillIdentifier})")
            }, e
        }(o.Fill);
    e.LinearGradientFill = a
}, , function(t, e, n) {
    function r(t) {
        return i(t) ? t : Object(t)
    }
    var i = n(74);
    t.exports = r
}, function(t, e, n) {
    function r(t, e) {
        var n = null == t ? void 0 : t[e];
        return i(n) ? n : void 0
    }
    var i = n(379);
    t.exports = r
}, function(t, e, n) {
    function r(t) {
        return i(t) && a.call(t) == o
    }
    var i = n(74),
        o = "[object Function]",
        s = Object.prototype,
        a = s.toString;
    t.exports = r
}, function(t, e, n) {
    function r(t) {
        return o(t) && i(t) && a.call(t, "callee") && !u.call(t, "callee")
    }
    var i = n(112),
        o = n(101),
        s = Object.prototype,
        a = s.hasOwnProperty,
        u = s.propertyIsEnumerable;
    t.exports = r
}, function(t, e, n) {
    function r(t, e, n) {
        if ("function" != typeof t) return i;
        if (void 0 === e) return t;
        switch (n) {
            case 1:
                return function(n) {
                    return t.call(e, n)
                };
            case 3:
                return function(n, r, i) {
                    return t.call(e, n, r, i)
                };
            case 4:
                return function(n, r, i, o) {
                    return t.call(e, n, r, i, o)
                };
            case 5:
                return function(n, r, i, o, s) {
                    return t.call(e, n, r, i, o, s)
                }
        }
        return function() {
            return t.apply(e, arguments)
        }
    }
    var i = n(385);
    t.exports = r
}, function(t, e, n) {
    function r(t, e, n) {
        if (!s(n)) return !1;
        var r = typeof e;
        if ("number" == r ? i(n) && o(e, n.length) : "string" == r && e in n) {
            var a = n[e];
            return t === t ? t === a : a !== a
        }
        return !1
    }
    var i = n(112),
        o = n(114),
        s = n(74);
    t.exports = r
}, function(t, e, n) {
    "use strict";
    var r = this && this.__extends || function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                })(e, n)
        };
        return function(e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.Control = void 0;
    var i = n(432),
        o = function(t) {
            function e(e, n, r, i, o, s, a, u, l) {
                void 0 === n && (n = void 0), void 0 === r && (r = void 0), void 0 === i && (i = 0), void 0 === o && (o = 0), void 0 === s && (s = 15), void 0 === a && (a = "#747474"), void 0 === u && (u = "#747474"), void 0 === l && (l = 1);
                var c = t.call(this, e, n, r, i, o, s) || this;
                return c.fillStyle = a, c.strokeStyle = u, c.lineWidth = l, c
            }
            return r(e, t), e.prototype.setDefaultShape = function() {
                switch (t.prototype.setDefaultShape.call(this), this.type) {
                    case e.ROTATE_SCALE:
                        this.shape = null
                }
            }, e.prototype.draw = function(t) {
                if ((null === this.drawCallback || this.drawCallback(this, t)) && !(this.size <= 0)) {
                    var n = 0,
                        r = 0;
                    switch (t.save(), t.beginPath(), t.fillStyle = this.fillStyle, t.strokeStyle = this.strokeStyle, t.lineWidth = this.lineWidth, this.shape) {
                        case e.SHAPE_CIRCLE:
                            t.arc(this.x, this.y, this.size / 2, 0, 2 * Math.PI), t.fill(), t.stroke();
                            break;
                        case e.SHAPE_ARC:
                            var i = this.size / 2,
                                o = this.lineWidth / 2;
                            t.arc(this.x, this.y, i, Math.PI / 9, 1.75 * Math.PI), t.stroke(), t.beginPath(), t.moveTo(this.x + o, this.y - o), t.lineTo(this.x + i + o, this.y - o), t.lineTo(this.x + i + o, this.y - i - o), t.closePath(), t.fill();
                            break;
                        case e.SHAPE_SQUARE:
                            n = this.x - this.size / 2 | 0, r = this.y - this.size / 2 | 0, t.fillRect(n, r, this.size, this.size), t.strokeRect(n, r, this.size, this.size);
                            break;
                        case e.SHAPE_BORDER:
                            t.fillStyle = "", t.setLineDash([3, 2]);
                            var s = this.tool.target,
                                a = this.tool.endMatrix;
                            t.moveTo(a.tx, a.ty), n = a.tx + a.a * s.width, r = a.ty + a.b * s.width, t.lineTo(n, r), n = a.tx + a.a * s.width + a.c * s.height, r = a.ty + a.d * s.height + a.b * s.width, t.lineTo(n, r), n = a.tx + a.c * s.height, r = a.ty + a.d * s.height, t.lineTo(n, r), t.lineTo(a.tx, a.ty), t.stroke()
                    }
                    t.restore()
                }
            }, e
        }(i.ControlBase);
    e.Control = o
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.TransformationFactors = void 0;
    var r = function() {
        function t() {
            this.scaleX = 0, this.scaleY = 0, this.degreesAngle = 0, this.radiansAngle = 0, this.translateX = 0, this.translateY = 0
        }
        return t.prototype.fixValues = function() {
            if (this.radiansAngle < 0) {
                var t = 360 + this.degreesAngle,
                    e = 2 * Math.PI + this.radiansAngle;
                this.degreesAngle = t, this.radiansAngle = e
            }
        }, t.prototype.updateValues = function(t) {
            this.scaleX = t.scaleX, this.scaleY = t.scaleY, this.degreesAngle = t.degreesAngle, this.radiansAngle = t.radiansAngle, this.translateX = t.translateX, this.translateY = t.translateY
        }, t.calculateTransformationFactors = function(e) {
            var n = new t,
                r = Math.atan2(e.b, e.a),
                i = t.sign(e.a) * Math.sqrt(e.a * e.a + e.b * e.b),
                o = t.sign(e.d) * Math.sqrt(e.c * e.c + e.d * e.d),
                s = 180 * r / Math.PI;
            return n.radiansAngle = r, n.scaleX = i, n.scaleY = o, n.degreesAngle = s, n.translateX = e.tx, n.translateY = e.ty, n.fixValues(), n
        }, t.sign = function(t) {
            return t > 0 ? 1 : 0 == t ? 0 : -1
        }, t
    }();
    e.TransformationFactors = r
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.Segment = void 0;
    var r = n(181),
        i = n(25),
        o = function() {
            function t(t, e) {
                this._p1 = t, this._p2 = e, this._line = new r.Line(t, e)
            }
            return Object.defineProperty(t.prototype, "p1", {
                get: function() {
                    return this._p1
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "p2", {
                get: function() {
                    return this._p2
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "line", {
                get: function() {
                    return this._line
                },
                enumerable: !1,
                configurable: !0
            }), t.prototype.middlePoint = function() {
                return new i.Point(Math.round((this.p1.x + this.p2.x) / 2), Math.round((this.p1.y + this.p2.y) / 2))
            }, t.prototype.drawSegmentEnd = function(t, e) {
                var n = Math.abs(this.line.getAngle()),
                    r = new i.Point(e.x + 7 * Math.sin(n), e.y + 7 * Math.cos(n)),
                    o = new i.Point(e.x - 7 * Math.sin(n), e.y - 7 * Math.cos(n));
                t.moveTo(r.x, r.y), t.lineTo(o.x, o.y)
            }, t.prototype.draw = function(t, e, n, r) {
                void 0 === n && (n = 1), void 0 === r && (r = !1), t.save(), t.strokeStyle = e, t.lineWidth = n, t.beginPath(), t.moveTo(this._p1.x, this._p1.y), t.lineTo(this._p2.x, this._p2.y), r && (this.drawSegmentEnd(t, this._p1), this.drawSegmentEnd(t, this._p2)), t.stroke(), t.restore()
            }, t.prototype.checkPointAreInSegment = function(t, e) {
                return t.equals(this._p1) && e.equals(this._p2) || e.equals(this._p1) && t.equals(this._p2)
            }, t
        }();
    e.Segment = o
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.Line = void 0;
    var r = n(25),
        i = function() {
            function t(t, e) {
                if (t.x === e.x) return this.k = null, void(this.b = t.x);
                this.k = (t.y - e.y) / (t.x - e.x), this.b = t.y - this.k * t.x
            }
            return Object.defineProperty(t.prototype, "isVertical", {
                get: function() {
                    return null === this.k
                },
                enumerable: !1,
                configurable: !0
            }), t.detectThatLinesParallels = function(t, e) {
                return !(!t.isVertical || !e.isVertical) || !(t.isVertical && !e.isVertical || !t.isVertical && e.isVertical) && Math.abs(t.k - e.k) <= 1e-4
            }, t.calculateDistanceBetweenLines = function(e, n) {
                if (!t.detectThatLinesParallels(e, n)) throw new Error("Lines are not parallels.");
                return Math.abs(e.b - n.b)
            }, t.prototype.getAngle = function() {
                return this.isVertical ? Math.PI / 2 : Math.atan(this.k)
            }, t.prototype.detectDelta = function(e) {
                if (!t.detectThatLinesParallels(e, this)) throw new Error("Lines are not parallels");
                var n = this.getAngle(),
                    i = e.b - this.b;
                return new r.Point(i * Math.sin(n), i * Math.cos(n))
            }, t.prototype.equals = function(t) {
                return !(!this.isVertical && t.isVertical || this.isVertical && !t.isVertical) && (this.isVertical && t.isVertical ? Math.abs(this.b - t.b) <= 1e-6 : this.k == t.k && Math.abs(this.b - t.b) <= 1e-6)
            }, Object.defineProperty(t.prototype, "key", {
                get: function() {
                    return this.isVertical ? "null" : this.k.toString()
                },
                enumerable: !1,
                configurable: !0
            }), t
        }();
    e.Line = i
}, function(t, e, n) {
    "use strict";
    (function(t) {
        Object.defineProperty(e, "__esModule", {
            value: !0
        }), e.Brand = void 0;
        var r = n(39),
            i = n(8),
            o = n(9),
            s = n(13),
            a = n(55),
            u = n(19),
            l = n(106),
            c = n(190),
            h = n(60),
            f = n(36),
            p = n(5),
            d = n(98),
            g = function() {
                function e() {
                    this._logos = [], this.uid = d.v1(), this.businessCards = [], this.socialProducts = [], this.logoMaps = [], this.inputData = null, this.textUid = null, this.sloganUid = null, this.verticalSloganLogo = null, this.verticalLogo = null, this.textLogo = null, this.textSloganLogo = null, this.horizontalLogo = null, this.horizontalSloganLogo = null, this.iconLogo = null, this.created = "", this.modified = "", this.primaryMap = null, this.primaryLogo = null, this.primaryLogoType = null, this._groupedItems = null, this.shared = !1, this.isSingletonMode = !1, this._nextGroup = null
                }
                return Object.defineProperty(e, "EDIT_URL", {
                    get: function() {
                        return s.Site.MAIN_URL + "/v3/brands/{id}/edit/"
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e, "MOBILE_EDIT_URL", {
                    get: function() {
                        return s.Site.MAIN_URL + "/a/editor/{id}"
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e, "SERVICE_URL", {
                    get: function() {
                        return s.Site.MAIN_URL + "/v3/js/brand/"
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.getLogo = function(t, e, n) {
                    if (void 0 === e && (e = null), void 0 === n && (n = null), null !== n) return this.getLogoById(n);
                    null === e && (e = this.primaryLogo.makerSlogans > 0);
                    var o = null;
                    if (t === r.LogoMakerType.Vertical && e) o = this.verticalSloganLogo;
                    else if (t !== r.LogoMakerType.Vertical || e)
                        if (t === r.LogoMakerType.Horizontal && e) o = this.horizontalSloganLogo;
                        else if (t !== r.LogoMakerType.Horizontal || e)
                        if (t === r.LogoMakerType.Text && e) o = this.textSloganLogo;
                        else if (t !== r.LogoMakerType.Text || e) {
                        if (t === r.LogoMakerType.Icon) o = null === this.iconLogo ? this.verticalLogo : this.iconLogo;
                        else if (t >= i.Logo.START_INDEX) {
                            var s = t - i.Logo.START_INDEX;
                            o = s < this._logos.length ? this._logos[s] : this.verticalLogo
                        }
                    } else o = this.textLogo;
                    else o = this.horizontalLogo;
                    else o = this.verticalLogo;
                    return o
                }, e.prototype.getLogoById = function(t) {
                    for (var e = null, n = 0, r = this._logos; n < r.length; n++) {
                        var i = r[n];
                        if (i.id === t) {
                            e = i;
                            break
                        }
                    }
                    return e
                }, e.prototype.getSharedUrl = function() {
                    return this._logos.find(function(t) {
                        return null === t.primaryId
                    }).sharedUrl
                }, e.prototype.getBusinessCardById = function(t) {
                    for (var e = null, n = 0, r = this.businessCards; n < r.length; n++) {
                        var i = r[n];
                        if (i.id === t) {
                            e = i;
                            break
                        }
                    }
                    return e
                }, e.prototype.getFreeLogoId = function() {
                    return this.logos.find(function(t) {
                        return t.makerType === i.Logo.HORIZONTAL && 0 === t.makerSlogans
                    }).id
                }, e.prototype.updateBusinessCard = function(t) {
                    var e = this.businessCards.findIndex(function(e) {
                        return e.id === t.id
                    }); - 1 !== e && (this.businessCards[e] = t)
                }, e.prototype.getSocialProductBySizeType = function(t) {
                    for (var e = null, n = 0, r = this.socialProducts; n < r.length; n++) {
                        var i = r[n];
                        if (i.sizeType === t) {
                            e = i;
                            break
                        }
                    }
                    return e
                }, e.prototype.getSocialProductById = function(t) {
                    for (var e = null, n = 0, r = this.socialProducts; n < r.length; n++) {
                        var i = r[n];
                        if (i.id === t) {
                            e = i;
                            break
                        }
                    }
                    return e
                }, e.prototype.updateSocialProduct = function(t) {
                    var e = this.socialProducts.findIndex(function(e) {
                        return e.sizeType === t.sizeType
                    }); - 1 !== e && (this.socialProducts[e] = t)
                }, Object.defineProperty(e.prototype, "id", {
                    get: function() {
                        return this.primaryLogo.id
                    },
                    set: function(t) {
                        this.primaryLogo.id = t
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "number", {
                    get: function() {
                        return this.primaryLogo.number
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "colorRange", {
                    get: function() {
                        return this.primaryLogo.colorRange
                    },
                    set: function(t) {
                        for (var e = 0, n = this._logos; e < n.length; e++) {
                            n[e].colorRange = t
                        }
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "text", {
                    get: function() {
                        return this.primaryLogo.text
                    },
                    set: function(t) {
                        for (var e = 0, n = this._logos; e < n.length; e++) {
                            n[e].text = t
                        }
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "status", {
                    get: function() {
                        return this.primaryLogo.status
                    },
                    set: function(t) {
                        for (var e = 0, n = this._logos; e < n.length; e++) {
                            n[e].status = t
                        }
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "logos", {
                    get: function() {
                        return this._logos
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "groupedItems", {
                    get: function() {
                        return null === this._groupedItems && this.groupItems(), this._groupedItems
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.addLogo = function(t) {
                    this._logos.push(t), t.makerType === r.LogoMakerType.Vertical && t.makerSlogans > 0 ? this.verticalSloganLogo = t : t.makerType === r.LogoMakerType.Vertical && 0 === t.makerSlogans ? this.verticalLogo = t : t.makerType === r.LogoMakerType.Horizontal && t.makerSlogans > 0 ? this.horizontalSloganLogo = t : t.makerType === r.LogoMakerType.Horizontal && 0 === t.makerSlogans ? this.horizontalLogo = t : t.makerType === r.LogoMakerType.Text && t.makerSlogans > 0 ? this.textSloganLogo = t : t.makerType === r.LogoMakerType.Text && 0 === t.makerSlogans ? this.textLogo = t : t.makerType === r.LogoMakerType.Icon && (this.iconLogo = t)
                }, e.prototype.replaceLogo = function(t) {
                    var e = this.getLogoById(t.id);
                    if (null !== e && e.makerId === t.makerId) {
                        var n = this._logos.indexOf(e);
                        n > -1 && this._logos.splice(n, 1), this.addLogo(t)
                    }
                }, e.prototype.serialize = function() {
                    for (var t = {
                            primary: this.primaryLogo.serialize(),
                            others: [],
                            businessCards: [],
                            userProfile: c.UserProfile.serialize(),
                            apiAccess: f.ApiAccess.publicToken(),
                            shared: this.shared,
                            singletonMode: this.isSingletonMode
                        }, e = 0, n = this._logos; e < n.length; e++) {
                        var r = n[e];
                        r !== this.primaryLogo && t.others.push(r.serialize())
                    }
                    for (var i = 0, o = this.businessCards; i < o.length; i++) {
                        var s = o[i];
                        t.businessCards.push(s.serialize())
                    }
                    return null != this.publicLogo && (t.sourceLogoId = this.publicLogo.logoId), JSON.stringify(t)
                }, e.prototype.save = function() {
                    var n = this;
                    return new t(function(t, r) {
                        e.brandManager.create(n).subscribe(function(e) {
                            n.primaryLogo.id = e.id, t(e)
                        })
                    })
                }, e.prototype.singletonSave = function() {
                    return this.isSingletonMode = !0, this.save()
                }, e.prototype.partial_update = function() {
                    for (var n = this, r = this.getChangedLogos(), i = {
                            logos: [],
                            apiAccess: f.ApiAccess.publicToken()
                        }, o = 0, s = r; o < s.length; o++) {
                        var a = s[o];
                        i.logos.push(a.serialize(!0))
                    }
                    return new t(function(t, r) {
                        e.brandManager.update(n.id, i).subscribe(function(e) {
                            t(e)
                        })
                    })
                }, e.prototype.toggleFavorite = function() {
                    return this.status == i.Logo.STATUS_FAVORITE ? (this.status = i.Logo.STATUS_DEFAULT, this.delete()) : (this.status = i.Logo.STATUS_FAVORITE, this.save())
                }, e.prototype.delete = function() {
                    var n = this,
                        r = {};
                    return new t(function(t, i) {
                        p.ajax({
                            type: "DELETE",
                            url: e.SERVICE_URL + (n.id + "/"),
                            dataType: "json",
                            data: JSON.stringify(r),
                            success: function(e) {
                                for (var r = 0, i = n._logos; r < i.length; r++) {
                                    i[r].id = 0
                                }
                                t()
                            }
                        })
                    })
                }, e.fromId = function(t, e) {
                    for (var n = 0, r = e; n < r.length; n++) {
                        var i = r[n];
                        if (i.primaryLogo.id === t) return i
                    }
                    return null
                }, e.fromParentMapId = function(t, e) {
                    for (var n = 0, r = e; n < r.length; n++) {
                        var i = r[n];
                        if (i.parentMapId === t) return i
                    }
                    return null
                }, e.deserialize = function(t) {
                    for (var n = new e, r = 0, o = t.logos; r < o.length; r++) {
                        var s = o[r],
                            u = i.Logo.deserialize(s);
                        null === u.primaryId && (n.primaryLogo = u), n.addLogo(u)
                    }
                    for (var c = 0, h = t.businessCards; c < h.length; c++) {
                        var f = h[c],
                            p = a.BusinessCard.deserialize(f, n);
                        n.businessCards.push(p)
                    }
                    for (var d = 0, g = t.socialProducts; d < g.length; d++) {
                        var m = g[d],
                            v = l.SocialProduct.deserialize(m, n);
                        n.socialProducts.push(v)
                    }
                    return n.publicLogo = t.publicLogo, n
                }, e.prototype.fixLogosOrder = function() {
                    1 !== this._logos.length && (this._logos = [this.horizontalLogo, this.horizontalSloganLogo, this.verticalLogo, this.verticalSloganLogo, this.textLogo, this.textSloganLogo, this.iconLogo])
                }, e.deserializeNg = function(t) {
                    for (var n = new e, r = 0, o = t.brand; r < o.length; r++) {
                        var s = o[r],
                            a = i.Logo.deserializeNg(s);
                        null === a.primaryId && (n.primaryLogo = a), n.addLogo(a)
                    }
                    return n.fixLogosOrder(), n.socialProducts = t.socials.map(function(t) {
                        return l.SocialProduct.deserialize(t, n)
                    }), n
                }, e.deserializeMany = function(t) {
                    for (var n = [], r = 0, o = t; r < o.length; r++) {
                        var s = o[r],
                            a = i.Logo.deserialize(s),
                            u = a.getPrimaryId(),
                            l = null;
                        l = e.fromId(u, n), null === l && (l = new e, n.push(l)), null === a.primaryId && (l.primaryLogo = a), l.addLogo(a)
                    }
                    return n
                }, e.deserializeManyNg = function(t) {
                    for (var n = [], r = 0, o = t; r < o.length; r++) {
                        var s = o[r],
                            a = i.Logo.deserializeNg(s),
                            u = e.fromId(a.getPrimaryId(), n);
                        null === u && (u = new e, n.push(u)), null === a.primaryId && (u.primaryLogo = a), u.addLogo(a)
                    }
                    for (var l = 0, c = n; l < c.length; l++) {
                        var u = c[l];
                        u.fixLogosOrder()
                    }
                    return n
                }, e.groupLogoItems = function(t) {
                    for (var e, n, r, i, o, s = [], a = 0, l = t.logos; a < l.length; a++) {
                        var c = l[a];
                        e = [], n = {};
                        for (var h = 0, f = c.items; h < f.length; h++) {
                            var p = f[h];
                            if (p.group > 0) return;
                            switch (p.type) {
                                case u.LogoItem.SVG_ICON:
                                    o = p.type + "." + p.iconId;
                                    break;
                                case u.LogoItem.BASE_TEXT:
                                case u.LogoItem.LOGO_NAME:
                                case u.LogoItem.TAGLINE:
                                case u.LogoItem.MONOGRAM:
                                case u.LogoItem.CUSTOM_TEXT:
                                    o = p.type + "." + p.text;
                                    break;
                                case u.LogoItem.LINE:
                                    o = "" + p.type
                            } - 1 !== e.indexOf(o) ? (r = n[o] + 1, n[o] = r, o = o + "." + r) : (e.push(o), n[o] = 0), i = s.indexOf(o), -1 === i && (s.push(o), i = s.indexOf(o)), p.group = i + 1
                        }
                    }
                }, e.prototype.sortLogos = function() {
                    var t = this.primaryLogoType === r.LogoMakerType.Vertical ? r.LogoMakerType.Horizontal : r.LogoMakerType.Vertical,
                        e = [this.primaryLogoType, t, r.LogoMakerType.Text, r.LogoMakerType.Icon],
                        n = [];
                    n.push(this.primaryLogo), this._logos.splice(this._logos.indexOf(this.primaryLogo), 1);
                    for (var i = 0, o = e; i < o.length; i++)
                        for (var s = o[i], a = this._logos.length; a > 0;) a--, this._logos[a].makerType == s && (n.push(this._logos[a]), this._logos.splice(a, 1));
                    this._logos = n
                }, e.prototype.usedFonts = function() {
                    for (var t = [], e = 0, n = this._logos; e < n.length; e++) {
                        var r = n[e];
                        t = t.concat(r.usedFonts())
                    }
                    for (var i = 0, o = this.businessCards; i < o.length; i++) {
                        var s = o[i];
                        t = t.concat(s.usedFonts())
                    }
                    for (var a = 0, u = this.socialProducts; a < u.length; a++) {
                        var l = u[a];
                        t = t.concat(l.usedFonts())
                    }
                    return t
                }, e.prototype.fontFamilies = function() {
                    for (var t = [], e = 0, n = this.logos; e < n.length; e++)
                        for (var r = n[e], i = 0, o = r.textItems; i < o.length; i++) {
                            var s = o[i]; - 1 == t.indexOf(s.font.fontFamily) && t.push(s.font.fontFamily)
                        }
                    return Array.from(new Set(t))
                }, e.prototype.haveSvgIcons = function() {
                    for (var t = !1, e = 0, n = this._logos; e < n.length; e++) {
                        if (null !== n[e].icon) {
                            t = !0;
                            break
                        }
                    }
                    return t
                }, e.prototype.getChangedLogos = function() {
                    for (var t = [], e = 0, n = this._logos; e < n.length; e++) {
                        var r = n[e];
                        r.hasChanges() && t.push(r)
                    }
                    return t
                }, e.prototype.groupItems = function() {
                    this._groupedItems = {};
                    for (var t = 0, e = this._logos; t < e.length; t++)
                        for (var n = e[t], r = 0, i = n.items; r < i.length; r++) {
                            var o = i[r],
                                s = o.group;
                            this.groupedItems.hasOwnProperty(s) ? this.groupedItems[s].push(o) : this.groupedItems[s] = [o]
                        }
                }, e.prototype.addLogoItem = function(t, e) {
                    for (var n = null, r = 0, i = this._logos; r < i.length; r++) {
                        var o = i[r];
                        if (o.id === t) {
                            n = o.addItem(e);
                            break
                        }
                    }
                    return null !== n && this.groupItems(), n
                }, e.prototype.deleteLogoItem = function(t) {
                    for (var e = null, n = 0, r = this._logos; n < r.length; n++) {
                        if (null !== (e = r[n].deleteItem(t))) break
                    }
                    return null !== e && this.groupItems(), e
                }, Object.defineProperty(e.prototype, "nextGroup", {
                    get: function() {
                        if (null === this._nextGroup)
                            for (var t = 0, e = this._logos; t < e.length; t++)
                                for (var n = e[t], r = 0, i = n.items; r < i.length; r++) {
                                    var o = i[r];
                                    o.group > this._nextGroup && (this._nextGroup = o.group)
                                }
                        return this._nextGroup += 1, this._nextGroup
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.clone = function() {
                    for (var t = new e, n = 0, i = this._logos; n < i.length; n++) {
                        var o = i[n];
                        o = o.clone(), t._logos.push(o), o.makerType === r.LogoMakerType.Vertical && o.makerSlogans > 0 ? t.verticalSloganLogo = o : o.makerType === r.LogoMakerType.Vertical && 0 === o.makerSlogans ? t.verticalLogo = o : o.makerType === r.LogoMakerType.Horizontal && o.makerSlogans > 0 ? t.horizontalSloganLogo = o : o.makerType === r.LogoMakerType.Horizontal && 0 === o.makerSlogans ? t.horizontalLogo = o : o.makerType === r.LogoMakerType.Text && o.makerSlogans > 0 ? t.textSloganLogo = o : o.makerType === r.LogoMakerType.Text && 0 === o.makerSlogans ? t.textLogo = o : o.makerType === r.LogoMakerType.Icon && (t.iconLogo = o), null === o.primaryId && (t.primaryLogo = o)
                    }
                    return t.parentMapId = this.parentMapId, t.inputData = this.inputData, t.textUid = this.textUid, t.sloganUid = this.sloganUid, t.logoMaps = this.logoMaps, t.primaryMap = this.primaryMap, t.primaryLogoType = this.primaryLogoType, t._groupedItems = t.groupedItems, t
                }, e.prototype.getIconLogo = function() {
                    for (var t = 0, e = this._logos; t < e.length; t++) {
                        var n = e[t];
                        if (n.makerType === r.LogoMakerType.Icon) return n
                    }
                }, e.prototype.setRandomColorRange = function() {
                    var t = o.ColorRange.getRandom();
                    this._logos.forEach(function(e) {
                        e.colorRange = t
                    })
                }, e.brandManager = new h.BrandManager, e
            }();
        e.Brand = g
    }).call(e, n(6))
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.CanvasDownloader = void 0;
    var r = n(402),
        i = n(36),
        o = function() {
            function t(t, e) {
                this.downloadName = t, this.canvas = e
            }
            return t.prototype.startDownload = function() {
                var t = new r.PngMetadata(this.canvas.toDataURL("image/png", 1)),
                    e = window.top.document.createElement("a");
                t.insertTextChunk("Author", this.getAuthor()), e.setAttribute("href", t.getBase64Content()), e.setAttribute("download", this.downloadName), e.click()
            }, t.prototype.getAuthor = function() {
                return i.ApiAccess.isExist() ? i.ApiAccess.current.partnerCode : "logaster.com"
            }, t
        }();
    e.CanvasDownloader = o
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.LogasterPopup = void 0;
    var r = function() {
        function t() {
            this.openCallback = null, this.bindHandlers()
        }
        return t.prototype.bindHandlers = function() {
            this.openHandler = this.openHandler.bind(this)
        }, t.prototype.openHandler = function(t) {
            null !== this.openCallback && this.openCallback(this)
        }, t.prototype.hide = function() {}, t
    }();
    e.LogasterPopup = r
}, , , , , function(t, e, n) {
    "use strict";
    var r = this && this.__extends || function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                })(e, n)
        };
        return function(e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.SvgIconView = void 0;
    var i = n(104),
        o = n(32),
        s = n(56),
        a = n(11),
        u = function(t) {
            function e() {
                return null !== t && t.apply(this, arguments) || this
            }
            return r(e, t), Object.defineProperty(e.prototype, "item", {
                get: function() {
                    return this._item
                },
                enumerable: !1,
                configurable: !0
            }), e.prototype.setFill = function(t) {}, e.prototype.drawPrimitive = function(t, e) {
                var n;
                n = null !== this.item.fill && this.item.fill.type === a.Fill.MULTI_COLOR_FILL ? s.BaseSvgExporter.changeEmblemAppearanceMC(this.item.svg, this.item.fill, e) : s.BaseSvgExporter.changeEmblemAppearance(this.item.svg, this.getFill(e)), this.drawSvg(n, t.canvas)
            }, e.prototype.drawSvg = function(t, n) {
                void 0 !== t && "" !== t && (null == e.canvgOptions && (e.canvgOptions = {
                    ignoreMouse: !0,
                    ignoreAnimation: !0,
                    ignoreDimensions: !0,
                    ignoreClear: !0,
                    offsetX: 0,
                    offsetY: 0,
                    scaleWidth: 0,
                    scaleHeight: 0
                }), i(n, t, e.canvgOptions))
            }, e.canvgOptions = null, e
        }(o.LogoItemView);
    e.SvgIconView = u
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.UserProfile = e.UserProfileDto = void 0;
    var r = function() {
        function t() {}
        return t
    }();
    e.UserProfileDto = r;
    var i = function() {
        function t(t, e, n) {
            void 0 === n && (n = !1), this.upId = t, this.vk = e, this.isTemp = n
        }
        return t.serialize = function() {
            return t.current ? {
                id: t.current.upId,
                vk: t.current.vk,
                temp: t.current.isTemp
            } : null
        }, t.deserialize = function(e) {
            void 0 !== e && void 0 !== e.id && void 0 !== e.vk && void 0 !== e.temp && (t.current = new t(e.id, e.vk, e.temp))
        }, t.current = null, t
    }();
    e.UserProfile = i
}, , , , function(t, e) {}, function(t, e, n) {
    "use strict";

    function r(t) {
        if (!(this instanceof r)) return new r(t);
        this.options = u.assign({
            level: d,
            method: m,
            chunkSize: 16384,
            windowBits: 15,
            memLevel: 8,
            strategy: g,
            to: ""
        }, t || {});
        var e = this.options;
        e.raw && e.windowBits > 0 ? e.windowBits = -e.windowBits : e.gzip && e.windowBits > 0 && e.windowBits < 16 && (e.windowBits += 16), this.err = 0, this.msg = "", this.ended = !1, this.chunks = [], this.strm = new h, this.strm.avail_out = 0;
        var n = a.deflateInit2(this.strm, e.level, e.method, e.windowBits, e.memLevel, e.strategy);
        if (n !== p) throw new Error(c[n]);
        if (e.header && a.deflateSetHeader(this.strm, e.header), e.dictionary) {
            var i;
            if (i = "string" == typeof e.dictionary ? l.string2buf(e.dictionary) : "[object ArrayBuffer]" === f.call(e.dictionary) ? new Uint8Array(e.dictionary) : e.dictionary, (n = a.deflateSetDictionary(this.strm, i)) !== p) throw new Error(c[n]);
            this._dict_set = !0
        }
    }

    function i(t, e) {
        var n = new r(e);
        if (n.push(t, !0), n.err) throw n.msg || c[n.err];
        return n.result
    }

    function o(t, e) {
        return e = e || {}, e.raw = !0, i(t, e)
    }

    function s(t, e) {
        return e = e || {}, e.gzip = !0, i(t, e)
    }
    var a = n(196),
        u = n(29),
        l = n(117),
        c = n(78),
        h = n(118),
        f = Object.prototype.toString,
        p = 0,
        d = -1,
        g = 0,
        m = 8;
    r.prototype.push = function(t, e) {
        var n, r, i = this.strm,
            o = this.options.chunkSize;
        if (this.ended) return !1;
        r = e === ~~e ? e : !0 === e ? 4 : 0, "string" == typeof t ? i.input = l.string2buf(t) : "[object ArrayBuffer]" === f.call(t) ? i.input = new Uint8Array(t) : i.input = t, i.next_in = 0, i.avail_in = i.input.length;
        do {
            if (0 === i.avail_out && (i.output = new u.Buf8(o), i.next_out = 0, i.avail_out = o), 1 !== (n = a.deflate(i, r)) && n !== p) return this.onEnd(n), this.ended = !0, !1;
            0 !== i.avail_out && (0 !== i.avail_in || 4 !== r && 2 !== r) || ("string" === this.options.to ? this.onData(l.buf2binstring(u.shrinkBuf(i.output, i.next_out))) : this.onData(u.shrinkBuf(i.output, i.next_out)))
        } while ((i.avail_in > 0 || 0 === i.avail_out) && 1 !== n);
        return 4 === r ? (n = a.deflateEnd(this.strm), this.onEnd(n), this.ended = !0, n === p) : 2 !== r || (this.onEnd(p), i.avail_out = 0, !0)
    }, r.prototype.onData = function(t) {
        this.chunks.push(t)
    }, r.prototype.onEnd = function(t) {
        t === p && ("string" === this.options.to ? this.result = this.chunks.join("") : this.result = u.flattenChunks(this.chunks)), this.chunks = [], this.err = t, this.msg = this.strm.msg
    }, e.Deflate = r, e.deflate = i, e.deflateRaw = o, e.gzip = s
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return t.msg = R[e], e
    }

    function i(t) {
        return (t << 1) - (t > 4 ? 9 : 0)
    }

    function o(t) {
        for (var e = t.length; --e >= 0;) t[e] = 0
    }

    function s(t) {
        var e = t.state,
            n = e.pending;
        n > t.avail_out && (n = t.avail_out), 0 !== n && (M.arraySet(t.output, e.pending_buf, e.pending_out, n, t.next_out), t.next_out += n, e.pending_out += n, t.total_out += n, t.avail_out -= n, e.pending -= n, 0 === e.pending && (e.pending_out = 0))
    }

    function a(t, e) {
        k._tr_flush_block(t, t.block_start >= 0 ? t.block_start : -1, t.strstart - t.block_start, e), t.block_start = t.strstart, s(t.strm)
    }

    function u(t, e) {
        t.pending_buf[t.pending++] = e
    }

    function l(t, e) {
        t.pending_buf[t.pending++] = e >>> 8 & 255, t.pending_buf[t.pending++] = 255 & e
    }

    function c(t, e, n, r) {
        var i = t.avail_in;
        return i > r && (i = r), 0 === i ? 0 : (t.avail_in -= i, M.arraySet(e, t.input, t.next_in, i, n), 1 === t.state.wrap ? t.adler = L(t.adler, e, i, n) : 2 === t.state.wrap && (t.adler = A(t.adler, e, i, n)), t.next_in += i, t.total_in += i, i)
    }

    function h(t, e) {
        var n, r, i = t.max_chain_length,
            o = t.strstart,
            s = t.prev_length,
            a = t.nice_match,
            u = t.strstart > t.w_size - lt ? t.strstart - (t.w_size - lt) : 0,
            l = t.window,
            c = t.w_mask,
            h = t.prev,
            f = t.strstart + ut,
            p = l[o + s - 1],
            d = l[o + s];
        t.prev_length >= t.good_match && (i >>= 2), a > t.lookahead && (a = t.lookahead);
        do {
            if (n = e, l[n + s] === d && l[n + s - 1] === p && l[n] === l[o] && l[++n] === l[o + 1]) {
                o += 2, n++;
                do {} while (l[++o] === l[++n] && l[++o] === l[++n] && l[++o] === l[++n] && l[++o] === l[++n] && l[++o] === l[++n] && l[++o] === l[++n] && l[++o] === l[++n] && l[++o] === l[++n] && o < f);
                if (r = ut - (f - o), o = f - ut, r > s) {
                    if (t.match_start = e, s = r, r >= a) break;
                    p = l[o + s - 1], d = l[o + s]
                }
            }
        } while ((e = h[e & c]) > u && 0 != --i);
        return s <= t.lookahead ? s : t.lookahead
    }

    function f(t) {
        var e, n, r, i, o, s = t.w_size;
        do {
            if (i = t.window_size - t.lookahead - t.strstart, t.strstart >= s + (s - lt)) {
                M.arraySet(t.window, t.window, s, s, 0), t.match_start -= s, t.strstart -= s, t.block_start -= s, n = t.hash_size, e = n;
                do {
                    r = t.head[--e], t.head[e] = r >= s ? r - s : 0
                } while (--n);
                n = s, e = n;
                do {
                    r = t.prev[--e], t.prev[e] = r >= s ? r - s : 0
                } while (--n);
                i += s
            }
            if (0 === t.strm.avail_in) break;
            if (n = c(t.strm, t.window, t.strstart + t.lookahead, i), t.lookahead += n, t.lookahead + t.insert >= at)
                for (o = t.strstart - t.insert, t.ins_h = t.window[o], t.ins_h = (t.ins_h << t.hash_shift ^ t.window[o + 1]) & t.hash_mask; t.insert && (t.ins_h = (t.ins_h << t.hash_shift ^ t.window[o + at - 1]) & t.hash_mask, t.prev[o & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = o, o++, t.insert--, !(t.lookahead + t.insert < at)););
        } while (t.lookahead < lt && 0 !== t.strm.avail_in)
    }

    function p(t, e) {
        var n = 65535;
        for (n > t.pending_buf_size - 5 && (n = t.pending_buf_size - 5);;) {
            if (t.lookahead <= 1) {
                if (f(t), 0 === t.lookahead && e === N) return bt;
                if (0 === t.lookahead) break
            }
            t.strstart += t.lookahead, t.lookahead = 0;
            var r = t.block_start + n;
            if ((0 === t.strstart || t.strstart >= r) && (t.lookahead = t.strstart - r, t.strstart = r, a(t, !1), 0 === t.strm.avail_out)) return bt;
            if (t.strstart - t.block_start >= t.w_size - lt && (a(t, !1), 0 === t.strm.avail_out)) return bt
        }
        return t.insert = 0, e === z ? (a(t, !0), 0 === t.strm.avail_out ? _t : wt) : (t.strstart > t.block_start && (a(t, !1), t.strm.avail_out), bt)
    }

    function d(t, e) {
        for (var n, r;;) {
            if (t.lookahead < lt) {
                if (f(t), t.lookahead < lt && e === N) return bt;
                if (0 === t.lookahead) break
            }
            if (n = 0, t.lookahead >= at && (t.ins_h = (t.ins_h << t.hash_shift ^ t.window[t.strstart + at - 1]) & t.hash_mask, n = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = t.strstart), 0 !== n && t.strstart - n <= t.w_size - lt && (t.match_length = h(t, n)), t.match_length >= at)
                if (r = k._tr_tally(t, t.strstart - t.match_start, t.match_length - at), t.lookahead -= t.match_length, t.match_length <= t.max_lazy_match && t.lookahead >= at) {
                    t.match_length--;
                    do {
                        t.strstart++, t.ins_h = (t.ins_h << t.hash_shift ^ t.window[t.strstart + at - 1]) & t.hash_mask, n = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = t.strstart
                    } while (0 != --t.match_length);
                    t.strstart++
                } else t.strstart += t.match_length, t.match_length = 0, t.ins_h = t.window[t.strstart], t.ins_h = (t.ins_h << t.hash_shift ^ t.window[t.strstart + 1]) & t.hash_mask;
            else r = k._tr_tally(t, 0, t.window[t.strstart]), t.lookahead--, t.strstart++;
            if (r && (a(t, !1), 0 === t.strm.avail_out)) return bt
        }
        return t.insert = t.strstart < at - 1 ? t.strstart : at - 1, e === z ? (a(t, !0), 0 === t.strm.avail_out ? _t : wt) : t.last_lit && (a(t, !1), 0 === t.strm.avail_out) ? bt : yt
    }

    function g(t, e) {
        for (var n, r, i;;) {
            if (t.lookahead < lt) {
                if (f(t), t.lookahead < lt && e === N) return bt;
                if (0 === t.lookahead) break
            }
            if (n = 0, t.lookahead >= at && (t.ins_h = (t.ins_h << t.hash_shift ^ t.window[t.strstart + at - 1]) & t.hash_mask, n = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = t.strstart), t.prev_length = t.match_length, t.prev_match = t.match_start, t.match_length = at - 1, 0 !== n && t.prev_length < t.max_lazy_match && t.strstart - n <= t.w_size - lt && (t.match_length = h(t, n), t.match_length <= 5 && (t.strategy === X || t.match_length === at && t.strstart - t.match_start > 4096) && (t.match_length = at - 1)), t.prev_length >= at && t.match_length <= t.prev_length) {
                i = t.strstart + t.lookahead - at, r = k._tr_tally(t, t.strstart - 1 - t.prev_match, t.prev_length - at), t.lookahead -= t.prev_length - 1, t.prev_length -= 2;
                do {
                    ++t.strstart <= i && (t.ins_h = (t.ins_h << t.hash_shift ^ t.window[t.strstart + at - 1]) & t.hash_mask, n = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = t.strstart)
                } while (0 != --t.prev_length);
                if (t.match_available = 0, t.match_length = at - 1, t.strstart++, r && (a(t, !1), 0 === t.strm.avail_out)) return bt
            } else if (t.match_available) {
                if (r = k._tr_tally(t, 0, t.window[t.strstart - 1]), r && a(t, !1), t.strstart++, t.lookahead--, 0 === t.strm.avail_out) return bt
            } else t.match_available = 1, t.strstart++, t.lookahead--
        }
        return t.match_available && (r = k._tr_tally(t, 0, t.window[t.strstart - 1]), t.match_available = 0), t.insert = t.strstart < at - 1 ? t.strstart : at - 1, e === z ? (a(t, !0), 0 === t.strm.avail_out ? _t : wt) : t.last_lit && (a(t, !1), 0 === t.strm.avail_out) ? bt : yt
    }

    function m(t, e) {
        for (var n, r, i, o, s = t.window;;) {
            if (t.lookahead <= ut) {
                if (f(t), t.lookahead <= ut && e === N) return bt;
                if (0 === t.lookahead) break
            }
            if (t.match_length = 0, t.lookahead >= at && t.strstart > 0 && (i = t.strstart - 1, (r = s[i]) === s[++i] && r === s[++i] && r === s[++i])) {
                o = t.strstart + ut;
                do {} while (r === s[++i] && r === s[++i] && r === s[++i] && r === s[++i] && r === s[++i] && r === s[++i] && r === s[++i] && r === s[++i] && i < o);
                t.match_length = ut - (o - i), t.match_length > t.lookahead && (t.match_length = t.lookahead)
            }
            if (t.match_length >= at ? (n = k._tr_tally(t, 1, t.match_length - at), t.lookahead -= t.match_length, t.strstart += t.match_length, t.match_length = 0) : (n = k._tr_tally(t, 0, t.window[t.strstart]), t.lookahead--, t.strstart++), n && (a(t, !1), 0 === t.strm.avail_out)) return bt
        }
        return t.insert = 0, e === z ? (a(t, !0), 0 === t.strm.avail_out ? _t : wt) : t.last_lit && (a(t, !1), 0 === t.strm.avail_out) ? bt : yt
    }

    function v(t, e) {
        for (var n;;) {
            if (0 === t.lookahead && (f(t), 0 === t.lookahead)) {
                if (e === N) return bt;
                break
            }
            if (t.match_length = 0, n = k._tr_tally(t, 0, t.window[t.strstart]), t.lookahead--, t.strstart++, n && (a(t, !1), 0 === t.strm.avail_out)) return bt
        }
        return t.insert = 0, e === z ? (a(t, !0), 0 === t.strm.avail_out ? _t : wt) : t.last_lit && (a(t, !1), 0 === t.strm.avail_out) ? bt : yt
    }

    function b(t, e, n, r, i) {
        this.good_length = t, this.max_lazy = e, this.nice_length = n, this.max_chain = r, this.func = i
    }

    function y(t) {
        t.window_size = 2 * t.w_size, o(t.head), t.max_lazy_match = P[t.level].max_lazy, t.good_match = P[t.level].good_length, t.nice_match = P[t.level].nice_length, t.max_chain_length = P[t.level].max_chain, t.strstart = 0, t.block_start = 0, t.lookahead = 0, t.insert = 0, t.match_length = t.prev_length = at - 1, t.match_available = 0, t.ins_h = 0
    }

    function _() {
        this.strm = null, this.status = 0, this.pending_buf = null, this.pending_buf_size = 0, this.pending_out = 0, this.pending = 0, this.wrap = 0, this.gzhead = null, this.gzindex = 0, this.method = J, this.last_flush = -1, this.w_size = 0, this.w_bits = 0, this.w_mask = 0, this.window = null, this.window_size = 0, this.prev = null, this.head = null, this.ins_h = 0, this.hash_size = 0, this.hash_bits = 0, this.hash_mask = 0, this.hash_shift = 0, this.block_start = 0, this.match_length = 0, this.prev_match = 0, this.match_available = 0, this.strstart = 0, this.match_start = 0, this.lookahead = 0, this.prev_length = 0, this.max_chain_length = 0, this.max_lazy_match = 0, this.level = 0, this.strategy = 0, this.good_match = 0, this.nice_match = 0, this.dyn_ltree = new M.Buf16(2 * ot), this.dyn_dtree = new M.Buf16(2 * (2 * rt + 1)), this.bl_tree = new M.Buf16(2 * (2 * it + 1)), o(this.dyn_ltree), o(this.dyn_dtree), o(this.bl_tree), this.l_desc = null, this.d_desc = null, this.bl_desc = null, this.bl_count = new M.Buf16(st + 1), this.heap = new M.Buf16(2 * nt + 1), o(this.heap), this.heap_len = 0, this.heap_max = 0, this.depth = new M.Buf16(2 * nt + 1), o(this.depth), this.l_buf = 0, this.lit_bufsize = 0, this.last_lit = 0, this.d_buf = 0, this.opt_len = 0, this.static_len = 0, this.matches = 0, this.insert = 0, this.bi_buf = 0, this.bi_valid = 0
    }

    function w(t) {
        var e;
        return t && t.state ? (t.total_in = t.total_out = 0, t.data_type = Z, e = t.state, e.pending = 0, e.pending_out = 0, e.wrap < 0 && (e.wrap = -e.wrap), e.status = e.wrap ? ht : mt, t.adler = 2 === e.wrap ? 0 : 1, e.last_flush = N, k._tr_init(e), F) : r(t, U)
    }

    function x(t) {
        var e = w(t);
        return e === F && y(t.state), e
    }

    function T(t, e) {
        return t && t.state ? 2 !== t.state.wrap ? U : (t.state.gzhead = e, F) : U
    }

    function C(t, e, n, i, o, s) {
        if (!t) return U;
        var a = 1;
        if (e === W && (e = 6), i < 0 ? (a = 0, i = -i) : i > 15 && (a = 2, i -= 16), o < 1 || o > Q || n !== J || i < 8 || i > 15 || e < 0 || e > 9 || s < 0 || s > K) return r(t, U);
        8 === i && (i = 9);
        var u = new _;
        return t.state = u, u.strm = t, u.wrap = a, u.gzhead = null, u.w_bits = i, u.w_size = 1 << u.w_bits, u.w_mask = u.w_size - 1, u.hash_bits = o + 7, u.hash_size = 1 << u.hash_bits, u.hash_mask = u.hash_size - 1, u.hash_shift = ~~((u.hash_bits + at - 1) / at), u.window = new M.Buf8(2 * u.w_size), u.head = new M.Buf16(u.hash_size), u.prev = new M.Buf16(u.w_size), u.lit_bufsize = 1 << o + 6, u.pending_buf_size = 4 * u.lit_bufsize, u.pending_buf = new M.Buf8(u.pending_buf_size), u.d_buf = 1 * u.lit_bufsize, u.l_buf = 3 * u.lit_bufsize, u.level = e, u.strategy = s, u.method = n, x(t)
    }

    function I(t, e) {
        return C(t, e, J, tt, et, $)
    }

    function S(t, e) {
        var n, a, c, h;
        if (!t || !t.state || e > D || e < 0) return t ? r(t, U) : U;
        if (a = t.state, !t.output || !t.input && 0 !== t.avail_in || a.status === vt && e !== z) return r(t, 0 === t.avail_out ? G : U);
        if (a.strm = t, n = a.last_flush, a.last_flush = e, a.status === ht)
            if (2 === a.wrap) t.adler = 0, u(a, 31), u(a, 139), u(a, 8), a.gzhead ? (u(a, (a.gzhead.text ? 1 : 0) + (a.gzhead.hcrc ? 2 : 0) + (a.gzhead.extra ? 4 : 0) + (a.gzhead.name ? 8 : 0) + (a.gzhead.comment ? 16 : 0)), u(a, 255 & a.gzhead.time), u(a, a.gzhead.time >> 8 & 255), u(a, a.gzhead.time >> 16 & 255), u(a, a.gzhead.time >> 24 & 255), u(a, 9 === a.level ? 2 : a.strategy >= q || a.level < 2 ? 4 : 0), u(a, 255 & a.gzhead.os), a.gzhead.extra && a.gzhead.extra.length && (u(a, 255 & a.gzhead.extra.length), u(a, a.gzhead.extra.length >> 8 & 255)), a.gzhead.hcrc && (t.adler = A(t.adler, a.pending_buf, a.pending, 0)), a.gzindex = 0, a.status = ft) : (u(a, 0), u(a, 0), u(a, 0), u(a, 0), u(a, 0), u(a, 9 === a.level ? 2 : a.strategy >= q || a.level < 2 ? 4 : 0), u(a, xt), a.status = mt);
            else {
                var f = J + (a.w_bits - 8 << 4) << 8,
                    p = -1;
                p = a.strategy >= q || a.level < 2 ? 0 : a.level < 6 ? 1 : 6 === a.level ? 2 : 3, f |= p << 6, 0 !== a.strstart && (f |= ct), f += 31 - f % 31, a.status = mt, l(a, f), 0 !== a.strstart && (l(a, t.adler >>> 16), l(a, 65535 & t.adler)), t.adler = 1
            } if (a.status === ft)
            if (a.gzhead.extra) {
                for (c = a.pending; a.gzindex < (65535 & a.gzhead.extra.length) && (a.pending !== a.pending_buf_size || (a.gzhead.hcrc && a.pending > c && (t.adler = A(t.adler, a.pending_buf, a.pending - c, c)), s(t), c = a.pending, a.pending !== a.pending_buf_size));) u(a, 255 & a.gzhead.extra[a.gzindex]), a.gzindex++;
                a.gzhead.hcrc && a.pending > c && (t.adler = A(t.adler, a.pending_buf, a.pending - c, c)), a.gzindex === a.gzhead.extra.length && (a.gzindex = 0, a.status = pt)
            } else a.status = pt;
        if (a.status === pt)
            if (a.gzhead.name) {
                c = a.pending;
                do {
                    if (a.pending === a.pending_buf_size && (a.gzhead.hcrc && a.pending > c && (t.adler = A(t.adler, a.pending_buf, a.pending - c, c)), s(t), c = a.pending, a.pending === a.pending_buf_size)) {
                        h = 1;
                        break
                    }
                    h = a.gzindex < a.gzhead.name.length ? 255 & a.gzhead.name.charCodeAt(a.gzindex++) : 0, u(a, h)
                } while (0 !== h);
                a.gzhead.hcrc && a.pending > c && (t.adler = A(t.adler, a.pending_buf, a.pending - c, c)), 0 === h && (a.gzindex = 0, a.status = dt)
            } else a.status = dt;
        if (a.status === dt)
            if (a.gzhead.comment) {
                c = a.pending;
                do {
                    if (a.pending === a.pending_buf_size && (a.gzhead.hcrc && a.pending > c && (t.adler = A(t.adler, a.pending_buf, a.pending - c, c)), s(t), c = a.pending, a.pending === a.pending_buf_size)) {
                        h = 1;
                        break
                    }
                    h = a.gzindex < a.gzhead.comment.length ? 255 & a.gzhead.comment.charCodeAt(a.gzindex++) : 0, u(a, h)
                } while (0 !== h);
                a.gzhead.hcrc && a.pending > c && (t.adler = A(t.adler, a.pending_buf, a.pending - c, c)), 0 === h && (a.status = gt)
            } else a.status = gt;
        if (a.status === gt && (a.gzhead.hcrc ? (a.pending + 2 > a.pending_buf_size && s(t), a.pending + 2 <= a.pending_buf_size && (u(a, 255 & t.adler), u(a, t.adler >> 8 & 255), t.adler = 0, a.status = mt)) : a.status = mt), 0 !== a.pending) {
            if (s(t), 0 === t.avail_out) return a.last_flush = -1, F
        } else if (0 === t.avail_in && i(e) <= i(n) && e !== z) return r(t, G);
        if (a.status === vt && 0 !== t.avail_in) return r(t, G);
        if (0 !== t.avail_in || 0 !== a.lookahead || e !== N && a.status !== vt) {
            var d = a.strategy === q ? v(a, e) : a.strategy === Y ? m(a, e) : P[a.level].func(a, e);
            if (d !== _t && d !== wt || (a.status = vt), d === bt || d === _t) return 0 === t.avail_out && (a.last_flush = -1), F;
            if (d === yt && (e === j ? k._tr_align(a) : e !== D && (k._tr_stored_block(a, 0, 0, !1), e === B && (o(a.head), 0 === a.lookahead && (a.strstart = 0, a.block_start = 0, a.insert = 0))), s(t), 0 === t.avail_out)) return a.last_flush = -1, F
        }
        return e !== z ? F : a.wrap <= 0 ? V : (2 === a.wrap ? (u(a, 255 & t.adler), u(a, t.adler >> 8 & 255), u(a, t.adler >> 16 & 255), u(a, t.adler >> 24 & 255), u(a, 255 & t.total_in), u(a, t.total_in >> 8 & 255), u(a, t.total_in >> 16 & 255), u(a, t.total_in >> 24 & 255)) : (l(a, t.adler >>> 16), l(a, 65535 & t.adler)), s(t), a.wrap > 0 && (a.wrap = -a.wrap), 0 !== a.pending ? F : V)
    }

    function O(t) {
        var e;
        return t && t.state ? (e = t.state.status) !== ht && e !== ft && e !== pt && e !== dt && e !== gt && e !== mt && e !== vt ? r(t, U) : (t.state = null, e === mt ? r(t, H) : F) : U
    }

    function E(t, e) {
        var n, r, i, s, a, u, l, c, h = e.length;
        if (!t || !t.state) return U;
        if (n = t.state, 2 === (s = n.wrap) || 1 === s && n.status !== ht || n.lookahead) return U;
        for (1 === s && (t.adler = L(t.adler, e, h, 0)), n.wrap = 0, h >= n.w_size && (0 === s && (o(n.head), n.strstart = 0, n.block_start = 0, n.insert = 0), c = new M.Buf8(n.w_size), M.arraySet(c, e, h - n.w_size, n.w_size, 0), e = c, h = n.w_size), a = t.avail_in, u = t.next_in, l = t.input, t.avail_in = h, t.next_in = 0, t.input = e, f(n); n.lookahead >= at;) {
            r = n.strstart, i = n.lookahead - (at - 1);
            do {
                n.ins_h = (n.ins_h << n.hash_shift ^ n.window[r + at - 1]) & n.hash_mask, n.prev[r & n.w_mask] = n.head[n.ins_h], n.head[n.ins_h] = r, r++
            } while (--i);
            n.strstart = r, n.lookahead = at - 1, f(n)
        }
        return n.strstart += n.lookahead, n.block_start = n.strstart, n.insert = n.lookahead, n.lookahead = 0, n.match_length = n.prev_length = at - 1, n.match_available = 0, t.next_in = u, t.input = l, t.avail_in = a, n.wrap = s, F
    }
    var P, M = n(29),
        k = n(197),
        L = n(115),
        A = n(116),
        R = n(78),
        N = 0,
        j = 1,
        B = 3,
        z = 4,
        D = 5,
        F = 0,
        V = 1,
        U = -2,
        H = -3,
        G = -5,
        W = -1,
        X = 1,
        q = 2,
        Y = 3,
        K = 4,
        $ = 0,
        Z = 2,
        J = 8,
        Q = 9,
        tt = 15,
        et = 8,
        nt = 286,
        rt = 30,
        it = 19,
        ot = 2 * nt + 1,
        st = 15,
        at = 3,
        ut = 258,
        lt = ut + at + 1,
        ct = 32,
        ht = 42,
        ft = 69,
        pt = 73,
        dt = 91,
        gt = 103,
        mt = 113,
        vt = 666,
        bt = 1,
        yt = 2,
        _t = 3,
        wt = 4,
        xt = 3;
    P = [new b(0, 0, 0, 0, p), new b(4, 4, 8, 4, d), new b(4, 5, 16, 8, d), new b(4, 6, 32, 32, d), new b(4, 4, 16, 16, g), new b(8, 16, 32, 32, g), new b(8, 16, 128, 128, g), new b(8, 32, 128, 256, g), new b(32, 128, 258, 1024, g), new b(32, 258, 258, 4096, g)], e.deflateInit = I, e.deflateInit2 = C, e.deflateReset = x, e.deflateResetKeep = w, e.deflateSetHeader = T, e.deflate = S, e.deflateEnd = O, e.deflateSetDictionary = E, e.deflateInfo = "pako deflate (from Nodeca project)"
}, function(t, e, n) {
    "use strict";

    function r(t) {
        for (var e = t.length; --e >= 0;) t[e] = 0
    }

    function i(t, e, n, r, i) {
        this.static_tree = t, this.extra_bits = e, this.extra_base = n, this.elems = r, this.max_length = i, this.has_stree = t && t.length
    }

    function o(t, e) {
        this.dyn_tree = t, this.max_code = 0, this.stat_desc = e
    }

    function s(t) {
        return t < 256 ? ot[t] : ot[256 + (t >>> 7)]
    }

    function a(t, e) {
        t.pending_buf[t.pending++] = 255 & e, t.pending_buf[t.pending++] = e >>> 8 & 255
    }

    function u(t, e, n) {
        t.bi_valid > q - n ? (t.bi_buf |= e << t.bi_valid & 65535, a(t, t.bi_buf), t.bi_buf = e >> q - t.bi_valid, t.bi_valid += n - q) : (t.bi_buf |= e << t.bi_valid & 65535, t.bi_valid += n)
    }

    function l(t, e, n) {
        u(t, n[2 * e], n[2 * e + 1])
    }

    function c(t, e) {
        var n = 0;
        do {
            n |= 1 & t, t >>>= 1, n <<= 1
        } while (--e > 0);
        return n >>> 1
    }

    function h(t) {
        16 === t.bi_valid ? (a(t, t.bi_buf), t.bi_buf = 0, t.bi_valid = 0) : t.bi_valid >= 8 && (t.pending_buf[t.pending++] = 255 & t.bi_buf, t.bi_buf >>= 8, t.bi_valid -= 8)
    }

    function f(t, e) {
        var n, r, i, o, s, a, u = e.dyn_tree,
            l = e.max_code,
            c = e.stat_desc.static_tree,
            h = e.stat_desc.has_stree,
            f = e.stat_desc.extra_bits,
            p = e.stat_desc.extra_base,
            d = e.stat_desc.max_length,
            g = 0;
        for (o = 0; o <= X; o++) t.bl_count[o] = 0;
        for (u[2 * t.heap[t.heap_max] + 1] = 0, n = t.heap_max + 1; n < W; n++) r = t.heap[n], o = u[2 * u[2 * r + 1] + 1] + 1, o > d && (o = d, g++), u[2 * r + 1] = o, r > l || (t.bl_count[o]++, s = 0, r >= p && (s = f[r - p]), a = u[2 * r], t.opt_len += a * (o + s), h && (t.static_len += a * (c[2 * r + 1] + s)));
        if (0 !== g) {
            do {
                for (o = d - 1; 0 === t.bl_count[o];) o--;
                t.bl_count[o]--, t.bl_count[o + 1] += 2, t.bl_count[d]--, g -= 2
            } while (g > 0);
            for (o = d; 0 !== o; o--)
                for (r = t.bl_count[o]; 0 !== r;)(i = t.heap[--n]) > l || (u[2 * i + 1] !== o && (t.opt_len += (o - u[2 * i + 1]) * u[2 * i], u[2 * i + 1] = o), r--)
        }
    }

    function p(t, e, n) {
        var r, i, o = new Array(X + 1),
            s = 0;
        for (r = 1; r <= X; r++) o[r] = s = s + n[r - 1] << 1;
        for (i = 0; i <= e; i++) {
            var a = t[2 * i + 1];
            0 !== a && (t[2 * i] = c(o[a]++, a))
        }
    }

    function d() {
        var t, e, n, r, o, s = new Array(X + 1);
        for (n = 0, r = 0; r < F - 1; r++)
            for (at[r] = n, t = 0; t < 1 << Q[r]; t++) st[n++] = r;
        for (st[n - 1] = r, o = 0, r = 0; r < 16; r++)
            for (ut[r] = o, t = 0; t < 1 << tt[r]; t++) ot[o++] = r;
        for (o >>= 7; r < H; r++)
            for (ut[r] = o << 7, t = 0; t < 1 << tt[r] - 7; t++) ot[256 + o++] = r;
        for (e = 0; e <= X; e++) s[e] = 0;
        for (t = 0; t <= 143;) rt[2 * t + 1] = 8, t++, s[8]++;
        for (; t <= 255;) rt[2 * t + 1] = 9, t++, s[9]++;
        for (; t <= 279;) rt[2 * t + 1] = 7, t++, s[7]++;
        for (; t <= 287;) rt[2 * t + 1] = 8, t++, s[8]++;
        for (p(rt, U + 1, s), t = 0; t < H; t++) it[2 * t + 1] = 5, it[2 * t] = c(t, 5);
        lt = new i(rt, Q, V + 1, U, X), ct = new i(it, tt, 0, H, X), ht = new i(new Array(0), et, 0, G, Y)
    }

    function g(t) {
        var e;
        for (e = 0; e < U; e++) t.dyn_ltree[2 * e] = 0;
        for (e = 0; e < H; e++) t.dyn_dtree[2 * e] = 0;
        for (e = 0; e < G; e++) t.bl_tree[2 * e] = 0;
        t.dyn_ltree[2 * K] = 1, t.opt_len = t.static_len = 0, t.last_lit = t.matches = 0
    }

    function m(t) {
        t.bi_valid > 8 ? a(t, t.bi_buf) : t.bi_valid > 0 && (t.pending_buf[t.pending++] = t.bi_buf), t.bi_buf = 0, t.bi_valid = 0
    }

    function v(t, e, n, r) {
        m(t), r && (a(t, n), a(t, ~n)), L.arraySet(t.pending_buf, t.window, e, n, t.pending), t.pending += n
    }

    function b(t, e, n, r) {
        var i = 2 * e,
            o = 2 * n;
        return t[i] < t[o] || t[i] === t[o] && r[e] <= r[n]
    }

    function y(t, e, n) {
        for (var r = t.heap[n], i = n << 1; i <= t.heap_len && (i < t.heap_len && b(e, t.heap[i + 1], t.heap[i], t.depth) && i++, !b(e, r, t.heap[i], t.depth));) t.heap[n] = t.heap[i], n = i, i <<= 1;
        t.heap[n] = r
    }

    function _(t, e, n) {
        var r, i, o, a, c = 0;
        if (0 !== t.last_lit)
            do {
                r = t.pending_buf[t.d_buf + 2 * c] << 8 | t.pending_buf[t.d_buf + 2 * c + 1], i = t.pending_buf[t.l_buf + c], c++, 0 === r ? l(t, i, e) : (o = st[i], l(t, o + V + 1, e), a = Q[o], 0 !== a && (i -= at[o], u(t, i, a)), r--, o = s(r), l(t, o, n), 0 !== (a = tt[o]) && (r -= ut[o], u(t, r, a)))
            } while (c < t.last_lit);
        l(t, K, e)
    }

    function w(t, e) {
        var n, r, i, o = e.dyn_tree,
            s = e.stat_desc.static_tree,
            a = e.stat_desc.has_stree,
            u = e.stat_desc.elems,
            l = -1;
        for (t.heap_len = 0, t.heap_max = W, n = 0; n < u; n++) 0 !== o[2 * n] ? (t.heap[++t.heap_len] = l = n, t.depth[n] = 0) : o[2 * n + 1] = 0;
        for (; t.heap_len < 2;) i = t.heap[++t.heap_len] = l < 2 ? ++l : 0, o[2 * i] = 1, t.depth[i] = 0, t.opt_len--, a && (t.static_len -= s[2 * i + 1]);
        for (e.max_code = l, n = t.heap_len >> 1; n >= 1; n--) y(t, o, n);
        i = u;
        do {
            n = t.heap[1], t.heap[1] = t.heap[t.heap_len--], y(t, o, 1), r = t.heap[1], t.heap[--t.heap_max] = n, t.heap[--t.heap_max] = r, o[2 * i] = o[2 * n] + o[2 * r], t.depth[i] = (t.depth[n] >= t.depth[r] ? t.depth[n] : t.depth[r]) + 1, o[2 * n + 1] = o[2 * r + 1] = i, t.heap[1] = i++, y(t, o, 1)
        } while (t.heap_len >= 2);
        t.heap[--t.heap_max] = t.heap[1], f(t, e), p(o, l, t.bl_count)
    }

    function x(t, e, n) {
        var r, i, o = -1,
            s = e[1],
            a = 0,
            u = 7,
            l = 4;
        for (0 === s && (u = 138, l = 3), e[2 * (n + 1) + 1] = 65535, r = 0; r <= n; r++) i = s, s = e[2 * (r + 1) + 1], ++a < u && i === s || (a < l ? t.bl_tree[2 * i] += a : 0 !== i ? (i !== o && t.bl_tree[2 * i]++, t.bl_tree[2 * $]++) : a <= 10 ? t.bl_tree[2 * Z]++ : t.bl_tree[2 * J]++, a = 0, o = i, 0 === s ? (u = 138, l = 3) : i === s ? (u = 6, l = 3) : (u = 7, l = 4))
    }

    function T(t, e, n) {
        var r, i, o = -1,
            s = e[1],
            a = 0,
            c = 7,
            h = 4;
        for (0 === s && (c = 138, h = 3), r = 0; r <= n; r++)
            if (i = s, s = e[2 * (r + 1) + 1], !(++a < c && i === s)) {
                if (a < h)
                    do {
                        l(t, i, t.bl_tree)
                    } while (0 != --a);
                else 0 !== i ? (i !== o && (l(t, i, t.bl_tree), a--), l(t, $, t.bl_tree), u(t, a - 3, 2)) : a <= 10 ? (l(t, Z, t.bl_tree), u(t, a - 3, 3)) : (l(t, J, t.bl_tree), u(t, a - 11, 7));
                a = 0, o = i, 0 === s ? (c = 138, h = 3) : i === s ? (c = 6, h = 3) : (c = 7, h = 4)
            }
    }

    function C(t) {
        var e;
        for (x(t, t.dyn_ltree, t.l_desc.max_code), x(t, t.dyn_dtree, t.d_desc.max_code), w(t, t.bl_desc), e = G - 1; e >= 3 && 0 === t.bl_tree[2 * nt[e] + 1]; e--);
        return t.opt_len += 3 * (e + 1) + 5 + 5 + 4, e
    }

    function I(t, e, n, r) {
        var i;
        for (u(t, e - 257, 5), u(t, n - 1, 5), u(t, r - 4, 4), i = 0; i < r; i++) u(t, t.bl_tree[2 * nt[i] + 1], 3);
        T(t, t.dyn_ltree, e - 1), T(t, t.dyn_dtree, n - 1)
    }

    function S(t) {
        var e, n = 4093624447;
        for (e = 0; e <= 31; e++, n >>>= 1)
            if (1 & n && 0 !== t.dyn_ltree[2 * e]) return R;
        if (0 !== t.dyn_ltree[18] || 0 !== t.dyn_ltree[20] || 0 !== t.dyn_ltree[26]) return N;
        for (e = 32; e < V; e++)
            if (0 !== t.dyn_ltree[2 * e]) return N;
        return R
    }

    function O(t) {
        ft || (d(), ft = !0), t.l_desc = new o(t.dyn_ltree, lt), t.d_desc = new o(t.dyn_dtree, ct), t.bl_desc = new o(t.bl_tree, ht), t.bi_buf = 0, t.bi_valid = 0, g(t)
    }

    function E(t, e, n, r) {
        u(t, (B << 1) + (r ? 1 : 0), 3), v(t, e, n, !0)
    }

    function P(t) {
        u(t, z << 1, 3), l(t, K, rt), h(t)
    }

    function M(t, e, n, r) {
        var i, o, s = 0;
        t.level > 0 ? (t.strm.data_type === j && (t.strm.data_type = S(t)), w(t, t.l_desc), w(t, t.d_desc), s = C(t), i = t.opt_len + 3 + 7 >>> 3, (o = t.static_len + 3 + 7 >>> 3) <= i && (i = o)) : i = o = n + 5, n + 4 <= i && -1 !== e ? E(t, e, n, r) : t.strategy === A || o === i ? (u(t, (z << 1) + (r ? 1 : 0), 3), _(t, rt, it)) : (u(t, (D << 1) + (r ? 1 : 0), 3), I(t, t.l_desc.max_code + 1, t.d_desc.max_code + 1, s + 1), _(t, t.dyn_ltree, t.dyn_dtree)), g(t), r && m(t)
    }

    function k(t, e, n) {
        return t.pending_buf[t.d_buf + 2 * t.last_lit] = e >>> 8 & 255, t.pending_buf[t.d_buf + 2 * t.last_lit + 1] = 255 & e, t.pending_buf[t.l_buf + t.last_lit] = 255 & n, t.last_lit++, 0 === e ? t.dyn_ltree[2 * n]++ : (t.matches++, e--, t.dyn_ltree[2 * (st[n] + V + 1)]++, t.dyn_dtree[2 * s(e)]++), t.last_lit === t.lit_bufsize - 1
    }
    var L = n(29),
        A = 4,
        R = 0,
        N = 1,
        j = 2,
        B = 0,
        z = 1,
        D = 2,
        F = 29,
        V = 256,
        U = V + 1 + F,
        H = 30,
        G = 19,
        W = 2 * U + 1,
        X = 15,
        q = 16,
        Y = 7,
        K = 256,
        $ = 16,
        Z = 17,
        J = 18,
        Q = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0],
        tt = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13],
        et = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7],
        nt = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15],
        rt = new Array(2 * (U + 2));
    r(rt);
    var it = new Array(2 * H);
    r(it);
    var ot = new Array(512);
    r(ot);
    var st = new Array(256);
    r(st);
    var at = new Array(F);
    r(at);
    var ut = new Array(H);
    r(ut);
    var lt, ct, ht, ft = !1;
    e._tr_init = O, e._tr_stored_block = E, e._tr_flush_block = M, e._tr_tally = k, e._tr_align = P
}, function(t, e, n) {
    "use strict";

    function r(t) {
        if (!(this instanceof r)) return new r(t);
        this.options = a.assign({
            chunkSize: 16384,
            windowBits: 0,
            to: ""
        }, t || {});
        var e = this.options;
        e.raw && e.windowBits >= 0 && e.windowBits < 16 && (e.windowBits = -e.windowBits, 0 === e.windowBits && (e.windowBits = -15)), !(e.windowBits >= 0 && e.windowBits < 16) || t && t.windowBits || (e.windowBits += 32), e.windowBits > 15 && e.windowBits < 48 && 0 == (15 & e.windowBits) && (e.windowBits |= 15), this.err = 0, this.msg = "", this.ended = !1, this.chunks = [], this.strm = new h, this.strm.avail_out = 0;
        var n = s.inflateInit2(this.strm, e.windowBits);
        if (n !== l.Z_OK) throw new Error(c[n]);
        this.header = new f, s.inflateGetHeader(this.strm, this.header)
    }

    function i(t, e) {
        var n = new r(e);
        if (n.push(t, !0), n.err) throw n.msg || c[n.err];
        return n.result
    }

    function o(t, e) {
        return e = e || {}, e.raw = !0, i(t, e)
    }
    var s = n(199),
        a = n(29),
        u = n(117),
        l = n(119),
        c = n(78),
        h = n(118),
        f = n(202),
        p = Object.prototype.toString;
    r.prototype.push = function(t, e) {
        var n, r, i, o, c, h, f = this.strm,
            d = this.options.chunkSize,
            g = this.options.dictionary,
            m = !1;
        if (this.ended) return !1;
        r = e === ~~e ? e : !0 === e ? l.Z_FINISH : l.Z_NO_FLUSH, "string" == typeof t ? f.input = u.binstring2buf(t) : "[object ArrayBuffer]" === p.call(t) ? f.input = new Uint8Array(t) : f.input = t, f.next_in = 0, f.avail_in = f.input.length;
        do {
            if (0 === f.avail_out && (f.output = new a.Buf8(d), f.next_out = 0, f.avail_out = d), n = s.inflate(f, l.Z_NO_FLUSH), n === l.Z_NEED_DICT && g && (h = "string" == typeof g ? u.string2buf(g) : "[object ArrayBuffer]" === p.call(g) ? new Uint8Array(g) : g, n = s.inflateSetDictionary(this.strm, h)), n === l.Z_BUF_ERROR && !0 === m && (n = l.Z_OK, m = !1), n !== l.Z_STREAM_END && n !== l.Z_OK) return this.onEnd(n), this.ended = !0, !1;
            f.next_out && (0 !== f.avail_out && n !== l.Z_STREAM_END && (0 !== f.avail_in || r !== l.Z_FINISH && r !== l.Z_SYNC_FLUSH) || ("string" === this.options.to ? (i = u.utf8border(f.output, f.next_out), o = f.next_out - i, c = u.buf2string(f.output, i), f.next_out = o, f.avail_out = d - o, o && a.arraySet(f.output, f.output, i, o, 0), this.onData(c)) : this.onData(a.shrinkBuf(f.output, f.next_out)))), 0 === f.avail_in && 0 === f.avail_out && (m = !0)
        } while ((f.avail_in > 0 || 0 === f.avail_out) && n !== l.Z_STREAM_END);
        return n === l.Z_STREAM_END && (r = l.Z_FINISH), r === l.Z_FINISH ? (n = s.inflateEnd(this.strm), this.onEnd(n), this.ended = !0, n === l.Z_OK) : r !== l.Z_SYNC_FLUSH || (this.onEnd(l.Z_OK), f.avail_out = 0, !0)
    }, r.prototype.onData = function(t) {
        this.chunks.push(t)
    }, r.prototype.onEnd = function(t) {
        t === l.Z_OK && ("string" === this.options.to ? this.result = this.chunks.join("") : this.result = a.flattenChunks(this.chunks)), this.chunks = [], this.err = t, this.msg = this.strm.msg
    }, e.Inflate = r, e.inflate = i, e.inflateRaw = o, e.ungzip = i
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return (t >>> 24 & 255) + (t >>> 8 & 65280) + ((65280 & t) << 8) + ((255 & t) << 24)
    }

    function i() {
        this.mode = 0, this.last = !1, this.wrap = 0, this.havedict = !1, this.flags = 0, this.dmax = 0, this.check = 0, this.total = 0, this.head = null, this.wbits = 0, this.wsize = 0, this.whave = 0, this.wnext = 0, this.window = null, this.hold = 0, this.bits = 0, this.length = 0, this.offset = 0, this.extra = 0, this.lencode = null, this.distcode = null, this.lenbits = 0, this.distbits = 0, this.ncode = 0, this.nlen = 0, this.ndist = 0, this.have = 0, this.next = null, this.lens = new b.Buf16(320), this.work = new b.Buf16(288), this.lendyn = null, this.distdyn = null, this.sane = 0, this.back = 0, this.was = 0
    }

    function o(t) {
        var e;
        return t && t.state ? (e = t.state, t.total_in = t.total_out = e.total = 0, t.msg = "", e.wrap && (t.adler = 1 & e.wrap), e.mode = B, e.last = 0, e.havedict = 0, e.dmax = 32768, e.head = null, e.hold = 0, e.bits = 0, e.lencode = e.lendyn = new b.Buf32(gt), e.distcode = e.distdyn = new b.Buf32(mt), e.sane = 1, e.back = -1, P) : L
    }

    function s(t) {
        var e;
        return t && t.state ? (e = t.state, e.wsize = 0, e.whave = 0, e.wnext = 0, o(t)) : L
    }

    function a(t, e) {
        var n, r;
        return t && t.state ? (r = t.state, e < 0 ? (n = 0, e = -e) : (n = 1 + (e >> 4), e < 48 && (e &= 15)), e && (e < 8 || e > 15) ? L : (null !== r.window && r.wbits !== e && (r.window = null), r.wrap = n, r.wbits = e, s(t))) : L
    }

    function u(t, e) {
        var n, r;
        return t ? (r = new i, t.state = r, r.window = null, n = a(t, e), n !== P && (t.state = null), n) : L
    }

    function l(t) {
        return u(t, vt)
    }

    function c(t) {
        if (bt) {
            var e;
            for (m = new b.Buf32(512), v = new b.Buf32(32), e = 0; e < 144;) t.lens[e++] = 8;
            for (; e < 256;) t.lens[e++] = 9;
            for (; e < 280;) t.lens[e++] = 7;
            for (; e < 288;) t.lens[e++] = 8;
            for (x(C, t.lens, 0, 288, m, 0, t.work, {
                    bits: 9
                }), e = 0; e < 32;) t.lens[e++] = 5;
            x(I, t.lens, 0, 32, v, 0, t.work, {
                bits: 5
            }), bt = !1
        }
        t.lencode = m, t.lenbits = 9, t.distcode = v, t.distbits = 5
    }

    function h(t, e, n, r) {
        var i, o = t.state;
        return null === o.window && (o.wsize = 1 << o.wbits, o.wnext = 0, o.whave = 0, o.window = new b.Buf8(o.wsize)), r >= o.wsize ? (b.arraySet(o.window, e, n - o.wsize, o.wsize, 0), o.wnext = 0, o.whave = o.wsize) : (i = o.wsize - o.wnext, i > r && (i = r), b.arraySet(o.window, e, n - r, i, o.wnext), r -= i, r ? (b.arraySet(o.window, e, n - r, r, 0), o.wnext = r, o.whave = o.wsize) : (o.wnext += i, o.wnext === o.wsize && (o.wnext = 0), o.whave < o.wsize && (o.whave += i))), 0
    }

    function f(t, e) {
        var n, i, o, s, a, u, l, f, p, d, g, m, v, gt, mt, vt, bt, yt, _t, wt, xt, Tt, Ct, It, St = 0,
            Ot = new b.Buf8(4),
            Et = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];
        if (!t || !t.state || !t.output || !t.input && 0 !== t.avail_in) return L;
        n = t.state, n.mode === Y && (n.mode = K), a = t.next_out, o = t.output, l = t.avail_out, s = t.next_in, i = t.input, u = t.avail_in, f = n.hold, p = n.bits, d = u, g = l, Tt = P;
        t: for (;;) switch (n.mode) {
            case B:
                if (0 === n.wrap) {
                    n.mode = K;
                    break
                }
                for (; p < 16;) {
                    if (0 === u) break t;
                    u--, f += i[s++] << p, p += 8
                }
                if (2 & n.wrap && 35615 === f) {
                    n.check = 0, Ot[0] = 255 & f, Ot[1] = f >>> 8 & 255, n.check = _(n.check, Ot, 2, 0), f = 0, p = 0, n.mode = z;
                    break
                }
                if (n.flags = 0, n.head && (n.head.done = !1), !(1 & n.wrap) || (((255 & f) << 8) + (f >> 8)) % 31) {
                    t.msg = "incorrect header check", n.mode = ft;
                    break
                }
                if ((15 & f) !== j) {
                    t.msg = "unknown compression method", n.mode = ft;
                    break
                }
                if (f >>>= 4, p -= 4, xt = 8 + (15 & f), 0 === n.wbits) n.wbits = xt;
                else if (xt > n.wbits) {
                    t.msg = "invalid window size", n.mode = ft;
                    break
                }
                n.dmax = 1 << xt, t.adler = n.check = 1, n.mode = 512 & f ? X : Y, f = 0, p = 0;
                break;
            case z:
                for (; p < 16;) {
                    if (0 === u) break t;
                    u--, f += i[s++] << p, p += 8
                }
                if (n.flags = f, (255 & n.flags) !== j) {
                    t.msg = "unknown compression method", n.mode = ft;
                    break
                }
                if (57344 & n.flags) {
                    t.msg = "unknown header flags set", n.mode = ft;
                    break
                }
                n.head && (n.head.text = f >> 8 & 1), 512 & n.flags && (Ot[0] = 255 & f, Ot[1] = f >>> 8 & 255, n.check = _(n.check, Ot, 2, 0)), f = 0, p = 0, n.mode = D;
            case D:
                for (; p < 32;) {
                    if (0 === u) break t;
                    u--, f += i[s++] << p, p += 8
                }
                n.head && (n.head.time = f), 512 & n.flags && (Ot[0] = 255 & f, Ot[1] = f >>> 8 & 255, Ot[2] = f >>> 16 & 255, Ot[3] = f >>> 24 & 255, n.check = _(n.check, Ot, 4, 0)), f = 0, p = 0, n.mode = F;
            case F:
                for (; p < 16;) {
                    if (0 === u) break t;
                    u--, f += i[s++] << p, p += 8
                }
                n.head && (n.head.xflags = 255 & f, n.head.os = f >> 8), 512 & n.flags && (Ot[0] = 255 & f, Ot[1] = f >>> 8 & 255, n.check = _(n.check, Ot, 2, 0)), f = 0, p = 0, n.mode = V;
            case V:
                if (1024 & n.flags) {
                    for (; p < 16;) {
                        if (0 === u) break t;
                        u--, f += i[s++] << p, p += 8
                    }
                    n.length = f, n.head && (n.head.extra_len = f), 512 & n.flags && (Ot[0] = 255 & f, Ot[1] = f >>> 8 & 255, n.check = _(n.check, Ot, 2, 0)), f = 0, p = 0
                } else n.head && (n.head.extra = null);
                n.mode = U;
            case U:
                if (1024 & n.flags && (m = n.length, m > u && (m = u), m && (n.head && (xt = n.head.extra_len - n.length, n.head.extra || (n.head.extra = new Array(n.head.extra_len)), b.arraySet(n.head.extra, i, s, m, xt)), 512 & n.flags && (n.check = _(n.check, i, m, s)), u -= m, s += m, n.length -= m), n.length)) break t;
                n.length = 0, n.mode = H;
            case H:
                if (2048 & n.flags) {
                    if (0 === u) break t;
                    m = 0;
                    do {
                        xt = i[s + m++], n.head && xt && n.length < 65536 && (n.head.name += String.fromCharCode(xt))
                    } while (xt && m < u);
                    if (512 & n.flags && (n.check = _(n.check, i, m, s)), u -= m, s += m, xt) break t
                } else n.head && (n.head.name = null);
                n.length = 0, n.mode = G;
            case G:
                if (4096 & n.flags) {
                    if (0 === u) break t;
                    m = 0;
                    do {
                        xt = i[s + m++], n.head && xt && n.length < 65536 && (n.head.comment += String.fromCharCode(xt))
                    } while (xt && m < u);
                    if (512 & n.flags && (n.check = _(n.check, i, m, s)), u -= m, s += m, xt) break t
                } else n.head && (n.head.comment = null);
                n.mode = W;
            case W:
                if (512 & n.flags) {
                    for (; p < 16;) {
                        if (0 === u) break t;
                        u--, f += i[s++] << p, p += 8
                    }
                    if (f !== (65535 & n.check)) {
                        t.msg = "header crc mismatch", n.mode = ft;
                        break
                    }
                    f = 0, p = 0
                }
                n.head && (n.head.hcrc = n.flags >> 9 & 1, n.head.done = !0), t.adler = n.check = 0, n.mode = Y;
                break;
            case X:
                for (; p < 32;) {
                    if (0 === u) break t;
                    u--, f += i[s++] << p, p += 8
                }
                t.adler = n.check = r(f), f = 0, p = 0, n.mode = q;
            case q:
                if (0 === n.havedict) return t.next_out = a, t.avail_out = l, t.next_in = s, t.avail_in = u, n.hold = f, n.bits = p, k;
                t.adler = n.check = 1, n.mode = Y;
            case Y:
                if (e === O || e === E) break t;
            case K:
                if (n.last) {
                    f >>>= 7 & p, p -= 7 & p, n.mode = lt;
                    break
                }
                for (; p < 3;) {
                    if (0 === u) break t;
                    u--, f += i[s++] << p, p += 8
                }
                switch (n.last = 1 & f, f >>>= 1, p -= 1, 3 & f) {
                    case 0:
                        n.mode = $;
                        break;
                    case 1:
                        if (c(n), n.mode = nt, e === E) {
                            f >>>= 2, p -= 2;
                            break t
                        }
                        break;
                    case 2:
                        n.mode = Q;
                        break;
                    case 3:
                        t.msg = "invalid block type", n.mode = ft
                }
                f >>>= 2, p -= 2;
                break;
            case $:
                for (f >>>= 7 & p, p -= 7 & p; p < 32;) {
                    if (0 === u) break t;
                    u--, f += i[s++] << p, p += 8
                }
                if ((65535 & f) != (f >>> 16 ^ 65535)) {
                    t.msg = "invalid stored block lengths", n.mode = ft;
                    break
                }
                if (n.length = 65535 & f, f = 0, p = 0, n.mode = Z, e === E) break t;
            case Z:
                n.mode = J;
            case J:
                if (m = n.length) {
                    if (m > u && (m = u), m > l && (m = l), 0 === m) break t;
                    b.arraySet(o, i, s, m, a), u -= m, s += m, l -= m, a += m, n.length -= m;
                    break
                }
                n.mode = Y;
                break;
            case Q:
                for (; p < 14;) {
                    if (0 === u) break t;
                    u--, f += i[s++] << p, p += 8
                }
                if (n.nlen = 257 + (31 & f), f >>>= 5, p -= 5, n.ndist = 1 + (31 & f), f >>>= 5, p -= 5, n.ncode = 4 + (15 & f), f >>>= 4, p -= 4, n.nlen > 286 || n.ndist > 30) {
                    t.msg = "too many length or distance symbols", n.mode = ft;
                    break
                }
                n.have = 0, n.mode = tt;
            case tt:
                for (; n.have < n.ncode;) {
                    for (; p < 3;) {
                        if (0 === u) break t;
                        u--, f += i[s++] << p, p += 8
                    }
                    n.lens[Et[n.have++]] = 7 & f, f >>>= 3, p -= 3
                }
                for (; n.have < 19;) n.lens[Et[n.have++]] = 0;
                if (n.lencode = n.lendyn, n.lenbits = 7, Ct = {
                        bits: n.lenbits
                    }, Tt = x(T, n.lens, 0, 19, n.lencode, 0, n.work, Ct), n.lenbits = Ct.bits, Tt) {
                    t.msg = "invalid code lengths set", n.mode = ft;
                    break
                }
                n.have = 0, n.mode = et;
            case et:
                for (; n.have < n.nlen + n.ndist;) {
                    for (; St = n.lencode[f & (1 << n.lenbits) - 1], mt = St >>> 24, vt = St >>> 16 & 255, bt = 65535 & St, !(mt <= p);) {
                        if (0 === u) break t;
                        u--, f += i[s++] << p, p += 8
                    }
                    if (bt < 16) f >>>= mt, p -= mt, n.lens[n.have++] = bt;
                    else {
                        if (16 === bt) {
                            for (It = mt + 2; p < It;) {
                                if (0 === u) break t;
                                u--, f += i[s++] << p, p += 8
                            }
                            if (f >>>= mt, p -= mt, 0 === n.have) {
                                t.msg = "invalid bit length repeat", n.mode = ft;
                                break
                            }
                            xt = n.lens[n.have - 1], m = 3 + (3 & f), f >>>= 2, p -= 2
                        } else if (17 === bt) {
                            for (It = mt + 3; p < It;) {
                                if (0 === u) break t;
                                u--, f += i[s++] << p, p += 8
                            }
                            f >>>= mt, p -= mt, xt = 0, m = 3 + (7 & f), f >>>= 3, p -= 3
                        } else {
                            for (It = mt + 7; p < It;) {
                                if (0 === u) break t;
                                u--, f += i[s++] << p, p += 8
                            }
                            f >>>= mt, p -= mt, xt = 0, m = 11 + (127 & f), f >>>= 7, p -= 7
                        }
                        if (n.have + m > n.nlen + n.ndist) {
                            t.msg = "invalid bit length repeat", n.mode = ft;
                            break
                        }
                        for (; m--;) n.lens[n.have++] = xt
                    }
                }
                if (n.mode === ft) break;
                if (0 === n.lens[256]) {
                    t.msg = "invalid code -- missing end-of-block", n.mode = ft;
                    break
                }
                if (n.lenbits = 9, Ct = {
                        bits: n.lenbits
                    }, Tt = x(C, n.lens, 0, n.nlen, n.lencode, 0, n.work, Ct), n.lenbits = Ct.bits, Tt) {
                    t.msg = "invalid literal/lengths set", n.mode = ft;
                    break
                }
                if (n.distbits = 6, n.distcode = n.distdyn, Ct = {
                        bits: n.distbits
                    }, Tt = x(I, n.lens, n.nlen, n.ndist, n.distcode, 0, n.work, Ct), n.distbits = Ct.bits, Tt) {
                    t.msg = "invalid distances set", n.mode = ft;
                    break
                }
                if (n.mode = nt, e === E) break t;
            case nt:
                n.mode = rt;
            case rt:
                if (u >= 6 && l >= 258) {
                    t.next_out = a, t.avail_out = l, t.next_in = s, t.avail_in = u, n.hold = f, n.bits = p, w(t, g), a = t.next_out, o = t.output, l = t.avail_out, s = t.next_in, i = t.input, u = t.avail_in, f = n.hold, p = n.bits, n.mode === Y && (n.back = -1);
                    break
                }
                for (n.back = 0; St = n.lencode[f & (1 << n.lenbits) - 1], mt = St >>> 24, vt = St >>> 16 & 255, bt = 65535 & St, !(mt <= p);) {
                    if (0 === u) break t;
                    u--, f += i[s++] << p, p += 8
                }
                if (vt && 0 == (240 & vt)) {
                    for (yt = mt, _t = vt, wt = bt; St = n.lencode[wt + ((f & (1 << yt + _t) - 1) >> yt)], mt = St >>> 24, vt = St >>> 16 & 255, bt = 65535 & St, !(yt + mt <= p);) {
                        if (0 === u) break t;
                        u--, f += i[s++] << p, p += 8
                    }
                    f >>>= yt, p -= yt, n.back += yt
                }
                if (f >>>= mt, p -= mt, n.back += mt, n.length = bt, 0 === vt) {
                    n.mode = ut;
                    break
                }
                if (32 & vt) {
                    n.back = -1, n.mode = Y;
                    break
                }
                if (64 & vt) {
                    t.msg = "invalid literal/length code", n.mode = ft;
                    break
                }
                n.extra = 15 & vt, n.mode = it;
            case it:
                if (n.extra) {
                    for (It = n.extra; p < It;) {
                        if (0 === u) break t;
                        u--, f += i[s++] << p, p += 8
                    }
                    n.length += f & (1 << n.extra) - 1, f >>>= n.extra, p -= n.extra, n.back += n.extra
                }
                n.was = n.length, n.mode = ot;
            case ot:
                for (; St = n.distcode[f & (1 << n.distbits) - 1], mt = St >>> 24, vt = St >>> 16 & 255, bt = 65535 & St, !(mt <= p);) {
                    if (0 === u) break t;
                    u--, f += i[s++] << p, p += 8
                }
                if (0 == (240 & vt)) {
                    for (yt = mt, _t = vt, wt = bt; St = n.distcode[wt + ((f & (1 << yt + _t) - 1) >> yt)], mt = St >>> 24, vt = St >>> 16 & 255, bt = 65535 & St, !(yt + mt <= p);) {
                        if (0 === u) break t;
                        u--, f += i[s++] << p, p += 8
                    }
                    f >>>= yt, p -= yt, n.back += yt
                }
                if (f >>>= mt, p -= mt, n.back += mt, 64 & vt) {
                    t.msg = "invalid distance code", n.mode = ft;
                    break
                }
                n.offset = bt, n.extra = 15 & vt, n.mode = st;
            case st:
                if (n.extra) {
                    for (It = n.extra; p < It;) {
                        if (0 === u) break t;
                        u--, f += i[s++] << p, p += 8
                    }
                    n.offset += f & (1 << n.extra) - 1, f >>>= n.extra, p -= n.extra, n.back += n.extra
                }
                if (n.offset > n.dmax) {
                    t.msg = "invalid distance too far back", n.mode = ft;
                    break
                }
                n.mode = at;
            case at:
                if (0 === l) break t;
                if (m = g - l, n.offset > m) {
                    if ((m = n.offset - m) > n.whave && n.sane) {
                        t.msg = "invalid distance too far back", n.mode = ft;
                        break
                    }
                    m > n.wnext ? (m -= n.wnext, v = n.wsize - m) : v = n.wnext - m, m > n.length && (m = n.length), gt = n.window
                } else gt = o, v = a - n.offset, m = n.length;
                m > l && (m = l), l -= m, n.length -= m;
                do {
                    o[a++] = gt[v++]
                } while (--m);
                0 === n.length && (n.mode = rt);
                break;
            case ut:
                if (0 === l) break t;
                o[a++] = n.length, l--, n.mode = rt;
                break;
            case lt:
                if (n.wrap) {
                    for (; p < 32;) {
                        if (0 === u) break t;
                        u--, f |= i[s++] << p, p += 8
                    }
                    if (g -= l, t.total_out += g, n.total += g, g && (t.adler = n.check = n.flags ? _(n.check, o, g, a - g) : y(n.check, o, g, a - g)), g = l, (n.flags ? f : r(f)) !== n.check) {
                        t.msg = "incorrect data check", n.mode = ft;
                        break
                    }
                    f = 0, p = 0
                }
                n.mode = ct;
            case ct:
                if (n.wrap && n.flags) {
                    for (; p < 32;) {
                        if (0 === u) break t;
                        u--, f += i[s++] << p, p += 8
                    }
                    if (f !== (4294967295 & n.total)) {
                        t.msg = "incorrect length check", n.mode = ft;
                        break
                    }
                    f = 0, p = 0
                }
                n.mode = ht;
            case ht:
                Tt = M;
                break t;
            case ft:
                Tt = A;
                break t;
            case pt:
                return R;
            case dt:
            default:
                return L
        }
        return t.next_out = a, t.avail_out = l, t.next_in = s, t.avail_in = u, n.hold = f, n.bits = p, (n.wsize || g !== t.avail_out && n.mode < ft && (n.mode < lt || e !== S)) && h(t, t.output, t.next_out, g - t.avail_out) ? (n.mode = pt, R) : (d -= t.avail_in, g -= t.avail_out, t.total_in += d, t.total_out += g, n.total += g, n.wrap && g && (t.adler = n.check = n.flags ? _(n.check, o, g, t.next_out - g) : y(n.check, o, g, t.next_out - g)), t.data_type = n.bits + (n.last ? 64 : 0) + (n.mode === Y ? 128 : 0) + (n.mode === nt || n.mode === Z ? 256 : 0), (0 === d && 0 === g || e === S) && Tt === P && (Tt = N), Tt)
    }

    function p(t) {
        if (!t || !t.state) return L;
        var e = t.state;
        return e.window && (e.window = null), t.state = null, P
    }

    function d(t, e) {
        var n;
        return t && t.state ? (n = t.state, 0 == (2 & n.wrap) ? L : (n.head = e, e.done = !1, P)) : L
    }

    function g(t, e) {
        var n, r, i = e.length;
        return t && t.state ? (n = t.state, 0 !== n.wrap && n.mode !== q ? L : n.mode === q && (r = 1, (r = y(r, e, i, 0)) !== n.check) ? A : h(t, e, i, i) ? (n.mode = pt, R) : (n.havedict = 1, P)) : L
    }
    var m, v, b = n(29),
        y = n(115),
        _ = n(116),
        w = n(200),
        x = n(201),
        T = 0,
        C = 1,
        I = 2,
        S = 4,
        O = 5,
        E = 6,
        P = 0,
        M = 1,
        k = 2,
        L = -2,
        A = -3,
        R = -4,
        N = -5,
        j = 8,
        B = 1,
        z = 2,
        D = 3,
        F = 4,
        V = 5,
        U = 6,
        H = 7,
        G = 8,
        W = 9,
        X = 10,
        q = 11,
        Y = 12,
        K = 13,
        $ = 14,
        Z = 15,
        J = 16,
        Q = 17,
        tt = 18,
        et = 19,
        nt = 20,
        rt = 21,
        it = 22,
        ot = 23,
        st = 24,
        at = 25,
        ut = 26,
        lt = 27,
        ct = 28,
        ht = 29,
        ft = 30,
        pt = 31,
        dt = 32,
        gt = 852,
        mt = 592,
        vt = 15,
        bt = !0;
    e.inflateReset = s, e.inflateReset2 = a, e.inflateResetKeep = o, e.inflateInit = l, e.inflateInit2 = u, e.inflate = f, e.inflateEnd = p, e.inflateGetHeader = d, e.inflateSetDictionary = g, e.inflateInfo = "pako inflate (from Nodeca project)"
}, function(t, e, n) {
    "use strict";
    t.exports = function(t, e) {
        var n, r, i, o, s, a, u, l, c, h, f, p, d, g, m, v, b, y, _, w, x, T, C, I, S;
        n = t.state, r = t.next_in, I = t.input, i = r + (t.avail_in - 5), o = t.next_out, S = t.output, s = o - (e - t.avail_out), a = o + (t.avail_out - 257), u = n.dmax, l = n.wsize, c = n.whave, h = n.wnext, f = n.window, p = n.hold, d = n.bits, g = n.lencode, m = n.distcode, v = (1 << n.lenbits) - 1, b = (1 << n.distbits) - 1;
        t: do {
            d < 15 && (p += I[r++] << d, d += 8, p += I[r++] << d, d += 8), y = g[p & v];
            e: for (;;) {
                if (_ = y >>> 24, p >>>= _, d -= _, 0 === (_ = y >>> 16 & 255)) S[o++] = 65535 & y;
                else {
                    if (!(16 & _)) {
                        if (0 == (64 & _)) {
                            y = g[(65535 & y) + (p & (1 << _) - 1)];
                            continue e
                        }
                        if (32 & _) {
                            n.mode = 12;
                            break t
                        }
                        t.msg = "invalid literal/length code", n.mode = 30;
                        break t
                    }
                    w = 65535 & y, _ &= 15, _ && (d < _ && (p += I[r++] << d, d += 8), w += p & (1 << _) - 1, p >>>= _, d -= _), d < 15 && (p += I[r++] << d, d += 8, p += I[r++] << d, d += 8), y = m[p & b];
                    n: for (;;) {
                        if (_ = y >>> 24, p >>>= _, d -= _, !(16 & (_ = y >>> 16 & 255))) {
                            if (0 == (64 & _)) {
                                y = m[(65535 & y) + (p & (1 << _) - 1)];
                                continue n
                            }
                            t.msg = "invalid distance code", n.mode = 30;
                            break t
                        }
                        if (x = 65535 & y, _ &= 15, d < _ && (p += I[r++] << d, (d += 8) < _ && (p += I[r++] << d, d += 8)), (x += p & (1 << _) - 1) > u) {
                            t.msg = "invalid distance too far back", n.mode = 30;
                            break t
                        }
                        if (p >>>= _, d -= _, _ = o - s, x > _) {
                            if ((_ = x - _) > c && n.sane) {
                                t.msg = "invalid distance too far back", n.mode = 30;
                                break t
                            }
                            if (T = 0, C = f, 0 === h) {
                                if (T += l - _, _ < w) {
                                    w -= _;
                                    do {
                                        S[o++] = f[T++]
                                    } while (--_);
                                    T = o - x, C = S
                                }
                            } else if (h < _) {
                                if (T += l + h - _, (_ -= h) < w) {
                                    w -= _;
                                    do {
                                        S[o++] = f[T++]
                                    } while (--_);
                                    if (T = 0, h < w) {
                                        _ = h, w -= _;
                                        do {
                                            S[o++] = f[T++]
                                        } while (--_);
                                        T = o - x, C = S
                                    }
                                }
                            } else if (T += h - _, _ < w) {
                                w -= _;
                                do {
                                    S[o++] = f[T++]
                                } while (--_);
                                T = o - x, C = S
                            }
                            for (; w > 2;) S[o++] = C[T++], S[o++] = C[T++], S[o++] = C[T++], w -= 3;
                            w && (S[o++] = C[T++], w > 1 && (S[o++] = C[T++]))
                        } else {
                            T = o - x;
                            do {
                                S[o++] = S[T++], S[o++] = S[T++], S[o++] = S[T++], w -= 3
                            } while (w > 2);
                            w && (S[o++] = S[T++], w > 1 && (S[o++] = S[T++]))
                        }
                        break
                    }
                }
                break
            }
        } while (r < i && o < a);
        w = d >> 3, r -= w, d -= w << 3, p &= (1 << d) - 1, t.next_in = r, t.next_out = o, t.avail_in = r < i ? i - r + 5 : 5 - (r - i), t.avail_out = o < a ? a - o + 257 : 257 - (o - a), n.hold = p, n.bits = d
    }
}, function(t, e, n) {
    "use strict";
    var r = n(29),
        i = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0],
        o = [16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18, 19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78],
        s = [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577, 0, 0],
        a = [16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 24, 25, 25, 26, 26, 27, 27, 28, 28, 29, 29, 64, 64];
    t.exports = function(t, e, n, u, l, c, h, f) {
        var p, d, g, m, v, b, y, _, w, x = f.bits,
            T = 0,
            C = 0,
            I = 0,
            S = 0,
            O = 0,
            E = 0,
            P = 0,
            M = 0,
            k = 0,
            L = 0,
            A = null,
            R = 0,
            N = new r.Buf16(16),
            j = new r.Buf16(16),
            B = null,
            z = 0;
        for (T = 0; T <= 15; T++) N[T] = 0;
        for (C = 0; C < u; C++) N[e[n + C]]++;
        for (O = x, S = 15; S >= 1 && 0 === N[S]; S--);
        if (O > S && (O = S), 0 === S) return l[c++] = 20971520, l[c++] = 20971520, f.bits = 1, 0;
        for (I = 1; I < S && 0 === N[I]; I++);
        for (O < I && (O = I), M = 1, T = 1; T <= 15; T++)
            if (M <<= 1, (M -= N[T]) < 0) return -1;
        if (M > 0 && (0 === t || 1 !== S)) return -1;
        for (j[1] = 0, T = 1; T < 15; T++) j[T + 1] = j[T] + N[T];
        for (C = 0; C < u; C++) 0 !== e[n + C] && (h[j[e[n + C]]++] = C);
        if (0 === t ? (A = B = h, b = 19) : 1 === t ? (A = i, R -= 257, B = o, z -= 257, b = 256) : (A = s, B = a, b = -1), L = 0, C = 0, T = I, v = c, E = O, P = 0, g = -1, k = 1 << O, m = k - 1, 1 === t && k > 852 || 2 === t && k > 592) return 1;
        for (;;) {
            y = T - P, h[C] < b ? (_ = 0, w = h[C]) : h[C] > b ? (_ = B[z + h[C]], w = A[R + h[C]]) : (_ = 96, w = 0), p = 1 << T - P, d = 1 << E, I = d;
            do {
                d -= p, l[v + (L >> P) + d] = y << 24 | _ << 16 | w | 0
            } while (0 !== d);
            for (p = 1 << T - 1; L & p;) p >>= 1;
            if (0 !== p ? (L &= p - 1, L += p) : L = 0, C++, 0 == --N[T]) {
                if (T === S) break;
                T = e[n + h[C]]
            }
            if (T > O && (L & m) !== g) {
                for (0 === P && (P = O), v += I, E = T - P, M = 1 << E; E + P < S && !((M -= N[E + P]) <= 0);) E++, M <<= 1;
                if (k += 1 << E, 1 === t && k > 852 || 2 === t && k > 592) return 1;
                g = L & m, l[g] = O << 24 | E << 16 | v - c | 0
            }
        }
        return 0 !== L && (l[v + L] = T - P << 24 | 64 << 16 | 0), f.bits = O, 0
    }
}, function(t, e, n) {
    "use strict";

    function r() {
        this.text = 0, this.time = 0, this.xflags = 0, this.os = 0, this.extra = null, this.extra_len = 0, this.name = "", this.comment = "", this.hcrc = 0, this.done = !1
    }
    t.exports = r
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.GradientEntry = void 0;
    var r = function() {
        function t(t, e, n) {
            void 0 === t && (t = "000000"), void 0 === e && (e = 1), void 0 === n && (n = 0), this.color = t, this.alpha = e, this.ratio = n
        }
        return Object.defineProperty(t.prototype, "colorHex", {
            get: function() {
                return "#" + this.color
            },
            enumerable: !1,
            configurable: !0
        }), t
    }();
    e.GradientEntry = r
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.SvgBoundsManager = void 0;
    var r = n(14),
        i = n(7),
        o = n(104),
        s = n(5),
        a = n(27),
        u = function() {
            function t() {}
            return t.getBounds = function(e, n) {
                var i = n,
                    o = null;
                return t.cache[i] instanceof r.Rectangle ? o = t.cache[i] : (o = t.getSvgBounds(e), t.cache[i] = o), o
            }, t.getSvgBounds = function(e, n) {
                if (void 0 === n && (n = 1), "" === e) return new r.Rectangle(0, 0, 1, 1);
                var o = a.Context2DManager.forTemp(5e3, 3e3),
                    u = s(e),
                    l = parseInt(u[0].getAttribute("width")),
                    c = parseInt(u[0].getAttribute("height"));
                l *= n, c *= n;
                var h = Math.min(l, c);
                if (h > 0 && h < 200) return t.getSvgBounds(e, Math.ceil(n * (200 / h)));
                l += 25, c += 25;
                var f = l,
                    p = c,
                    d = 0,
                    g = 0,
                    m = 0,
                    v = 0,
                    b = n,
                    y = n,
                    _ = new i.Matrix;
                o.save(), o.globalAlpha = 1, o.fillStyle = "#ffffff", (o.canvas.width < l || o.canvas.height < c) && (b = o.canvas.width / l, y = o.canvas.height / c, b = .9 * Math.min(b, y), y = b), _.scale(b, y), _.setToContext2d(o), t.drawSvg(e, o.canvas);
                for (var w = o.getImageData(0, 0, l, c), x = 0; x < w.data.length; x += 4) {
                    var T = (w.data[x], w.data[x + 1], w.data[x + 2], w.data[x + 3]);
                    m = x / 4 % l, v = x / 4 / l, 0 != T && (f = Math.min(f, m), p = Math.min(p, v), d = Math.max(d, m), g = Math.max(g, v))
                }
                return o.restore(), l = d - f, c = g - p, f /= b, p /= y, l /= b, c /= y, (l < 200 || c < 200) && (f = Math.round(f), p = Math.round(p), l = Math.round(l), c = Math.round(c)), new r.Rectangle(f, p, l, c)
            }, t.drawSvg = function(e, n) {
                null == t.canvgOptions && (t.canvgOptions = {
                    ignoreMouse: !0,
                    ignoreAnimation: !0,
                    ignoreDimensions: !0,
                    ignoreClear: !0,
                    offsetX: 0,
                    offsetY: 0,
                    scaleWidth: 0,
                    scaleHeight: 0
                }), o(n, e, t.canvgOptions)
            }, t.cache = {}, t.canvgOptions = null, t
        }();
    e.SvgBoundsManager = u
}, function(t, e, n) {
    var r;
    /**
     * A class to parse color values
     * @author Stoyan Stefanov <sstoo@gmail.com>
     * @link   http://www.phpied.com/rgb-color-parser-in-javascript/
     * @license Use it if you like it
     */
    ! function(i) {
        function o(t) {
            this.ok = !1, "#" == t.charAt(0) && (t = t.substr(1, 6)), t = t.replace(/ /g, ""), t = t.toLowerCase();
            var e = {
                aliceblue: "f0f8ff",
                antiquewhite: "faebd7",
                aqua: "00ffff",
                aquamarine: "7fffd4",
                azure: "f0ffff",
                beige: "f5f5dc",
                bisque: "ffe4c4",
                black: "000000",
                blanchedalmond: "ffebcd",
                blue: "0000ff",
                blueviolet: "8a2be2",
                brown: "a52a2a",
                burlywood: "deb887",
                cadetblue: "5f9ea0",
                chartreuse: "7fff00",
                chocolate: "d2691e",
                coral: "ff7f50",
                cornflowerblue: "6495ed",
                cornsilk: "fff8dc",
                crimson: "dc143c",
                cyan: "00ffff",
                darkblue: "00008b",
                darkcyan: "008b8b",
                darkgoldenrod: "b8860b",
                darkgray: "a9a9a9",
                darkgreen: "006400",
                darkkhaki: "bdb76b",
                darkmagenta: "8b008b",
                darkolivegreen: "556b2f",
                darkorange: "ff8c00",
                darkorchid: "9932cc",
                darkred: "8b0000",
                darksalmon: "e9967a",
                darkseagreen: "8fbc8f",
                darkslateblue: "483d8b",
                darkslategray: "2f4f4f",
                darkturquoise: "00ced1",
                darkviolet: "9400d3",
                deeppink: "ff1493",
                deepskyblue: "00bfff",
                dimgray: "696969",
                dodgerblue: "1e90ff",
                feldspar: "d19275",
                firebrick: "b22222",
                floralwhite: "fffaf0",
                forestgreen: "228b22",
                fuchsia: "ff00ff",
                gainsboro: "dcdcdc",
                ghostwhite: "f8f8ff",
                gold: "ffd700",
                goldenrod: "daa520",
                gray: "808080",
                green: "008000",
                greenyellow: "adff2f",
                honeydew: "f0fff0",
                hotpink: "ff69b4",
                indianred: "cd5c5c",
                indigo: "4b0082",
                ivory: "fffff0",
                khaki: "f0e68c",
                lavender: "e6e6fa",
                lavenderblush: "fff0f5",
                lawngreen: "7cfc00",
                lemonchiffon: "fffacd",
                lightblue: "add8e6",
                lightcoral: "f08080",
                lightcyan: "e0ffff",
                lightgoldenrodyellow: "fafad2",
                lightgrey: "d3d3d3",
                lightgreen: "90ee90",
                lightpink: "ffb6c1",
                lightsalmon: "ffa07a",
                lightseagreen: "20b2aa",
                lightskyblue: "87cefa",
                lightslateblue: "8470ff",
                lightslategray: "778899",
                lightsteelblue: "b0c4de",
                lightyellow: "ffffe0",
                lime: "00ff00",
                limegreen: "32cd32",
                linen: "faf0e6",
                magenta: "ff00ff",
                maroon: "800000",
                mediumaquamarine: "66cdaa",
                mediumblue: "0000cd",
                mediumorchid: "ba55d3",
                mediumpurple: "9370d8",
                mediumseagreen: "3cb371",
                mediumslateblue: "7b68ee",
                mediumspringgreen: "00fa9a",
                mediumturquoise: "48d1cc",
                mediumvioletred: "c71585",
                midnightblue: "191970",
                mintcream: "f5fffa",
                mistyrose: "ffe4e1",
                moccasin: "ffe4b5",
                navajowhite: "ffdead",
                navy: "000080",
                oldlace: "fdf5e6",
                olive: "808000",
                olivedrab: "6b8e23",
                orange: "ffa500",
                orangered: "ff4500",
                orchid: "da70d6",
                palegoldenrod: "eee8aa",
                palegreen: "98fb98",
                paleturquoise: "afeeee",
                palevioletred: "d87093",
                papayawhip: "ffefd5",
                peachpuff: "ffdab9",
                peru: "cd853f",
                pink: "ffc0cb",
                plum: "dda0dd",
                powderblue: "b0e0e6",
                purple: "800080",
                red: "ff0000",
                rosybrown: "bc8f8f",
                royalblue: "4169e1",
                saddlebrown: "8b4513",
                salmon: "fa8072",
                sandybrown: "f4a460",
                seagreen: "2e8b57",
                seashell: "fff5ee",
                sienna: "a0522d",
                silver: "c0c0c0",
                skyblue: "87ceeb",
                slateblue: "6a5acd",
                slategray: "708090",
                snow: "fffafa",
                springgreen: "00ff7f",
                steelblue: "4682b4",
                tan: "d2b48c",
                teal: "008080",
                thistle: "d8bfd8",
                tomato: "ff6347",
                turquoise: "40e0d0",
                violet: "ee82ee",
                violetred: "d02090",
                wheat: "f5deb3",
                white: "ffffff",
                whitesmoke: "f5f5f5",
                yellow: "ffff00",
                yellowgreen: "9acd32"
            };
            for (var n in e) t == n && (t = e[n]);
            for (var r = [{
                    re: /^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,
                    example: ["rgb(123, 234, 45)", "rgb(255,234,245)"],
                    process: function(t) {
                        return [parseInt(t[1]), parseInt(t[2]), parseInt(t[3])]
                    }
                }, {
                    re: /^(\w{2})(\w{2})(\w{2})$/,
                    example: ["#00ff00", "336699"],
                    process: function(t) {
                        return [parseInt(t[1], 16), parseInt(t[2], 16), parseInt(t[3], 16)]
                    }
                }, {
                    re: /^(\w{1})(\w{1})(\w{1})$/,
                    example: ["#fb0", "f0f"],
                    process: function(t) {
                        return [parseInt(t[1] + t[1], 16), parseInt(t[2] + t[2], 16), parseInt(t[3] + t[3], 16)]
                    }
                }], i = 0; i < r.length; i++) {
                var s = r[i].re,
                    a = r[i].process,
                    u = s.exec(t);
                u && (channels = a(u), this.r = channels[0], this.g = channels[1], this.b = channels[2], this.ok = !0)
            }
            this.r = this.r < 0 || isNaN(this.r) ? 0 : this.r > 255 ? 255 : this.r, this.g = this.g < 0 || isNaN(this.g) ? 0 : this.g > 255 ? 255 : this.g, this.b = this.b < 0 || isNaN(this.b) ? 0 : this.b > 255 ? 255 : this.b, this.toRGB = function() {
                return "rgb(" + this.r + ", " + this.g + ", " + this.b + ")"
            }, this.toHex = function() {
                var t = this.r.toString(16),
                    e = this.g.toString(16),
                    n = this.b.toString(16);
                return 1 == t.length && (t = "0" + t), 1 == e.length && (e = "0" + e), 1 == n.length && (n = "0" + n), "#" + t + e + n
            }, this.getHelpXML = function() {
                for (var t = new Array, n = 0; n < r.length; n++)
                    for (var i = r[n].example, s = 0; s < i.length; s++) t[t.length] = i[s];
                for (var a in e) t[t.length] = a;
                var u = document.createElement("ul");
                u.setAttribute("id", "rgbcolor-examples");
                for (var n = 0; n < t.length; n++) try {
                    var l = document.createElement("li"),
                        c = new o(t[n]),
                        h = document.createElement("div");
                    h.style.cssText = "margin: 3px; border: 1px solid black; background:" + c.toHex() + "; color:" + c.toHex(), h.appendChild(document.createTextNode("test"));
                    var f = document.createTextNode(" " + t[n] + " -> " + c.toRGB() + " -> " + c.toHex());
                    l.appendChild(h), l.appendChild(f), u.appendChild(l)
                } catch (t) {}
                return u
            }
        }
        void 0 !== (r = function() {
            return o
        }.call(e, n, e, t)) && (t.exports = r), i.RGBColor = o
    }("undefined" != typeof window ? window : this)
}, function(t, e, n) {
    var r;
    ! function(i) {
        function o(t) {
            for (var e = t.data, n = t.width * t.height * 4, r = 0; r < n; r += 4) {
                var i = e[r + 3] / 255;
                e[r] *= i, e[r + 1] *= i, e[r + 2] *= i
            }
        }

        function s(t) {
            for (var e = t.data, n = t.width * t.height * 4, r = 0; r < n; r += 4) {
                var i = e[r + 3];
                0 != i && (i = 255 / i, e[r] *= i, e[r + 1] *= i, e[r + 2] *= i)
            }
        }

        function a(t, e, n, r) {
            var i = document.getElementById(t),
                o = i.naturalWidth,
                s = i.naturalHeight,
                a = document.getElementById(e);
            a.style.width = o + "px", a.style.height = s + "px", a.width = o, a.height = s;
            var c = a.getContext("2d");
            c.clearRect(0, 0, o, s), c.drawImage(i, 0, 0), isNaN(n) || n < 1 || (r ? u(e, 0, 0, o, s, n) : l(e, 0, 0, o, s, n))
        }

        function u(t, e, n, r, i, a) {
            if (!(isNaN(a) || a < 1)) {
                a |= 0;
                var u, l = document.getElementById(t),
                    p = l.getContext("2d");
                try {
                    try {
                        u = p.getImageData(e, n, r, i)
                    } catch (t) {
                        try {
                            netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"), u = p.getImageData(e, n, r, i)
                        } catch (t) {
                            throw alert("Cannot access local image"), new Error("unable to access local image data: " + t)
                        }
                    }
                } catch (t) {
                    throw alert("Cannot access image"), new Error("unable to access image data: " + t)
                }
                o(u);
                var d, g, m, v, b, y, _, w, x, T, C, I, S, O, E, P, M, k, L, A, R, N, j, B, z = u.data,
                    D = a + a + 1,
                    F = r - 1,
                    V = i - 1,
                    U = a + 1,
                    H = U * (U + 1) / 2,
                    G = new c,
                    W = G;
                for (m = 1; m < D; m++)
                    if (W = W.next = new c, m == U) var X = W;
                W.next = G;
                var q = null,
                    Y = null;
                _ = y = 0;
                var K = h[a],
                    $ = f[a];
                for (g = 0; g < i; g++) {
                    for (P = M = k = L = w = x = T = C = 0, I = U * (A = z[y]), S = U * (R = z[y + 1]), O = U * (N = z[y + 2]), E = U * (j = z[y + 3]), w += H * A, x += H * R, T += H * N, C += H * j, W = G, m = 0; m < U; m++) W.r = A, W.g = R, W.b = N, W.a = j, W = W.next;
                    for (m = 1; m < U; m++) v = y + ((F < m ? F : m) << 2), w += (W.r = A = z[v]) * (B = U - m), x += (W.g = R = z[v + 1]) * B, T += (W.b = N = z[v + 2]) * B, C += (W.a = j = z[v + 3]) * B, P += A, M += R, k += N, L += j, W = W.next;
                    for (q = G, Y = X, d = 0; d < r; d++) z[y] = w * K >> $, z[y + 1] = x * K >> $, z[y + 2] = T * K >> $, z[y + 3] = C * K >> $, w -= I, x -= S, T -= O, C -= E, I -= q.r, S -= q.g, O -= q.b, E -= q.a, v = _ + ((v = d + a + 1) < F ? v : F) << 2, P += q.r = z[v], M += q.g = z[v + 1], k += q.b = z[v + 2], L += q.a = z[v + 3], w += P, x += M, T += k, C += L, q = q.next, I += A = Y.r, S += R = Y.g, O += N = Y.b, E += j = Y.a, P -= A, M -= R, k -= N, L -= j, Y = Y.next, y += 4;
                    _ += r
                }
                for (d = 0; d < r; d++) {
                    for (M = k = L = P = x = T = C = w = 0, y = d << 2, I = U * (A = z[y]), S = U * (R = z[y + 1]), O = U * (N = z[y + 2]), E = U * (j = z[y + 3]), w += H * A, x += H * R, T += H * N, C += H * j, W = G, m = 0; m < U; m++) W.r = A, W.g = R, W.b = N, W.a = j, W = W.next;
                    for (b = r, m = 1; m <= a; m++) y = b + d << 2, w += (W.r = A = z[y]) * (B = U - m), x += (W.g = R = z[y + 1]) * B, T += (W.b = N = z[y + 2]) * B, C += (W.a = j = z[y + 3]) * B, P += A, M += R, k += N, L += j, W = W.next, m < V && (b += r);
                    for (y = d, q = G, Y = X, g = 0; g < i; g++) v = y << 2, z[v] = w * K >> $, z[v + 1] = x * K >> $, z[v + 2] = T * K >> $, z[v + 3] = C * K >> $, w -= I, x -= S, T -= O, C -= E, I -= q.r, S -= q.g, O -= q.b, E -= q.a, v = d + ((v = g + U) < V ? v : V) * r << 2, w += P += q.r = z[v], x += M += q.g = z[v + 1], T += k += q.b = z[v + 2], C += L += q.a = z[v + 3], q = q.next, I += A = Y.r, S += R = Y.g, O += N = Y.b, E += j = Y.a, P -= A, M -= R, k -= N, L -= j, Y = Y.next, y += r
                }
                s(u), p.putImageData(u, e, n)
            }
        }

        function l(t, e, n, r, i, o) {
            if (!(isNaN(o) || o < 1)) {
                o |= 0;
                var s, a = document.getElementById(t),
                    u = a.getContext("2d");
                try {
                    try {
                        s = u.getImageData(e, n, r, i)
                    } catch (t) {
                        try {
                            netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"), s = u.getImageData(e, n, r, i)
                        } catch (t) {
                            throw alert("Cannot access local image"), new Error("unable to access local image data: " + t)
                        }
                    }
                } catch (t) {
                    throw alert("Cannot access image"), new Error("unable to access image data: " + t)
                }
                var l, p, d, g, m, v, b, y, _, w, x, T, C, I, S, O, E, P, M, k, L = s.data,
                    A = o + o + 1,
                    R = r - 1,
                    N = i - 1,
                    j = o + 1,
                    B = j * (j + 1) / 2,
                    z = new c,
                    D = z;
                for (d = 1; d < A; d++)
                    if (D = D.next = new c, d == j) var F = D;
                D.next = z;
                var V = null,
                    U = null;
                b = v = 0;
                var H = h[o],
                    G = f[o];
                for (p = 0; p < i; p++) {
                    for (I = S = O = y = _ = w = 0, x = j * (E = L[v]), T = j * (P = L[v + 1]), C = j * (M = L[v + 2]), y += B * E, _ += B * P, w += B * M, D = z, d = 0; d < j; d++) D.r = E, D.g = P, D.b = M, D = D.next;
                    for (d = 1; d < j; d++) g = v + ((R < d ? R : d) << 2), y += (D.r = E = L[g]) * (k = j - d), _ += (D.g = P = L[g + 1]) * k, w += (D.b = M = L[g + 2]) * k, I += E, S += P, O += M, D = D.next;
                    for (V = z, U = F, l = 0; l < r; l++) L[v] = y * H >> G, L[v + 1] = _ * H >> G, L[v + 2] = w * H >> G, y -= x, _ -= T, w -= C, x -= V.r, T -= V.g, C -= V.b, g = b + ((g = l + o + 1) < R ? g : R) << 2, I += V.r = L[g], S += V.g = L[g + 1], O += V.b = L[g + 2], y += I, _ += S, w += O, V = V.next, x += E = U.r, T += P = U.g, C += M = U.b, I -= E, S -= P, O -= M, U = U.next, v += 4;
                    b += r
                }
                for (l = 0; l < r; l++) {
                    for (S = O = I = _ = w = y = 0, v = l << 2, x = j * (E = L[v]), T = j * (P = L[v + 1]), C = j * (M = L[v + 2]), y += B * E, _ += B * P, w += B * M, D = z, d = 0; d < j; d++) D.r = E, D.g = P, D.b = M, D = D.next;
                    for (m = r, d = 1; d <= o; d++) v = m + l << 2, y += (D.r = E = L[v]) * (k = j - d), _ += (D.g = P = L[v + 1]) * k, w += (D.b = M = L[v + 2]) * k, I += E, S += P, O += M, D = D.next, d < N && (m += r);
                    for (v = l, V = z, U = F, p = 0; p < i; p++) g = v << 2, L[g] = y * H >> G, L[g + 1] = _ * H >> G, L[g + 2] = w * H >> G, y -= x, _ -= T, w -= C, x -= V.r, T -= V.g, C -= V.b, g = l + ((g = p + j) < N ? g : N) * r << 2, y += I += V.r = L[g], _ += S += V.g = L[g + 1], w += O += V.b = L[g + 2], V = V.next, x += E = U.r, T += P = U.g, C += M = U.b, I -= E, S -= P, O -= M, U = U.next, v += r
                }
                u.putImageData(s, e, n)
            }
        }

        function c() {
            this.r = 0, this.g = 0, this.b = 0, this.a = 0, this.next = null
        }
        var h = [512, 512, 456, 512, 328, 456, 335, 512, 405, 328, 271, 456, 388, 335, 292, 512, 454, 405, 364, 328, 298, 271, 496, 456, 420, 388, 360, 335, 312, 292, 273, 512, 482, 454, 428, 405, 383, 364, 345, 328, 312, 298, 284, 271, 259, 496, 475, 456, 437, 420, 404, 388, 374, 360, 347, 335, 323, 312, 302, 292, 282, 273, 265, 512, 497, 482, 468, 454, 441, 428, 417, 405, 394, 383, 373, 364, 354, 345, 337, 328, 320, 312, 305, 298, 291, 284, 278, 271, 265, 259, 507, 496, 485, 475, 465, 456, 446, 437, 428, 420, 412, 404, 396, 388, 381, 374, 367, 360, 354, 347, 341, 335, 329, 323, 318, 312, 307, 302, 297, 292, 287, 282, 278, 273, 269, 265, 261, 512, 505, 497, 489, 482, 475, 468, 461, 454, 447, 441, 435, 428, 422, 417, 411, 405, 399, 394, 389, 383, 378, 373, 368, 364, 359, 354, 350, 345, 341, 337, 332, 328, 324, 320, 316, 312, 309, 305, 301, 298, 294, 291, 287, 284, 281, 278, 274, 271, 268, 265, 262, 259, 257, 507, 501, 496, 491, 485, 480, 475, 470, 465, 460, 456, 451, 446, 442, 437, 433, 428, 424, 420, 416, 412, 408, 404, 400, 396, 392, 388, 385, 381, 377, 374, 370, 367, 363, 360, 357, 354, 350, 347, 344, 341, 338, 335, 332, 329, 326, 323, 320, 318, 315, 312, 310, 307, 304, 302, 299, 297, 294, 292, 289, 287, 285, 282, 280, 278, 275, 273, 271, 269, 267, 265, 263, 261, 259],
            f = [9, 11, 12, 13, 13, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 17, 17, 17, 17, 17, 17, 17, 18, 18, 18, 18, 18, 18, 18, 18, 18, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24],
            p = {
                image: a,
                canvasRGBA: u,
                canvasRGB: l
            };
        void 0 !== (r = function() {
            return p
        }.call(e, n, e, t)) && (t.exports = r), i.stackBlur = p
    }("undefined" != typeof window ? window : this)
}, function(t, e, n) {
    "use strict";
    var r = this && this.__extends || function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                })(e, n)
        };
        return function(e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.RichText = void 0;
    var i = n(19),
        o = n(208),
        s = n(26),
        a = n(11),
        u = function(t) {
            function e() {
                var e = t.call(this) || this;
                return e.text = "", e.font = null, e.type = i.LogoItem.RICH_TEXT, e
            }
            return r(e, t), Object.defineProperty(e.prototype, "maths", {
                get: function() {
                    return this._maths
                },
                set: function(t) {
                    this._maths = t
                },
                enumerable: !1,
                configurable: !0
            }), e.prototype.serialize = function() {
                var t = {
                    id: this.id,
                    type: this.type,
                    group: this.group,
                    fontId: this.font.id,
                    maths: this.maths.serialize(),
                    text: this.text,
                    fill: a.Fill.serialize(this.fill),
                    blendMode: this.blendMode
                };
                return JSON.stringify(t)
            }, e.deserialize = function(t) {
                var n = new e;
                return n.id = t.i, n.group = t.g, n.text = t.tt, n.maths = o.RichTextMaths.deserialize(t.m), n.font = s.Font.fromId(t.ft), n.blendMode = t.bm, n._source = n.clone(), n
            }, e.deserializeNg = function(t) {
                var n = new e;
                return n.id = t.id, n.group = t.group, n.text = t.text, n.maths = o.RichTextMaths.deserialize(t.maths), n.font = s.Font.fromId(t.font_id), n.blendMode = t.blendMode, n._source = n.clone(), n
            }, e.prototype.clone = function() {
                var t = new e;
                return t.id = this.id, t.uid = this.uid, t.group = this.group, t.bounds = this._bounds ? this._bounds.clone() : null, t.maths = this.maths ? this.maths.clone() : null, t.fill = this.fill ? this.fill.clone() : null, t.text = this.text, t.font = this.font ? this.font : null, t.blendMode = this.blendMode, t
            }, e.prototype.hasChanges = function() {
                return t.prototype.hasChanges.call(this) || this.text !== this._source.text || this.font.id !== this._source.font.id
            }, e.prototype.debug = function() {
                var e = t.prototype.debug.call(this);
                return "Type: Rich text\nFontId: " + this.font.id + "\nFontName: " + this.font.fontFamily + "\n" + e + "\n"
            }, e.prototype.equals = function(e, n) {
                return void 0 === n && (n = !1), !!t.prototype.equals.call(this, e, n) && this.text === e.text && this.font.equals(e.font)
            }, e
        }(i.LogoItem);
    e.RichText = u
}, function(t, e, n) {
    "use strict";
    var r = this && this.__extends || function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                })(e, n)
        };
        return function(e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.RichTextMaths = void 0;
    var i = n(20),
        o = n(7),
        s = n(14),
        a = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.charMatrices = [], e.bgShape = null, e.bgWidth = null, e.bgHeight = null, e.bgInner = null, e.bgCornerRadius = null, e.bgInnerAlign = null, e
            }
            return r(e, t), e.prototype.serialize = function() {
                var t = this.matrix.serialize();
                this.bgShape == e.SHAPE_RECTANGLE || this.bgShape == e.SHAPE_CIRCLE ? (t += "\n" + this.bgShape + " " + this.bgWidth + " " + this.bgHeight + " " + this.bgInner.x + " " + this.bgInner.y + " " + this.bgInner.width + " " + this.bgInner.height, this.bgInnerAlign && (t += " " + this.bgInnerAlign)) : this.bgShape == e.SHAPE_ROUNDED_RECTANGLE && (t += "\n" + this.bgShape + " " + this.bgWidth + " " + this.bgHeight + " " + this.bgCornerRadius + " " + this.bgInner.x + " " + this.bgInner.y + " " + this.bgInner.width + " " + this.bgInner.height, this.bgInnerAlign && (t += " " + this.bgInnerAlign));
                for (var n = 0, r = this.charMatrices; n < r.length; n++) {
                    t += "\n" + r[n].serialize()
                }
                return t
            }, e.deserialize = function(t) {
                var n = new e,
                    r = t.split("\n");
                n.matrix = o.Matrix.deserialize(r[0]);
                var i = r[1].split(" ");
                i[0] == e.SHAPE_RECTANGLE || i[0] == e.SHAPE_CIRCLE ? (n.bgShape = i[0], n.bgWidth = Number(i[1]), n.bgHeight = Number(i[2]), n.bgInner = new s.Rectangle(Number(i[3]), Number(i[4]), Number(i[5]), Number(i[6])), void 0 !== i[7] && (n.bgInnerAlign = i[7])) : i[0] == e.SHAPE_ROUNDED_RECTANGLE && (n.bgShape = i[0], n.bgWidth = Number(i[1]), n.bgHeight = Number(i[2]), n.bgCornerRadius = Number(i[3]), n.bgInner = new s.Rectangle(Number(i[4]), Number(i[5]), Number(i[6]), Number(i[7])), void 0 !== i[8] && (n.bgInnerAlign = i[8]));
                var a = 1;
                for (null !== n.bgShape && (a = 2), a; a < r.length; a++) {
                    var u = r[a],
                        l = o.Matrix.deserialize(u);
                    n.charMatrices.push(l)
                }
                return n
            }, e.prototype.clone = function() {
                return e.deserialize(this.serialize())
            }, e.prototype.equals = function(t) {
                throw new Error("Needed to implement after using RichTextMaths")
            }, e.SHAPE_RECTANGLE = "r", e.SHAPE_ROUNDED_RECTANGLE = "rr", e.SHAPE_CIRCLE = "c", e
        }(i.Maths);
    e.RichTextMaths = a
}, function(t, e, n) {
    "use strict";
    var r = this && this.__extends || function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                })(e, n)
        };
        return function(e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.TextIcon = void 0;
    var i = n(19),
        o = function(t) {
            function e() {
                var e = t.call(this) || this;
                return e.text = null, e.font = null, e.cornerRadius = 0, e.svg = null, e.type = i.LogoItem.TEXT_ICON, e.cornerRadius = 1, e
            }
            return r(e, t), e.prototype.debug = function() {
                var e = t.prototype.debug.call(this);
                return "Type: Text icon\nFontId: " + this.font.id + "\nFontName: " + this.font.fontFamily + "\n" + e + "\n"
            }, e.prototype.equals = function(e, n) {
                return void 0 === n && (n = !1), !!t.prototype.equals.call(this, e, n) && this.text === e.text && this.font.equals(e.font) && this.cornerRadius === e.cornerRadius && this.svg === e.svg
            }, e
        }(i.LogoItem);
    e.TextIcon = o
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.BrandHttpManager = void 0;
    var r = n(211),
        i = n(126),
        o = n(13),
        s = n(98),
        a = function() {
            function t() {}
            return t.prototype.canGetLocal = function(t, e) {
                return void 0 === e && (e = !1), !0
            }, t.prototype.get = function(t) {
                return r.ajax.getJSON("" + o.Site.ACCOUNT_SOURCE_URL + t + "/?p=" + s())
            }, t.prototype.getBusinessCard = function(t) {
                return r.ajax.getJSON("" + o.Site.BC_SOURCE_URL + t + "/")
            }, t.prototype.getAll = function() {
                return r.ajax.getJSON(o.Site.BRANDS_URL)
            }, t.prototype.create = function(t) {
                return r.ajax.post(o.Site.UPDATE_BRAND_URL, t.serialize(), {
                    "Content-Type": "application/json"
                }).pipe(i.map(function(t) {
                    return t.response
                }))
            }, t.prototype.update = function(t, e) {
                return r.ajax.patch("" + o.Site.UPDATE_BRAND_URL + t + "/", e, {
                    "Content-Type": "application/json"
                }).pipe(i.map(function(t) {
                    return t.response.brandId
                }))
            }, t.prototype.updateProduct = function(t, e) {
                return r.ajax.put(e, t.serialize(), {
                    "Content-Type": "application/json"
                }).pipe(i.map(function(t) {
                    return t.response
                }))
            }, t.prototype.updateLogosStatus = function(t) {
                return r.ajax.patch("" + o.Site.UPDATE_STATUS_URL, JSON.stringify(t), {
                    "Content-Type": "application/json"
                }).pipe(i.map(function(t) {
                    return t.response
                }))
            }, t.prototype.clone = function(t, e) {
                return void 0 === e && (e = null), r.ajax.post("" + o.Site.CLONE_BRAND_URL + t + "/", {
                    hash: e
                }).pipe(i.map(function(t) {
                    return t.response
                }))
            }, t.prototype.delete = function(t, e) {
                return void 0 === e && (e = null), r.ajax.post("" + o.Site.DELETE_BRAND_URL + t + "/", {
                    hash: e
                }).pipe(i.map(function(t) {
                    return t.response
                }))
            }, t.prototype.deleteFromFavorites = function(t) {
                return r.ajax.delete("" + o.Site.UPDATE_BRAND_URL + t.id).pipe(i.map(function(t) {
                    return t.response
                }))
            }, t.prototype.initData = function() {
                return r.ajax.getJSON(o.Site.HASH_URL() + "?p=" + s())
            }, t
        }();
    e.BrandHttpManager = a
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(212);
    n.d(e, "ajax", function() {
        return r.a
    });
    var i = n(123);
    n.d(e, "AjaxResponse", function() {
        return i.c
    }), n.d(e, "AjaxError", function() {
        return i.a
    }), n.d(e, "AjaxTimeoutError", function() {
        return i.d
    })
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return i
    });
    var r = n(123),
        i = function() {
            return r.b.create
        }()
}, function(t, e, n) {
    "use strict";
    (function(t) {
        n.d(e, "a", function() {
            return s
        });
        var r = "undefined" != typeof window && window,
            i = "undefined" != typeof self && "undefined" != typeof WorkerGlobalScope && self instanceof WorkerGlobalScope && self,
            o = void 0 !== t && t,
            s = r || o || i
    }).call(e, n(77))
}, function(t, e, n) {
    "use strict";

    function r(t, e, n) {
        if (t) {
            if (t instanceof i.a) return t;
            if (t[o.a]) return t[o.a]()
        }
        return t || e || n ? new i.a(t, e, n) : new i.a(s.a)
    }
    e.a = r;
    var i = n(1),
        o = n(82),
        s = n(124)
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return i
    });
    var r = n(80),
        i = function(t) {
            return function(e) {
                return t.then(function(t) {
                    e.closed || (e.next(t), e.complete())
                }, function(t) {
                    return e.error(t)
                }).then(null, r.a), e
            }
        }
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return i
    });
    var r = n(43),
        i = function(t) {
            return function(e) {
                for (var n = t[r.a]();;) {
                    var i = n.next();
                    if (i.done) {
                        e.complete();
                        break
                    }
                    if (e.next(i.value), e.closed) break
                }
                return "function" == typeof n.return && e.add(function() {
                    n.return && n.return()
                }), e
            }
        }
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return i
    });
    var r = n(33),
        i = function(t) {
            return function(e) {
                var n = t[r.a]();
                if ("function" != typeof n.subscribe) throw new TypeError("Provided object does not correctly implement Symbol.observable");
                return n.subscribe(e)
            }
        }
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return void 0 === e && (e = i.a), Object(o.a)(function() {
            return Object(s.a)(t, e)
        })
    }
    e.a = r;
    var i = n(16),
        o = n(127),
        s = n(132)
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return o
    });
    var r = n(0),
        i = n(10),
        o = function(t) {
            function e(e, n) {
                return t.call(this) || this
            }
            return r.a(e, t), e.prototype.schedule = function(t, e) {
                return void 0 === e && (e = 0), this
            }, e
        }(i.a)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return function(e) {
            return e.lift(new a(t))
        }
    }
    e.a = r;
    var i = n(0),
        o = n(3),
        s = n(4),
        a = function() {
            function t(t) {
                this.closingNotifier = t
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new u(t, this.closingNotifier))
            }, t
        }(),
        u = function(t) {
            function e(e, n) {
                var r = t.call(this, e) || this;
                return r.buffer = [], r.add(Object(s.a)(r, n)), r
            }
            return i.a(e, t), e.prototype._next = function(t) {
                this.buffer.push(t)
            }, e.prototype.notifyNext = function(t, e, n, r, i) {
                var o = this.buffer;
                this.buffer = [], this.destination.next(o)
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return void 0 === e && (e = null),
            function(n) {
                return n.lift(new s(t, e))
            }
    }
    e.a = r;
    var i = n(0),
        o = n(1),
        s = function() {
            function t(t, e) {
                this.bufferSize = t, this.startBufferEvery = e, this.subscriberClass = e && t !== e ? u : a
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new this.subscriberClass(t, this.bufferSize, this.startBufferEvery))
            }, t
        }(),
        a = function(t) {
            function e(e, n) {
                var r = t.call(this, e) || this;
                return r.bufferSize = n, r.buffer = [], r
            }
            return i.a(e, t), e.prototype._next = function(t) {
                var e = this.buffer;
                e.push(t), e.length == this.bufferSize && (this.destination.next(e), this.buffer = [])
            }, e.prototype._complete = function() {
                var e = this.buffer;
                e.length > 0 && this.destination.next(e), t.prototype._complete.call(this)
            }, e
        }(o.a),
        u = function(t) {
            function e(e, n, r) {
                var i = t.call(this, e) || this;
                return i.bufferSize = n, i.startBufferEvery = r, i.buffers = [], i.count = 0, i
            }
            return i.a(e, t), e.prototype._next = function(t) {
                var e = this,
                    n = e.bufferSize,
                    r = e.startBufferEvery,
                    i = e.buffers,
                    o = e.count;
                this.count++, o % r == 0 && i.push([]);
                for (var s = i.length; s--;) {
                    var a = i[s];
                    a.push(t), a.length === n && (i.splice(s, 1), this.destination.next(a))
                }
            }, e.prototype._complete = function() {
                for (var e = this, n = e.buffers, r = e.destination; n.length > 0;) {
                    var i = n.shift();
                    i.length > 0 && r.next(i)
                }
                t.prototype._complete.call(this)
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        var e = arguments.length,
            n = u.a;
        Object(c.a)(arguments[arguments.length - 1]) && (n = arguments[arguments.length - 1], e--);
        var r = null;
        e >= 2 && (r = arguments[1]);
        var i = Number.POSITIVE_INFINITY;
        return e >= 3 && (i = arguments[2]),
            function(e) {
                return e.lift(new h(t, r, i, n))
            }
    }

    function i(t) {
        var e = t.subscriber,
            n = t.context;
        n && e.closeContext(n), e.closed || (t.context = e.openContext(), t.context.closeAction = this.schedule(t, t.bufferTimeSpan))
    }

    function o(t) {
        var e = t.bufferCreationInterval,
            n = t.bufferTimeSpan,
            r = t.subscriber,
            i = t.scheduler,
            o = r.openContext(),
            a = this;
        r.closed || (r.add(o.closeAction = i.schedule(s, n, {
            subscriber: r,
            context: o
        })), a.schedule(t, e))
    }

    function s(t) {
        var e = t.subscriber,
            n = t.context;
        e.closeContext(n)
    }
    e.a = r;
    var a = n(0),
        u = n(16),
        l = n(1),
        c = n(22),
        h = function() {
            function t(t, e, n, r) {
                this.bufferTimeSpan = t, this.bufferCreationInterval = e, this.maxBufferSize = n, this.scheduler = r
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new p(t, this.bufferTimeSpan, this.bufferCreationInterval, this.maxBufferSize, this.scheduler))
            }, t
        }(),
        f = function() {
            function t() {
                this.buffer = []
            }
            return t
        }(),
        p = function(t) {
            function e(e, n, r, a, u) {
                var l = t.call(this, e) || this;
                l.bufferTimeSpan = n, l.bufferCreationInterval = r, l.maxBufferSize = a, l.scheduler = u, l.contexts = [];
                var c = l.openContext();
                if (l.timespanOnly = null == r || r < 0, l.timespanOnly) {
                    var h = {
                        subscriber: l,
                        context: c,
                        bufferTimeSpan: n
                    };
                    l.add(c.closeAction = u.schedule(i, n, h))
                } else {
                    var f = {
                            subscriber: l,
                            context: c
                        },
                        p = {
                            bufferTimeSpan: n,
                            bufferCreationInterval: r,
                            subscriber: l,
                            scheduler: u
                        };
                    l.add(c.closeAction = u.schedule(s, n, f)), l.add(u.schedule(o, r, p))
                }
                return l
            }
            return a.a(e, t), e.prototype._next = function(t) {
                for (var e, n = this.contexts, r = n.length, i = 0; i < r; i++) {
                    var o = n[i],
                        s = o.buffer;
                    s.push(t), s.length == this.maxBufferSize && (e = o)
                }
                e && this.onBufferFull(e)
            }, e.prototype._error = function(e) {
                this.contexts.length = 0, t.prototype._error.call(this, e)
            }, e.prototype._complete = function() {
                for (var e = this, n = e.contexts, r = e.destination; n.length > 0;) {
                    var i = n.shift();
                    r.next(i.buffer)
                }
                t.prototype._complete.call(this)
            }, e.prototype._unsubscribe = function() {
                this.contexts = null
            }, e.prototype.onBufferFull = function(t) {
                this.closeContext(t);
                var e = t.closeAction;
                if (e.unsubscribe(), this.remove(e), !this.closed && this.timespanOnly) {
                    t = this.openContext();
                    var n = this.bufferTimeSpan,
                        r = {
                            subscriber: this,
                            context: t,
                            bufferTimeSpan: n
                        };
                    this.add(t.closeAction = this.scheduler.schedule(i, n, r))
                }
            }, e.prototype.openContext = function() {
                var t = new f;
                return this.contexts.push(t), t
            }, e.prototype.closeContext = function(t) {
                this.destination.next(t.buffer);
                var e = this.contexts;
                (e ? e.indexOf(t) : -1) >= 0 && e.splice(e.indexOf(t), 1)
            }, e
        }(l.a)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return function(n) {
            return n.lift(new u(t, e))
        }
    }
    e.a = r;
    var i = n(0),
        o = n(10),
        s = n(4),
        a = n(3),
        u = function() {
            function t(t, e) {
                this.openings = t, this.closingSelector = e
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new l(t, this.openings, this.closingSelector))
            }, t
        }(),
        l = function(t) {
            function e(e, n, r) {
                var i = t.call(this, e) || this;
                return i.openings = n, i.closingSelector = r, i.contexts = [], i.add(Object(s.a)(i, n)), i
            }
            return i.a(e, t), e.prototype._next = function(t) {
                for (var e = this.contexts, n = e.length, r = 0; r < n; r++) e[r].buffer.push(t)
            }, e.prototype._error = function(e) {
                for (var n = this.contexts; n.length > 0;) {
                    var r = n.shift();
                    r.subscription.unsubscribe(), r.buffer = null, r.subscription = null
                }
                this.contexts = null, t.prototype._error.call(this, e)
            }, e.prototype._complete = function() {
                for (var e = this.contexts; e.length > 0;) {
                    var n = e.shift();
                    this.destination.next(n.buffer), n.subscription.unsubscribe(), n.buffer = null, n.subscription = null
                }
                this.contexts = null, t.prototype._complete.call(this)
            }, e.prototype.notifyNext = function(t, e, n, r, i) {
                t ? this.closeBuffer(t) : this.openBuffer(e)
            }, e.prototype.notifyComplete = function(t) {
                this.closeBuffer(t.context)
            }, e.prototype.openBuffer = function(t) {
                try {
                    var e = this.closingSelector,
                        n = e.call(this, t);
                    n && this.trySubscribe(n)
                } catch (t) {
                    this._error(t)
                }
            }, e.prototype.closeBuffer = function(t) {
                var e = this.contexts;
                if (e && t) {
                    var n = t.buffer,
                        r = t.subscription;
                    this.destination.next(n), e.splice(e.indexOf(t), 1), this.remove(r), r.unsubscribe()
                }
            }, e.prototype.trySubscribe = function(t) {
                var e = this.contexts,
                    n = [],
                    r = new o.a,
                    i = {
                        buffer: n,
                        subscription: r
                    };
                e.push(i);
                var a = Object(s.a)(this, t, i);
                !a || a.closed ? this.closeBuffer(i) : (a.context = i, this.add(a), r.add(a))
            }, e
        }(a.a)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return function(e) {
            return e.lift(new u(t))
        }
    }
    e.a = r;
    var i = n(0),
        o = n(10),
        s = n(3),
        a = n(4),
        u = function() {
            function t(t) {
                this.closingSelector = t
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new l(t, this.closingSelector))
            }, t
        }(),
        l = function(t) {
            function e(e, n) {
                var r = t.call(this, e) || this;
                return r.closingSelector = n, r.subscribing = !1, r.openBuffer(), r
            }
            return i.a(e, t), e.prototype._next = function(t) {
                this.buffer.push(t)
            }, e.prototype._complete = function() {
                var e = this.buffer;
                e && this.destination.next(e), t.prototype._complete.call(this)
            }, e.prototype._unsubscribe = function() {
                this.buffer = null, this.subscribing = !1
            }, e.prototype.notifyNext = function(t, e, n, r, i) {
                this.openBuffer()
            }, e.prototype.notifyComplete = function() {
                this.subscribing ? this.complete() : this.openBuffer()
            }, e.prototype.openBuffer = function() {
                var t = this.closingSubscription;
                t && (this.remove(t), t.unsubscribe());
                var e = this.buffer;
                this.buffer && this.destination.next(e), this.buffer = [];
                var n;
                try {
                    n = (0, this.closingSelector)()
                } catch (t) {
                    return this.error(t)
                }
                t = new o.a, this.closingSubscription = t, this.add(t), this.subscribing = !0, t.add(Object(a.a)(this, n)), this.subscribing = !1
            }, e
        }(s.a)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return function(e) {
            var n = new u(t),
                r = e.lift(n);
            return n.caught = r
        }
    }
    e.a = r;
    var i = n(0),
        o = n(3),
        s = n(30),
        a = n(4),
        u = function() {
            function t(t) {
                this.selector = t
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new l(t, this.selector, this.caught))
            }, t
        }(),
        l = function(t) {
            function e(e, n, r) {
                var i = t.call(this, e) || this;
                return i.selector = n, i.caught = r, i
            }
            return i.a(e, t), e.prototype.error = function(e) {
                if (!this.isStopped) {
                    var n = void 0;
                    try {
                        n = this.selector(e, this.caught)
                    } catch (e) {
                        return void t.prototype.error.call(this, e)
                    }
                    this._unsubscribeAndRecycle();
                    var r = new s.a(this, void 0, void 0);
                    this.add(r);
                    var i = Object(a.a)(this, n, void 0, void 0, r);
                    i !== r && this.add(i)
                }
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return function(e) {
            return e.lift(new i.a(t))
        }
    }
    e.a = r;
    var i = n(85)
}, function(t, e, n) {
    "use strict";

    function r() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        var n = null;
        return "function" == typeof t[t.length - 1] && (n = t.pop()), 1 === t.length && Object(i.a)(t[0]) && (t = t[0].slice()),
            function(e) {
                return e.lift.call(Object(s.a)([e].concat(t)), new o.a(n))
            }
    }
    e.a = r;
    var i = n(15),
        o = n(85),
        s = n(23)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return new i.a(function(n) {
            var r = new o.a;
            return r.add(e.schedule(function() {
                var i = t[s.a]();
                r.add(i.subscribe({
                    next: function(t) {
                        r.add(e.schedule(function() {
                            return n.next(t)
                        }))
                    },
                    error: function(t) {
                        r.add(e.schedule(function() {
                            return n.error(t)
                        }))
                    },
                    complete: function() {
                        r.add(e.schedule(function() {
                            return n.complete()
                        }))
                    }
                }))
            })), r
        })
    }
    e.a = r;
    var i = n(2),
        o = n(10),
        s = n(33)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return new i.a(function(n) {
            var r = new o.a;
            return r.add(e.schedule(function() {
                return t.then(function(t) {
                    r.add(e.schedule(function() {
                        n.next(t), r.add(e.schedule(function() {
                            return n.complete()
                        }))
                    }))
                }, function(t) {
                    r.add(e.schedule(function() {
                        return n.error(t)
                    }))
                })
            })), r
        })
    }
    e.a = r;
    var i = n(2),
        o = n(10)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        if (!t) throw new Error("Iterable cannot be null");
        return new i.a(function(n) {
            var r, i = new o.a;
            return i.add(function() {
                r && "function" == typeof r.return && r.return()
            }), i.add(e.schedule(function() {
                r = t[s.a](), i.add(e.schedule(function() {
                    if (!n.closed) {
                        var t, e;
                        try {
                            var i = r.next();
                            t = i.value, e = i.done
                        } catch (t) {
                            return void n.error(t)
                        }
                        e ? n.complete() : (n.next(t), this.schedule())
                    }
                }))
            })), i
        })
    }
    e.a = r;
    var i = n(2),
        o = n(10),
        s = n(43)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && "function" == typeof t[i.a]
    }
    e.a = r;
    var i = n(33)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t && "function" == typeof t[i.a]
    }
    e.a = r;
    var i = n(43)
}, function(t, e, n) {
    "use strict";

    function r() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        return function(e) {
            return e.lift.call(i.a.apply(void 0, [e].concat(t)))
        }
    }
    e.a = r;
    var i = n(63)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return Object(i.a)(function() {
            return t
        }, e)
    }
    e.a = r;
    var i = n(135)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return function(e) {
            return e.lift(new s(t, e))
        }
    }
    e.a = r;
    var i = n(0),
        o = n(1),
        s = function() {
            function t(t, e) {
                this.predicate = t, this.source = e
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new a(t, this.predicate, this.source))
            }, t
        }(),
        a = function(t) {
            function e(e, n, r) {
                var i = t.call(this, e) || this;
                return i.predicate = n, i.source = r, i.count = 0, i.index = 0, i
            }
            return i.a(e, t), e.prototype._next = function(t) {
                this.predicate ? this._tryPredicate(t) : this.count++
            }, e.prototype._tryPredicate = function(t) {
                var e;
                try {
                    e = this.predicate(t, this.index++, this.source)
                } catch (t) {
                    return void this.destination.error(t)
                }
                e && this.count++
            }, e.prototype._complete = function() {
                this.destination.next(this.count), this.destination.complete()
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return function(e) {
            return e.lift(new a(t))
        }
    }
    e.a = r;
    var i = n(0),
        o = n(3),
        s = n(4),
        a = function() {
            function t(t) {
                this.durationSelector = t
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new u(t, this.durationSelector))
            }, t
        }(),
        u = function(t) {
            function e(e, n) {
                var r = t.call(this, e) || this;
                return r.durationSelector = n, r.hasValue = !1, r.durationSubscription = null, r
            }
            return i.a(e, t), e.prototype._next = function(t) {
                try {
                    var e = this.durationSelector.call(this, t);
                    e && this._tryNext(t, e)
                } catch (t) {
                    this.destination.error(t)
                }
            }, e.prototype._complete = function() {
                this.emitValue(), this.destination.complete()
            }, e.prototype._tryNext = function(t, e) {
                var n = this.durationSubscription;
                this.value = t, this.hasValue = !0, n && (n.unsubscribe(), this.remove(n)), (n = Object(s.a)(this, e)) && !n.closed && this.add(this.durationSubscription = n)
            }, e.prototype.notifyNext = function(t, e, n, r, i) {
                this.emitValue()
            }, e.prototype.notifyComplete = function() {
                this.emitValue()
            }, e.prototype.emitValue = function() {
                if (this.hasValue) {
                    var e = this.value,
                        n = this.durationSubscription;
                    n && (this.durationSubscription = null, n.unsubscribe(), this.remove(n)), this.value = null, this.hasValue = !1, t.prototype._next.call(this, e)
                }
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return void 0 === e && (e = a.a),
            function(n) {
                return n.lift(new u(t, e))
            }
    }

    function i(t) {
        t.debouncedNext()
    }
    e.a = r;
    var o = n(0),
        s = n(1),
        a = n(16),
        u = function() {
            function t(t, e) {
                this.dueTime = t, this.scheduler = e
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new l(t, this.dueTime, this.scheduler))
            }, t
        }(),
        l = function(t) {
            function e(e, n, r) {
                var i = t.call(this, e) || this;
                return i.dueTime = n, i.scheduler = r, i.debouncedSubscription = null, i.lastValue = null, i.hasValue = !1, i
            }
            return o.a(e, t), e.prototype._next = function(t) {
                this.clearDebounce(), this.lastValue = t, this.hasValue = !0, this.add(this.debouncedSubscription = this.scheduler.schedule(i, this.dueTime, this))
            }, e.prototype._complete = function() {
                this.debouncedNext(), this.destination.complete()
            }, e.prototype.debouncedNext = function() {
                if (this.clearDebounce(), this.hasValue) {
                    var t = this.lastValue;
                    this.lastValue = null, this.hasValue = !1, this.destination.next(t)
                }
            }, e.prototype.clearDebounce = function() {
                var t = this.debouncedSubscription;
                null !== t && (this.remove(t), t.unsubscribe(), this.debouncedSubscription = null)
            }, e
        }(s.a)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        void 0 === e && (e = o.a);
        var n = Object(s.a)(t),
            r = n ? +t - e.now() : Math.abs(t);
        return function(t) {
            return t.lift(new l(r, e))
        }
    }
    e.a = r;
    var i = n(0),
        o = n(16),
        s = n(136),
        a = n(1),
        u = n(65),
        l = function() {
            function t(t, e) {
                this.delay = t, this.scheduler = e
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new c(t, this.delay, this.scheduler))
            }, t
        }(),
        c = function(t) {
            function e(e, n, r) {
                var i = t.call(this, e) || this;
                return i.delay = n, i.scheduler = r, i.queue = [], i.active = !1, i.errored = !1, i
            }
            return i.a(e, t), e.dispatch = function(t) {
                for (var e = t.source, n = e.queue, r = t.scheduler, i = t.destination; n.length > 0 && n[0].time - r.now() <= 0;) n.shift().notification.observe(i);
                if (n.length > 0) {
                    var o = Math.max(0, n[0].time - r.now());
                    this.schedule(t, o)
                } else this.unsubscribe(), e.active = !1
            }, e.prototype._schedule = function(t) {
                this.active = !0, this.destination.add(t.schedule(e.dispatch, this.delay, {
                    source: this,
                    destination: this.destination,
                    scheduler: t
                }))
            }, e.prototype.scheduleNotification = function(t) {
                if (!0 !== this.errored) {
                    var e = this.scheduler,
                        n = new h(e.now() + this.delay, t);
                    this.queue.push(n), !1 === this.active && this._schedule(e)
                }
            }, e.prototype._next = function(t) {
                this.scheduleNotification(u.a.createNext(t))
            }, e.prototype._error = function(t) {
                this.errored = !0, this.queue = [], this.destination.error(t), this.unsubscribe()
            }, e.prototype._complete = function() {
                this.scheduleNotification(u.a.createComplete()), this.unsubscribe()
            }, e
        }(a.a),
        h = function() {
            function t(t, e) {
                this.time = t, this.notification = e
            }
            return t
        }()
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return e ? function(n) {
            return new h(n, e).lift(new l(t))
        } : function(e) {
            return e.lift(new l(t))
        }
    }
    e.a = r;
    var i = n(0),
        o = n(1),
        s = n(2),
        a = n(3),
        u = n(4),
        l = function() {
            function t(t) {
                this.delayDurationSelector = t
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new c(t, this.delayDurationSelector))
            }, t
        }(),
        c = function(t) {
            function e(e, n) {
                var r = t.call(this, e) || this;
                return r.delayDurationSelector = n, r.completed = !1, r.delayNotifierSubscriptions = [], r.index = 0, r
            }
            return i.a(e, t), e.prototype.notifyNext = function(t, e, n, r, i) {
                this.destination.next(t), this.removeSubscription(i), this.tryComplete()
            }, e.prototype.notifyError = function(t, e) {
                this._error(t)
            }, e.prototype.notifyComplete = function(t) {
                var e = this.removeSubscription(t);
                e && this.destination.next(e), this.tryComplete()
            }, e.prototype._next = function(t) {
                var e = this.index++;
                try {
                    var n = this.delayDurationSelector(t, e);
                    n && this.tryDelay(n, t)
                } catch (t) {
                    this.destination.error(t)
                }
            }, e.prototype._complete = function() {
                this.completed = !0, this.tryComplete(), this.unsubscribe()
            }, e.prototype.removeSubscription = function(t) {
                t.unsubscribe();
                var e = this.delayNotifierSubscriptions.indexOf(t);
                return -1 !== e && this.delayNotifierSubscriptions.splice(e, 1), t.outerValue
            }, e.prototype.tryDelay = function(t, e) {
                var n = Object(u.a)(this, t, e);
                if (n && !n.closed) {
                    this.destination.add(n), this.delayNotifierSubscriptions.push(n)
                }
            }, e.prototype.tryComplete = function() {
                this.completed && 0 === this.delayNotifierSubscriptions.length && this.destination.complete()
            }, e
        }(a.a),
        h = function(t) {
            function e(e, n) {
                var r = t.call(this) || this;
                return r.source = e, r.subscriptionDelay = n, r
            }
            return i.a(e, t), e.prototype._subscribe = function(t) {
                this.subscriptionDelay.subscribe(new f(t, this.source))
            }, e
        }(s.a),
        f = function(t) {
            function e(e, n) {
                var r = t.call(this) || this;
                return r.parent = e, r.source = n, r.sourceSubscribed = !1, r
            }
            return i.a(e, t), e.prototype._next = function(t) {
                this.subscribeToSource()
            }, e.prototype._error = function(t) {
                this.unsubscribe(), this.parent.error(t)
            }, e.prototype._complete = function() {
                this.unsubscribe(), this.subscribeToSource()
            }, e.prototype.subscribeToSource = function() {
                this.sourceSubscribed || (this.sourceSubscribed = !0, this.unsubscribe(), this.source.subscribe(this.parent))
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r() {
        return function(t) {
            return t.lift(new s)
        }
    }
    e.a = r;
    var i = n(0),
        o = n(1),
        s = function() {
            function t() {}
            return t.prototype.call = function(t, e) {
                return e.subscribe(new a(t))
            }, t
        }(),
        a = function(t) {
            function e(e) {
                return t.call(this, e) || this
            }
            return i.a(e, t), e.prototype._next = function(t) {
                t.observe(this.destination)
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return function(n) {
            return n.lift(new a(t, e))
        }
    }
    e.a = r;
    var i = n(0),
        o = n(3),
        s = n(4),
        a = function() {
            function t(t, e) {
                this.keySelector = t, this.flushes = e
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new u(t, this.keySelector, this.flushes))
            }, t
        }(),
        u = function(t) {
            function e(e, n, r) {
                var i = t.call(this, e) || this;
                return i.keySelector = n, i.values = new Set, r && i.add(Object(s.a)(i, r)), i
            }
            return i.a(e, t), e.prototype.notifyNext = function(t, e, n, r, i) {
                this.values.clear()
            }, e.prototype.notifyError = function(t, e) {
                this._error(t)
            }, e.prototype._next = function(t) {
                this.keySelector ? this._useKeySelector(t) : this._finalizeNext(t, t)
            }, e.prototype._useKeySelector = function(t) {
                var e, n = this.destination;
                try {
                    e = this.keySelector(t)
                } catch (t) {
                    return void n.error(t)
                }
                this._finalizeNext(e, t)
            }, e.prototype._finalizeNext = function(t, e) {
                var n = this.values;
                n.has(t) || (n.add(t), this.destination.next(e))
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return Object(i.a)(function(n, r) {
            return e ? e(n[t], r[t]) : n[t] === r[t]
        })
    }
    e.a = r;
    var i = n(137)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        if (t < 0) throw new i.a;
        var n = arguments.length >= 2;
        return function(r) {
            return r.pipe(Object(o.a)(function(e, n) {
                return n === t
            }), Object(u.a)(1), n ? Object(a.a)(e) : Object(s.a)(function() {
                return new i.a
            }))
        }
    }
    e.a = r;
    var i = n(49),
        o = n(34),
        s = n(66),
        a = n(48),
        u = n(89)
}, function(t, e, n) {
    "use strict";

    function r() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        return function(e) {
            return Object(i.a)(e, o.a.apply(void 0, t))
        }
    }
    e.a = r;
    var i = n(63),
        o = n(64)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return function(n) {
            return n.lift(new s(t, e, n))
        }
    }
    e.a = r;
    var i = n(0),
        o = n(1),
        s = function() {
            function t(t, e, n) {
                this.predicate = t, this.thisArg = e, this.source = n
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new a(t, this.predicate, this.thisArg, this.source))
            }, t
        }(),
        a = function(t) {
            function e(e, n, r, i) {
                var o = t.call(this, e) || this;
                return o.predicate = n, o.thisArg = r, o.source = i, o.index = 0, o.thisArg = r || o, o
            }
            return i.a(e, t), e.prototype.notifyComplete = function(t) {
                this.destination.next(t), this.destination.complete()
            }, e.prototype._next = function(t) {
                var e = !1;
                try {
                    e = this.predicate.call(this.thisArg, t, this.index++, this.source)
                } catch (t) {
                    return void this.destination.error(t)
                }
                e || this.notifyComplete(!1)
            }, e.prototype._complete = function() {
                this.notifyComplete(!0)
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r() {
        return function(t) {
            return t.lift(new a)
        }
    }
    e.a = r;
    var i = n(0),
        o = n(3),
        s = n(4),
        a = function() {
            function t() {}
            return t.prototype.call = function(t, e) {
                return e.subscribe(new u(t))
            }, t
        }(),
        u = function(t) {
            function e(e) {
                var n = t.call(this, e) || this;
                return n.hasCompleted = !1, n.hasSubscription = !1, n
            }
            return i.a(e, t), e.prototype._next = function(t) {
                this.hasSubscription || (this.hasSubscription = !0, this.add(Object(s.a)(this, t)))
            }, e.prototype._complete = function() {
                this.hasCompleted = !0, this.hasSubscription || this.destination.complete()
            }, e.prototype.notifyComplete = function(t) {
                this.remove(t), this.hasSubscription = !1, this.hasCompleted && this.destination.complete()
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return e ? function(n) {
            return n.pipe(r(function(n, r) {
                return Object(l.a)(t(n, r)).pipe(Object(u.a)(function(t, i) {
                    return e(n, t, r, i)
                }))
            }))
        } : function(e) {
            return e.lift(new c(t))
        }
    }
    e.a = r;
    var i = n(0),
        o = n(3),
        s = n(30),
        a = n(4),
        u = n(17),
        l = n(23),
        c = function() {
            function t(t) {
                this.project = t
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new h(t, this.project))
            }, t
        }(),
        h = function(t) {
            function e(e, n) {
                var r = t.call(this, e) || this;
                return r.project = n, r.hasSubscription = !1, r.hasCompleted = !1, r.index = 0, r
            }
            return i.a(e, t), e.prototype._next = function(t) {
                this.hasSubscription || this.tryNext(t)
            }, e.prototype.tryNext = function(t) {
                var e, n = this.index++;
                try {
                    e = this.project(t, n)
                } catch (t) {
                    return void this.destination.error(t)
                }
                this.hasSubscription = !0, this._innerSub(e, t, n)
            }, e.prototype._innerSub = function(t, e, n) {
                var r = new s.a(this, e, n),
                    i = this.destination;
                i.add(r);
                var o = Object(a.a)(this, t, void 0, void 0, r);
                o !== r && i.add(o)
            }, e.prototype._complete = function() {
                this.hasCompleted = !0, this.hasSubscription || this.destination.complete(), this.unsubscribe()
            }, e.prototype.notifyNext = function(t, e, n, r, i) {
                this.destination.next(e)
            }, e.prototype.notifyError = function(t) {
                this.destination.error(t)
            }, e.prototype.notifyComplete = function(t) {
                this.destination.remove(t), this.hasSubscription = !1, this.hasCompleted && this.destination.complete()
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r(t, e, n) {
        return void 0 === e && (e = Number.POSITIVE_INFINITY), void 0 === n && (n = void 0), e = (e || 0) < 1 ? Number.POSITIVE_INFINITY : e,
            function(r) {
                return r.lift(new a(t, e, n))
            }
    }
    e.a = r;
    var i = n(0),
        o = n(3),
        s = n(4),
        a = function() {
            function t(t, e, n) {
                this.project = t, this.concurrent = e, this.scheduler = n
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new u(t, this.project, this.concurrent, this.scheduler))
            }, t
        }(),
        u = function(t) {
            function e(e, n, r, i) {
                var o = t.call(this, e) || this;
                return o.project = n, o.concurrent = r, o.scheduler = i, o.index = 0, o.active = 0, o.hasCompleted = !1, r < Number.POSITIVE_INFINITY && (o.buffer = []), o
            }
            return i.a(e, t), e.dispatch = function(t) {
                var e = t.subscriber,
                    n = t.result,
                    r = t.value,
                    i = t.index;
                e.subscribeToProjection(n, r, i)
            }, e.prototype._next = function(t) {
                var n = this.destination;
                if (n.closed) return void this._complete();
                var r = this.index++;
                if (this.active < this.concurrent) {
                    n.next(t);
                    try {
                        var i = this.project,
                            o = i(t, r);
                        if (this.scheduler) {
                            var s = {
                                subscriber: this,
                                result: o,
                                value: t,
                                index: r
                            };
                            this.destination.add(this.scheduler.schedule(e.dispatch, 0, s))
                        } else this.subscribeToProjection(o, t, r)
                    } catch (t) {
                        n.error(t)
                    }
                } else this.buffer.push(t)
            }, e.prototype.subscribeToProjection = function(t, e, n) {
                this.active++, this.destination.add(Object(s.a)(this, t, e, n))
            }, e.prototype._complete = function() {
                this.hasCompleted = !0, this.hasCompleted && 0 === this.active && this.destination.complete(), this.unsubscribe()
            }, e.prototype.notifyNext = function(t, e, n, r, i) {
                this._next(e)
            }, e.prototype.notifyComplete = function(t) {
                var e = this.buffer;
                this.destination.remove(t), this.active--, e && e.length > 0 && this._next(e.shift()), this.hasCompleted && 0 === this.active && this.destination.complete()
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return function(e) {
            return e.lift(new a(t))
        }
    }
    e.a = r;
    var i = n(0),
        o = n(1),
        s = n(10),
        a = function() {
            function t(t) {
                this.callback = t
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new u(t, this.callback))
            }, t
        }(),
        u = function(t) {
            function e(e, n) {
                var r = t.call(this, e) || this;
                return r.add(new s.a(n)), r
            }
            return i.a(e, t), e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return function(n) {
            return n.lift(new i.a(t, n, !0, e))
        }
    }
    e.a = r;
    var i = n(138)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        var n = arguments.length >= 2;
        return function(r) {
            return r.pipe(t ? Object(o.a)(function(e, n) {
                return t(e, n, r)
            }) : l.a, Object(s.a)(1), n ? Object(a.a)(e) : Object(u.a)(function() {
                return new i.a
            }))
        }
    }
    e.a = r;
    var i = n(50),
        o = n(34),
        s = n(89),
        a = n(48),
        u = n(66),
        l = n(31)
}, function(t, e, n) {
    "use strict";

    function r() {
        return function(t) {
            return t.lift(new s)
        }
    }
    e.a = r;
    var i = n(0),
        o = n(1),
        s = function() {
            function t() {}
            return t.prototype.call = function(t, e) {
                return e.subscribe(new a(t))
            }, t
        }(),
        a = function(t) {
            function e() {
                return null !== t && t.apply(this, arguments) || this
            }
            return i.a(e, t), e.prototype._next = function(t) {}, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r() {
        return function(t) {
            return t.lift(new s)
        }
    }
    e.a = r;
    var i = n(0),
        o = n(1),
        s = function() {
            function t() {}
            return t.prototype.call = function(t, e) {
                return e.subscribe(new a(t))
            }, t
        }(),
        a = function(t) {
            function e(e) {
                return t.call(this, e) || this
            }
            return i.a(e, t), e.prototype.notifyComplete = function(t) {
                var e = this.destination;
                e.next(t), e.complete()
            }, e.prototype._next = function(t) {
                this.notifyComplete(!1)
            }, e.prototype._complete = function() {
                this.notifyComplete(!0)
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        var n = arguments.length >= 2;
        return function(r) {
            return r.pipe(t ? Object(o.a)(function(e, n) {
                return t(e, n, r)
            }) : l.a, Object(s.a)(1), n ? Object(u.a)(e) : Object(a.a)(function() {
                return new i.a
            }))
        }
    }
    e.a = r;
    var i = n(50),
        o = n(34),
        s = n(90),
        a = n(66),
        u = n(48),
        l = n(31)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return function(e) {
            return e.lift(new s(t))
        }
    }
    e.a = r;
    var i = n(0),
        o = n(1),
        s = function() {
            function t(t) {
                this.value = t
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new a(t, this.value))
            }, t
        }(),
        a = function(t) {
            function e(e, n) {
                var r = t.call(this, e) || this;
                return r.value = n, r
            }
            return i.a(e, t), e.prototype._next = function(t) {
                this.destination.next(this.value)
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r() {
        return function(t) {
            return t.lift(new a)
        }
    }
    e.a = r;
    var i = n(0),
        o = n(1),
        s = n(65),
        a = function() {
            function t() {}
            return t.prototype.call = function(t, e) {
                return e.subscribe(new u(t))
            }, t
        }(),
        u = function(t) {
            function e(e) {
                return t.call(this, e) || this
            }
            return i.a(e, t), e.prototype._next = function(t) {
                this.destination.next(s.a.createNext(t))
            }, e.prototype._error = function(t) {
                var e = this.destination;
                e.next(s.a.createError(t)), e.complete()
            }, e.prototype._complete = function() {
                var t = this.destination;
                t.next(s.a.createComplete()), t.complete()
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        var e = "function" == typeof t ? function(e, n) {
            return t(e, n) > 0 ? e : n
        } : function(t, e) {
            return t > e ? t : e
        };
        return Object(i.a)(e)
    }
    e.a = r;
    var i = n(68)
}, function(t, e, n) {
    "use strict";

    function r() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        return function(e) {
            return e.lift.call(i.a.apply(void 0, [e].concat(t)))
        }
    }
    e.a = r;
    var i = n(141)
}, function(t, e, n) {
    "use strict";

    function r(t, e, n) {
        return void 0 === n && (n = Number.POSITIVE_INFINITY), "function" == typeof e ? Object(i.a)(function() {
            return t
        }, e, n) : ("number" == typeof e && (n = e), Object(i.a)(function() {
            return t
        }, n))
    }
    e.a = r;
    var i = n(47)
}, function(t, e, n) {
    "use strict";

    function r(t, e, n) {
        return void 0 === n && (n = Number.POSITIVE_INFINITY),
            function(r) {
                return r.lift(new u(t, e, n))
            }
    }
    e.a = r;
    var i = n(0),
        o = n(4),
        s = n(3),
        a = n(30),
        u = function() {
            function t(t, e, n) {
                this.accumulator = t, this.seed = e, this.concurrent = n
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new l(t, this.accumulator, this.seed, this.concurrent))
            }, t
        }(),
        l = function(t) {
            function e(e, n, r, i) {
                var o = t.call(this, e) || this;
                return o.accumulator = n, o.acc = r, o.concurrent = i, o.hasValue = !1, o.hasCompleted = !1, o.buffer = [], o.active = 0, o.index = 0, o
            }
            return i.a(e, t), e.prototype._next = function(t) {
                if (this.active < this.concurrent) {
                    var e = this.index++,
                        n = this.destination,
                        r = void 0;
                    try {
                        r = (0, this.accumulator)(this.acc, t, e)
                    } catch (t) {
                        return n.error(t)
                    }
                    this.active++, this._innerSub(r, t, e)
                } else this.buffer.push(t)
            }, e.prototype._innerSub = function(t, e, n) {
                var r = new a.a(this, e, n),
                    i = this.destination;
                i.add(r);
                var s = Object(o.a)(this, t, void 0, void 0, r);
                s !== r && i.add(s)
            }, e.prototype._complete = function() {
                this.hasCompleted = !0, 0 === this.active && 0 === this.buffer.length && (!1 === this.hasValue && this.destination.next(this.acc), this.destination.complete()), this.unsubscribe()
            }, e.prototype.notifyNext = function(t, e, n, r, i) {
                var o = this.destination;
                this.acc = e, this.hasValue = !0, o.next(e)
            }, e.prototype.notifyComplete = function(t) {
                var e = this.buffer;
                this.destination.remove(t), this.active--, e.length > 0 ? this._next(e.shift()) : 0 === this.active && this.hasCompleted && (!1 === this.hasValue && this.destination.next(this.acc), this.destination.complete())
            }, e
        }(s.a)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        var e = "function" == typeof t ? function(e, n) {
            return t(e, n) < 0 ? e : n
        } : function(t, e) {
            return t < e ? t : e
        };
        return Object(i.a)(e)
    }
    e.a = r;
    var i = n(68)
}, function(t, e, n) {
    "use strict";

    function r() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        return 1 === t.length && Object(o.a)(t[0]) && (t = t[0]),
            function(e) {
                return e.lift(new l(t))
            }
    }
    e.a = r;
    var i = n(0),
        o = (n(23), n(15)),
        s = n(3),
        a = n(30),
        u = n(4),
        l = function() {
            function t(t) {
                this.nextSources = t
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new c(t, this.nextSources))
            }, t
        }(),
        c = function(t) {
            function e(e, n) {
                var r = t.call(this, e) || this;
                return r.destination = e, r.nextSources = n, r
            }
            return i.a(e, t), e.prototype.notifyError = function(t, e) {
                this.subscribeToNextSource()
            }, e.prototype.notifyComplete = function(t) {
                this.subscribeToNextSource()
            }, e.prototype._error = function(t) {
                this.subscribeToNextSource(), this.unsubscribe()
            }, e.prototype._complete = function() {
                this.subscribeToNextSource(), this.unsubscribe()
            }, e.prototype.subscribeToNextSource = function() {
                var t = this.nextSources.shift();
                if (t) {
                    var e = new a.a(this, void 0, void 0),
                        n = this.destination;
                    n.add(e);
                    var r = Object(u.a)(this, t, void 0, void 0, e);
                    r !== e && n.add(r)
                } else this.destination.complete()
            }, e
        }(s.a)
}, function(t, e, n) {
    "use strict";

    function r() {
        return function(t) {
            return t.lift(new s)
        }
    }
    e.a = r;
    var i = n(0),
        o = n(1),
        s = function() {
            function t() {}
            return t.prototype.call = function(t, e) {
                return e.subscribe(new a(t))
            }, t
        }(),
        a = function(t) {
            function e(e) {
                var n = t.call(this, e) || this;
                return n.hasPrev = !1, n
            }
            return i.a(e, t), e.prototype._next = function(t) {
                var e;
                this.hasPrev ? e = [this.prev, t] : this.hasPrev = !0, this.prev = t, e && this.destination.next(e)
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return function(n) {
            return [Object(o.a)(t, e)(n), Object(o.a)(Object(i.a)(t, e))(n)]
        }
    }
    e.a = r;
    var i = n(144),
        o = n(34)
}, function(t, e, n) {
    "use strict";

    function r() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        var n = t.length;
        if (0 === n) throw new Error("list of properties cannot be empty.");
        return function(e) {
            return Object(o.a)(i(t, n))(e)
        }
    }

    function i(t, e) {
        return function(n) {
            for (var r = n, i = 0; i < e; i++) {
                var o = r[t[i]];
                if (void 0 === o) return;
                r = o
            }
            return r
        }
    }
    e.a = r;
    var o = n(17)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return t ? Object(o.a)(function() {
            return new i.a
        }, t) : Object(o.a)(new i.a)
    }
    e.a = r;
    var i = n(12),
        o = n(35)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return function(e) {
            return Object(o.a)(new i.a(t))(e)
        }
    }
    e.a = r;
    var i = n(145),
        o = n(35)
}, function(t, e, n) {
    "use strict";

    function r() {
        return function(t) {
            return Object(o.a)(new i.a)(t)
        }
    }
    e.a = r;
    var i = n(69),
        o = n(35)
}, function(t, e, n) {
    "use strict";

    function r(t, e, n, r) {
        n && "function" != typeof n && (r = n);
        var s = "function" == typeof n ? n : void 0,
            a = new i.a(t, e, r);
        return function(t) {
            return Object(o.a)(function() {
                return a
            }, s)(t)
        }
    }
    e.a = r;
    var i = n(93),
        o = n(35)
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return o
    });
    var r = n(0),
        i = n(44),
        o = function(t) {
            function e(e, n) {
                var r = t.call(this, e, n) || this;
                return r.scheduler = e, r.work = n, r
            }
            return r.a(e, t), e.prototype.schedule = function(e, n) {
                return void 0 === n && (n = 0), n > 0 ? t.prototype.schedule.call(this, e, n) : (this.delay = n, this.state = e, this.scheduler.flush(this), this)
            }, e.prototype.execute = function(e, n) {
                return n > 0 || this.closed ? t.prototype.execute.call(this, e, n) : this._execute(e, n)
            }, e.prototype.requestAsyncId = function(e, n, r) {
                return void 0 === r && (r = 0), null !== r && r > 0 || null === r && this.delay > 0 ? t.prototype.requestAsyncId.call(this, e, n, r) : e.flush(this)
            }, e
        }(i.a)
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return o
    });
    var r = n(0),
        i = n(45),
        o = function(t) {
            function e() {
                return null !== t && t.apply(this, arguments) || this
            }
            return r.a(e, t), e
        }(i.a)
}, function(t, e, n) {
    "use strict";

    function r() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        return function(e) {
            return 1 === t.length && Object(i.a)(t[0]) && (t = t[0]), e.lift.call(o.a.apply(void 0, [e].concat(t)))
        }
    }
    e.a = r;
    var i = n(15),
        o = n(147)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return void 0 === t && (t = -1),
            function(e) {
                return 0 === t ? Object(s.b)() : t < 0 ? e.lift(new a(-1, e)) : e.lift(new a(t - 1, e))
            }
    }
    e.a = r;
    var i = n(0),
        o = n(1),
        s = n(24),
        a = function() {
            function t(t, e) {
                this.count = t, this.source = e
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new u(t, this.count, this.source))
            }, t
        }(),
        u = function(t) {
            function e(e, n, r) {
                var i = t.call(this, e) || this;
                return i.count = n, i.source = r, i
            }
            return i.a(e, t), e.prototype.complete = function() {
                if (!this.isStopped) {
                    var e = this,
                        n = e.source,
                        r = e.count;
                    if (0 === r) return t.prototype.complete.call(this);
                    r > -1 && (this.count = r - 1), n.subscribe(this._unsubscribeAndRecycle())
                }
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return function(e) {
            return e.lift(new u(t))
        }
    }
    e.a = r;
    var i = n(0),
        o = n(12),
        s = n(3),
        a = n(4),
        u = function() {
            function t(t) {
                this.notifier = t
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new l(t, this.notifier, e))
            }, t
        }(),
        l = function(t) {
            function e(e, n, r) {
                var i = t.call(this, e) || this;
                return i.notifier = n, i.source = r, i.sourceIsBeingSubscribedTo = !0, i
            }
            return i.a(e, t), e.prototype.notifyNext = function(t, e, n, r, i) {
                this.sourceIsBeingSubscribedTo = !0, this.source.subscribe(this)
            }, e.prototype.notifyComplete = function(e) {
                if (!1 === this.sourceIsBeingSubscribedTo) return t.prototype.complete.call(this)
            }, e.prototype.complete = function() {
                if (this.sourceIsBeingSubscribedTo = !1, !this.isStopped) {
                    if (this.retries || this.subscribeToRetries(), !this.retriesSubscription || this.retriesSubscription.closed) return t.prototype.complete.call(this);
                    this._unsubscribeAndRecycle(), this.notifications.next()
                }
            }, e.prototype._unsubscribe = function() {
                var t = this,
                    e = t.notifications,
                    n = t.retriesSubscription;
                e && (e.unsubscribe(), this.notifications = null), n && (n.unsubscribe(), this.retriesSubscription = null), this.retries = null
            }, e.prototype._unsubscribeAndRecycle = function() {
                var e = this._unsubscribe;
                return this._unsubscribe = null, t.prototype._unsubscribeAndRecycle.call(this), this._unsubscribe = e, this
            }, e.prototype.subscribeToRetries = function() {
                this.notifications = new o.a;
                var e;
                try {
                    e = (0, this.notifier)(this.notifications)
                } catch (e) {
                    return t.prototype.complete.call(this)
                }
                this.retries = e, this.retriesSubscription = Object(a.a)(this, e)
            }, e
        }(s.a)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return void 0 === t && (t = -1),
            function(e) {
                return e.lift(new s(t, e))
            }
    }
    e.a = r;
    var i = n(0),
        o = n(1),
        s = function() {
            function t(t, e) {
                this.count = t, this.source = e
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new a(t, this.count, this.source))
            }, t
        }(),
        a = function(t) {
            function e(e, n, r) {
                var i = t.call(this, e) || this;
                return i.count = n, i.source = r, i
            }
            return i.a(e, t), e.prototype.error = function(e) {
                if (!this.isStopped) {
                    var n = this,
                        r = n.source,
                        i = n.count;
                    if (0 === i) return t.prototype.error.call(this, e);
                    i > -1 && (this.count = i - 1), r.subscribe(this._unsubscribeAndRecycle())
                }
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return function(e) {
            return e.lift(new u(t, e))
        }
    }
    e.a = r;
    var i = n(0),
        o = n(12),
        s = n(3),
        a = n(4),
        u = function() {
            function t(t, e) {
                this.notifier = t, this.source = e
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new l(t, this.notifier, this.source))
            }, t
        }(),
        l = function(t) {
            function e(e, n, r) {
                var i = t.call(this, e) || this;
                return i.notifier = n, i.source = r, i
            }
            return i.a(e, t), e.prototype.error = function(e) {
                if (!this.isStopped) {
                    var n = this.errors,
                        r = this.retries,
                        i = this.retriesSubscription;
                    if (r) this.errors = null, this.retriesSubscription = null;
                    else {
                        n = new o.a;
                        try {
                            r = (0, this.notifier)(n)
                        } catch (e) {
                            return t.prototype.error.call(this, e)
                        }
                        i = Object(a.a)(this, r)
                    }
                    this._unsubscribeAndRecycle(), this.errors = n, this.retries = r, this.retriesSubscription = i, n.next(e)
                }
            }, e.prototype._unsubscribe = function() {
                var t = this,
                    e = t.errors,
                    n = t.retriesSubscription;
                e && (e.unsubscribe(), this.errors = null), n && (n.unsubscribe(), this.retriesSubscription = null), this.retries = null
            }, e.prototype.notifyNext = function(t, e, n, r, i) {
                var o = this._unsubscribe;
                this._unsubscribe = null, this._unsubscribeAndRecycle(), this._unsubscribe = o, this.source.subscribe(this)
            }, e
        }(s.a)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return function(e) {
            return e.lift(new a(t))
        }
    }
    e.a = r;
    var i = n(0),
        o = n(3),
        s = n(4),
        a = function() {
            function t(t) {
                this.notifier = t
            }
            return t.prototype.call = function(t, e) {
                var n = new u(t),
                    r = e.subscribe(n);
                return r.add(Object(s.a)(n, this.notifier)), r
            }, t
        }(),
        u = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.hasValue = !1, e
            }
            return i.a(e, t), e.prototype._next = function(t) {
                this.value = t, this.hasValue = !0
            }, e.prototype.notifyNext = function(t, e, n, r, i) {
                this.emitValue()
            }, e.prototype.notifyComplete = function() {
                this.emitValue()
            }, e.prototype.emitValue = function() {
                this.hasValue && (this.hasValue = !1, this.destination.next(this.value))
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return void 0 === e && (e = a.a),
            function(n) {
                return n.lift(new u(t, e))
            }
    }

    function i(t) {
        var e = t.subscriber,
            n = t.period;
        e.notifyNext(), this.schedule(t, n)
    }
    e.a = r;
    var o = n(0),
        s = n(1),
        a = n(16),
        u = function() {
            function t(t, e) {
                this.period = t, this.scheduler = e
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new l(t, this.period, this.scheduler))
            }, t
        }(),
        l = function(t) {
            function e(e, n, r) {
                var o = t.call(this, e) || this;
                return o.period = n, o.scheduler = r, o.hasValue = !1, o.add(r.schedule(i, n, {
                    subscriber: o,
                    period: n
                })), o
            }
            return o.a(e, t), e.prototype._next = function(t) {
                this.lastValue = t, this.hasValue = !0
            }, e.prototype.notifyNext = function() {
                this.hasValue && (this.hasValue = !1, this.destination.next(this.lastValue))
            }, e
        }(s.a)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return function(n) {
            return n.lift(new s(t, e))
        }
    }
    e.a = r;
    var i = n(0),
        o = n(1),
        s = function() {
            function t(t, e) {
                this.compareTo = t, this.comparator = e
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new a(t, this.compareTo, this.comparator))
            }, t
        }(),
        a = function(t) {
            function e(e, n, r) {
                var i = t.call(this, e) || this;
                return i.compareTo = n, i.comparator = r, i._a = [], i._b = [], i._oneComplete = !1, i.destination.add(n.subscribe(new u(e, i))), i
            }
            return i.a(e, t), e.prototype._next = function(t) {
                this._oneComplete && 0 === this._b.length ? this.emit(!1) : (this._a.push(t), this.checkValues())
            }, e.prototype._complete = function() {
                this._oneComplete ? this.emit(0 === this._a.length && 0 === this._b.length) : this._oneComplete = !0, this.unsubscribe()
            }, e.prototype.checkValues = function() {
                for (var t = this, e = t._a, n = t._b, r = t.comparator; e.length > 0 && n.length > 0;) {
                    var i = e.shift(),
                        o = n.shift(),
                        s = !1;
                    try {
                        s = r ? r(i, o) : i === o
                    } catch (t) {
                        this.destination.error(t)
                    }
                    s || this.emit(!1)
                }
            }, e.prototype.emit = function(t) {
                var e = this.destination;
                e.next(t), e.complete()
            }, e.prototype.nextB = function(t) {
                this._oneComplete && 0 === this._a.length ? this.emit(!1) : (this._b.push(t), this.checkValues())
            }, e.prototype.completeB = function() {
                this._oneComplete ? this.emit(0 === this._a.length && 0 === this._b.length) : this._oneComplete = !0
            }, e
        }(o.a),
        u = function(t) {
            function e(e, n) {
                var r = t.call(this, e) || this;
                return r.parent = n, r
            }
            return i.a(e, t), e.prototype._next = function(t) {
                this.parent.nextB(t)
            }, e.prototype._error = function(t) {
                this.parent.error(t), this.unsubscribe()
            }, e.prototype._complete = function() {
                this.parent.completeB(), this.unsubscribe()
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r() {
        return new a.a
    }

    function i() {
        return function(t) {
            return Object(s.a)()(Object(o.a)(r)(t))
        }
    }
    e.a = i;
    var o = n(35),
        s = n(92),
        a = n(12)
}, function(t, e, n) {
    "use strict";

    function r(t, e, n) {
        var r;
        return r = t && "object" == typeof t ? t : {
                bufferSize: t,
                windowTime: e,
                refCount: !1,
                scheduler: n
            },
            function(t) {
                return t.lift(i(r))
            }
    }

    function i(t) {
        var e, n, r = t.bufferSize,
            i = void 0 === r ? Number.POSITIVE_INFINITY : r,
            s = t.windowTime,
            a = void 0 === s ? Number.POSITIVE_INFINITY : s,
            u = t.refCount,
            l = t.scheduler,
            c = 0,
            h = !1,
            f = !1;
        return function(t) {
            c++, e && !h || (h = !1, e = new o.a(i, a, l), n = t.subscribe({
                next: function(t) {
                    e.next(t)
                },
                error: function(t) {
                    h = !0, e.error(t)
                },
                complete: function() {
                    f = !0, n = void 0, e.complete()
                }
            }));
            var r = e.subscribe(this);
            this.add(function() {
                c--, r.unsubscribe(), n && !f && u && 0 === c && (n.unsubscribe(), n = void 0, e = void 0)
            })
        }
    }
    e.a = r;
    var o = n(93)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return function(e) {
            return e.lift(new a(t, e))
        }
    }
    e.a = r;
    var i = n(0),
        o = n(1),
        s = n(50),
        a = function() {
            function t(t, e) {
                this.predicate = t, this.source = e
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new u(t, this.predicate, this.source))
            }, t
        }(),
        u = function(t) {
            function e(e, n, r) {
                var i = t.call(this, e) || this;
                return i.predicate = n, i.source = r, i.seenValue = !1, i.index = 0, i
            }
            return i.a(e, t), e.prototype.applySingleValue = function(t) {
                this.seenValue ? this.destination.error("Sequence contains more than one element") : (this.seenValue = !0, this.singleValue = t)
            }, e.prototype._next = function(t) {
                var e = this.index++;
                this.predicate ? this.tryNext(t, e) : this.applySingleValue(t)
            }, e.prototype.tryNext = function(t, e) {
                try {
                    this.predicate(t, e, this.source) && this.applySingleValue(t)
                } catch (t) {
                    this.destination.error(t)
                }
            }, e.prototype._complete = function() {
                var t = this.destination;
                this.index > 0 ? (t.next(this.seenValue ? this.singleValue : void 0), t.complete()) : t.error(new s.a)
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return function(e) {
            return e.lift(new s(t))
        }
    }
    e.a = r;
    var i = n(0),
        o = n(1),
        s = function() {
            function t(t) {
                this.total = t
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new a(t, this.total))
            }, t
        }(),
        a = function(t) {
            function e(e, n) {
                var r = t.call(this, e) || this;
                return r.total = n, r.count = 0, r
            }
            return i.a(e, t), e.prototype._next = function(t) {
                ++this.count > this.total && this.destination.next(t)
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return function(e) {
            return e.lift(new a(t))
        }
    }
    e.a = r;
    var i = n(0),
        o = n(1),
        s = n(49),
        a = function() {
            function t(t) {
                if (this._skipCount = t, this._skipCount < 0) throw new s.a
            }
            return t.prototype.call = function(t, e) {
                return 0 === this._skipCount ? e.subscribe(new o.a(t)) : e.subscribe(new u(t, this._skipCount))
            }, t
        }(),
        u = function(t) {
            function e(e, n) {
                var r = t.call(this, e) || this;
                return r._skipCount = n, r._count = 0, r._ring = new Array(n), r
            }
            return i.a(e, t), e.prototype._next = function(t) {
                var e = this._skipCount,
                    n = this._count++;
                if (n < e) this._ring[n] = t;
                else {
                    var r = n % e,
                        i = this._ring,
                        o = i[r];
                    i[r] = t, this.destination.next(o)
                }
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return function(e) {
            return e.lift(new u(t))
        }
    }
    e.a = r;
    var i = n(0),
        o = n(3),
        s = n(30),
        a = n(4),
        u = function() {
            function t(t) {
                this.notifier = t
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new l(t, this.notifier))
            }, t
        }(),
        l = function(t) {
            function e(e, n) {
                var r = t.call(this, e) || this;
                r.hasValue = !1;
                var i = new s.a(r, void 0, void 0);
                r.add(i), r.innerSubscription = i;
                var o = Object(a.a)(r, n, void 0, void 0, i);
                return o !== i && (r.add(o), r.innerSubscription = o), r
            }
            return i.a(e, t), e.prototype._next = function(e) {
                this.hasValue && t.prototype._next.call(this, e)
            }, e.prototype.notifyNext = function(t, e, n, r, i) {
                this.hasValue = !0, this.innerSubscription && this.innerSubscription.unsubscribe()
            }, e.prototype.notifyComplete = function() {}, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return function(e) {
            return e.lift(new s(t))
        }
    }
    e.a = r;
    var i = n(0),
        o = n(1),
        s = function() {
            function t(t) {
                this.predicate = t
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new a(t, this.predicate))
            }, t
        }(),
        a = function(t) {
            function e(e, n) {
                var r = t.call(this, e) || this;
                return r.predicate = n, r.skipping = !0, r.index = 0, r
            }
            return i.a(e, t), e.prototype._next = function(t) {
                var e = this.destination;
                this.skipping && this.tryCallPredicate(t), this.skipping || e.next(t)
            }, e.prototype.tryCallPredicate = function(t) {
                try {
                    var e = this.predicate(t, this.index++);
                    this.skipping = Boolean(e)
                } catch (t) {
                    this.destination.error(t)
                }
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        var n = t[t.length - 1];
        return Object(o.a)(n) ? (t.pop(), function(e) {
            return Object(i.a)(t, e, n)
        }) : function(e) {
            return Object(i.a)(t, e)
        }
    }
    e.a = r;
    var i = n(63),
        o = n(22)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return void 0 === e && (e = 0),
            function(n) {
                return n.lift(new o(t, e))
            }
    }
    e.a = r;
    var i = n(289),
        o = function() {
            function t(t, e) {
                this.scheduler = t, this.delay = e
            }
            return t.prototype.call = function(t, e) {
                return new i.a(e, this.delay, this.scheduler).subscribe(t)
            }, t
        }()
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return a
    });
    var r = n(0),
        i = n(2),
        o = n(148),
        s = n(62),
        a = function(t) {
            function e(e, n, r) {
                void 0 === n && (n = 0), void 0 === r && (r = o.a);
                var i = t.call(this) || this;
                return i.source = e, i.delayTime = n, i.scheduler = r, (!Object(s.a)(n) || n < 0) && (i.delayTime = 0), r && "function" == typeof r.schedule || (i.scheduler = o.a), i
            }
            return r.a(e, t), e.create = function(t, n, r) {
                return void 0 === n && (n = 0), void 0 === r && (r = o.a), new e(t, n, r)
            }, e.dispatch = function(t) {
                var e = t.source,
                    n = t.subscriber;
                return this.add(e.subscribe(n))
            }, e.prototype._subscribe = function(t) {
                var n = this.delayTime,
                    r = this.source;
                return this.scheduler.schedule(e.dispatch, n, {
                    source: r,
                    subscriber: t
                })
            }, e
        }(i.a)
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return s
    });
    var r = n(0),
        i = n(291),
        o = n(44),
        s = function(t) {
            function e(e, n) {
                var r = t.call(this, e, n) || this;
                return r.scheduler = e, r.work = n, r
            }
            return r.a(e, t), e.prototype.requestAsyncId = function(e, n, r) {
                return void 0 === r && (r = 0), null !== r && r > 0 ? t.prototype.requestAsyncId.call(this, e, n, r) : (e.actions.push(this), e.scheduled || (e.scheduled = i.a.setImmediate(e.flush.bind(e, null))))
            }, e.prototype.recycleAsyncId = function(e, n, r) {
                if (void 0 === r && (r = 0), null !== r && r > 0 || null === r && this.delay > 0) return t.prototype.recycleAsyncId.call(this, e, n, r);
                0 === e.actions.length && (i.a.clearImmediate(n), e.scheduled = void 0)
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";
    (function(t) {
        function r(t) {
            return t in s && (delete s[t], !0)
        }
        n.d(e, "a", function() {
            return a
        });
        var i = 1,
            o = function() {
                return t.resolve()
            }(),
            s = {},
            a = {
                setImmediate: function(t) {
                    var e = i++;
                    return s[e] = !0, o.then(function() {
                        return r(e) && t()
                    }), e
                },
                clearImmediate: function(t) {
                    r(t)
                }
            }
    }).call(e, n(6))
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return o
    });
    var r = n(0),
        i = n(45),
        o = function(t) {
            function e() {
                return null !== t && t.apply(this, arguments) || this
            }
            return r.a(e, t), e.prototype.flush = function(t) {
                this.active = !0, this.scheduled = void 0;
                var e, n = this.actions,
                    r = -1,
                    i = n.length;
                t = t || n.shift();
                do {
                    if (e = t.execute(t.state, t.delay)) break
                } while (++r < i && (t = n.shift()));
                if (this.active = !1, e) {
                    for (; ++r < i && (t = n.shift());) t.unsubscribe();
                    throw e
                }
            }, e
        }(i.a)
}, function(t, e, n) {
    "use strict";

    function r() {
        return Object(i.a)(o.a)
    }
    e.a = r;
    var i = n(94),
        o = n(31)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return e ? Object(i.a)(function() {
            return t
        }, e) : Object(i.a)(function() {
            return t
        })
    }
    e.a = r;
    var i = n(94)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return function(e) {
            return e.lift(new a(t))
        }
    }
    e.a = r;
    var i = n(0),
        o = n(3),
        s = n(4),
        a = function() {
            function t(t) {
                this.notifier = t
            }
            return t.prototype.call = function(t, e) {
                var n = new u(t),
                    r = Object(s.a)(n, this.notifier);
                return r && !n.seenValue ? (n.add(r), e.subscribe(n)) : n
            }, t
        }(),
        u = function(t) {
            function e(e) {
                var n = t.call(this, e) || this;
                return n.seenValue = !1, n
            }
            return i.a(e, t), e.prototype.notifyNext = function(t, e, n, r, i) {
                this.seenValue = !0, this.complete()
            }, e.prototype.notifyComplete = function() {}, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return void 0 === e && (e = !1),
            function(n) {
                return n.lift(new s(t, e))
            }
    }
    e.a = r;
    var i = n(0),
        o = n(1),
        s = function() {
            function t(t, e) {
                this.predicate = t, this.inclusive = e
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new a(t, this.predicate, this.inclusive))
            }, t
        }(),
        a = function(t) {
            function e(e, n, r) {
                var i = t.call(this, e) || this;
                return i.predicate = n, i.inclusive = r, i.index = 0, i
            }
            return i.a(e, t), e.prototype._next = function(t) {
                var e, n = this.destination;
                try {
                    e = this.predicate(t, this.index++)
                } catch (t) {
                    return void n.error(t)
                }
                this.nextOrComplete(t, e)
            }, e.prototype.nextOrComplete = function(t, e) {
                var n = this.destination;
                Boolean(e) ? n.next(t) : (this.inclusive && n.next(t), n.complete())
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r(t, e, n) {
        return function(r) {
            return r.lift(new u(t, e, n))
        }
    }
    e.a = r;
    var i = n(0),
        o = n(1),
        s = n(95),
        a = n(42),
        u = function() {
            function t(t, e, n) {
                this.nextOrObserver = t, this.error = e, this.complete = n
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new l(t, this.nextOrObserver, this.error, this.complete))
            }, t
        }(),
        l = function(t) {
            function e(e, n, r, i) {
                var o = t.call(this, e) || this;
                return o._tapNext = s.a, o._tapError = s.a, o._tapComplete = s.a, o._tapError = r || s.a, o._tapComplete = i || s.a, Object(a.a)(n) ? (o._context = o, o._tapNext = n) : n && (o._context = n, o._tapNext = n.next || s.a, o._tapError = n.error || s.a, o._tapComplete = n.complete || s.a), o
            }
            return i.a(e, t), e.prototype._next = function(t) {
                try {
                    this._tapNext.call(this._context, t)
                } catch (t) {
                    return void this.destination.error(t)
                }
                this.destination.next(t)
            }, e.prototype._error = function(t) {
                try {
                    this._tapError.call(this._context, t)
                } catch (t) {
                    return void this.destination.error(t)
                }
                this.destination.error(t)
            }, e.prototype._complete = function() {
                try {
                    this._tapComplete.call(this._context)
                } catch (t) {
                    return void this.destination.error(t)
                }
                return this.destination.complete()
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r(t, e, n) {
        return void 0 === e && (e = a.a), void 0 === n && (n = u.a),
            function(r) {
                return r.lift(new l(t, e, n.leading, n.trailing))
            }
    }

    function i(t) {
        t.subscriber.clearThrottle()
    }
    e.a = r;
    var o = n(0),
        s = n(1),
        a = n(16),
        u = n(149),
        l = function() {
            function t(t, e, n, r) {
                this.duration = t, this.scheduler = e, this.leading = n, this.trailing = r
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new c(t, this.duration, this.scheduler, this.leading, this.trailing))
            }, t
        }(),
        c = function(t) {
            function e(e, n, r, i, o) {
                var s = t.call(this, e) || this;
                return s.duration = n, s.scheduler = r, s.leading = i, s.trailing = o, s._hasTrailingValue = !1, s._trailingValue = null, s
            }
            return o.a(e, t), e.prototype._next = function(t) {
                this.throttled ? this.trailing && (this._trailingValue = t, this._hasTrailingValue = !0) : (this.add(this.throttled = this.scheduler.schedule(i, this.duration, {
                    subscriber: this
                })), this.leading ? this.destination.next(t) : this.trailing && (this._trailingValue = t, this._hasTrailingValue = !0))
            }, e.prototype._complete = function() {
                this._hasTrailingValue ? (this.destination.next(this._trailingValue), this.destination.complete()) : this.destination.complete()
            }, e.prototype.clearThrottle = function() {
                var t = this.throttled;
                t && (this.trailing && this._hasTrailingValue && (this.destination.next(this._trailingValue), this._trailingValue = null, this._hasTrailingValue = !1), t.unsubscribe(), this.remove(t), this.throttled = null)
            }, e
        }(s.a)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return void 0 === t && (t = i.a),
            function(e) {
                return Object(s.a)(function() {
                    return e.pipe(Object(o.a)(function(e, n) {
                        var r = e.current;
                        return {
                            value: n,
                            current: t.now(),
                            last: r
                        }
                    }, {
                        current: t.now(),
                        value: void 0,
                        last: void 0
                    }), Object(a.a)(function(t) {
                        var e = t.current,
                            n = t.last,
                            r = t.value;
                        return new u(r, e - n)
                    }))
                })
            }
    }
    e.a = r;
    var i = n(16),
        o = n(91),
        s = n(96),
        a = n(17),
        u = function() {
            function t(t, e) {
                this.value = t, this.interval = e
            }
            return t
        }()
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return void 0 === e && (e = i.a), Object(s.a)(t, Object(a.a)(new o.a), e)
    }
    e.a = r;
    var i = n(16),
        o = n(150),
        s = n(151),
        a = n(88)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return void 0 === t && (t = i.a), Object(o.a)(function(e) {
            return new s(e, t.now())
        })
    }
    e.a = r;
    var i = n(16),
        o = n(17),
        s = function() {
            function t(t, e) {
                this.value = t, this.timestamp = e
            }
            return t
        }()
}, function(t, e, n) {
    "use strict";

    function r(t, e, n) {
        return 0 === n ? [e] : (t.push(e), t)
    }

    function i() {
        return Object(o.a)(r, [])
    }
    e.a = i;
    var o = n(68)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return function(e) {
            return e.lift(new u(t))
        }
    }
    e.a = r;
    var i = n(0),
        o = n(12),
        s = n(3),
        a = n(4),
        u = function() {
            function t(t) {
                this.windowBoundaries = t
            }
            return t.prototype.call = function(t, e) {
                var n = new l(t),
                    r = e.subscribe(n);
                return r.closed || n.add(Object(a.a)(n, this.windowBoundaries)), r
            }, t
        }(),
        l = function(t) {
            function e(e) {
                var n = t.call(this, e) || this;
                return n.window = new o.a, e.next(n.window), n
            }
            return i.a(e, t), e.prototype.notifyNext = function(t, e, n, r, i) {
                this.openWindow()
            }, e.prototype.notifyError = function(t, e) {
                this._error(t)
            }, e.prototype.notifyComplete = function(t) {
                this._complete()
            }, e.prototype._next = function(t) {
                this.window.next(t)
            }, e.prototype._error = function(t) {
                this.window.error(t), this.destination.error(t)
            }, e.prototype._complete = function() {
                this.window.complete(), this.destination.complete()
            }, e.prototype._unsubscribe = function() {
                this.window = null
            }, e.prototype.openWindow = function() {
                var t = this.window;
                t && t.complete();
                var e = this.destination,
                    n = this.window = new o.a;
                e.next(n)
            }, e
        }(s.a)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return void 0 === e && (e = 0),
            function(n) {
                return n.lift(new a(t, e))
            }
    }
    e.a = r;
    var i = n(0),
        o = n(1),
        s = n(12),
        a = function() {
            function t(t, e) {
                this.windowSize = t, this.startWindowEvery = e
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new u(t, this.windowSize, this.startWindowEvery))
            }, t
        }(),
        u = function(t) {
            function e(e, n, r) {
                var i = t.call(this, e) || this;
                return i.destination = e, i.windowSize = n, i.startWindowEvery = r, i.windows = [new s.a], i.count = 0, e.next(i.windows[0]), i
            }
            return i.a(e, t), e.prototype._next = function(t) {
                for (var e = this.startWindowEvery > 0 ? this.startWindowEvery : this.windowSize, n = this.destination, r = this.windowSize, i = this.windows, o = i.length, a = 0; a < o && !this.closed; a++) i[a].next(t);
                var u = this.count - r + 1;
                if (u >= 0 && u % e == 0 && !this.closed && i.shift().complete(), ++this.count % e == 0 && !this.closed) {
                    var l = new s.a;
                    i.push(l), n.next(l)
                }
            }, e.prototype._error = function(t) {
                var e = this.windows;
                if (e)
                    for (; e.length > 0 && !this.closed;) e.shift().error(t);
                this.destination.error(t)
            }, e.prototype._complete = function() {
                var t = this.windows;
                if (t)
                    for (; t.length > 0 && !this.closed;) t.shift().complete();
                this.destination.complete()
            }, e.prototype._unsubscribe = function() {
                this.count = 0, this.windows = null
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        var e = l.a,
            n = null,
            r = Number.POSITIVE_INFINITY;
        return Object(f.a)(arguments[3]) && (e = arguments[3]), Object(f.a)(arguments[2]) ? e = arguments[2] : Object(h.a)(arguments[2]) && (r = arguments[2]), Object(f.a)(arguments[1]) ? e = arguments[1] : Object(h.a)(arguments[1]) && (n = arguments[1]),
            function(i) {
                return i.lift(new p(t, n, r, e))
            }
    }

    function i(t) {
        var e = t.subscriber,
            n = t.windowTimeSpan,
            r = t.window;
        r && e.closeWindow(r), t.window = e.openWindow(), this.schedule(t, n)
    }

    function o(t) {
        var e = t.windowTimeSpan,
            n = t.subscriber,
            r = t.scheduler,
            i = t.windowCreationInterval,
            o = n.openWindow(),
            a = this,
            u = {
                action: a,
                subscription: null
            },
            l = {
                subscriber: n,
                window: o,
                context: u
            };
        u.subscription = r.schedule(s, e, l), a.add(u.subscription), a.schedule(t, i)
    }

    function s(t) {
        var e = t.subscriber,
            n = t.window,
            r = t.context;
        r && r.action && r.subscription && r.action.remove(r.subscription), e.closeWindow(n)
    }
    e.a = r;
    var a = n(0),
        u = n(12),
        l = n(16),
        c = n(1),
        h = n(62),
        f = n(22),
        p = function() {
            function t(t, e, n, r) {
                this.windowTimeSpan = t, this.windowCreationInterval = e, this.maxWindowSize = n, this.scheduler = r
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new g(t, this.windowTimeSpan, this.windowCreationInterval, this.maxWindowSize, this.scheduler))
            }, t
        }(),
        d = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e._numberOfNextedValues = 0, e
            }
            return a.a(e, t), e.prototype.next = function(e) {
                this._numberOfNextedValues++, t.prototype.next.call(this, e)
            }, Object.defineProperty(e.prototype, "numberOfNextedValues", {
                get: function() {
                    return this._numberOfNextedValues
                },
                enumerable: !0,
                configurable: !0
            }), e
        }(u.a),
        g = function(t) {
            function e(e, n, r, a, u) {
                var l = t.call(this, e) || this;
                l.destination = e, l.windowTimeSpan = n, l.windowCreationInterval = r, l.maxWindowSize = a, l.scheduler = u, l.windows = [];
                var c = l.openWindow();
                if (null !== r && r >= 0) {
                    var h = {
                            subscriber: l,
                            window: c,
                            context: null
                        },
                        f = {
                            windowTimeSpan: n,
                            windowCreationInterval: r,
                            subscriber: l,
                            scheduler: u
                        };
                    l.add(u.schedule(s, n, h)), l.add(u.schedule(o, r, f))
                } else {
                    var p = {
                        subscriber: l,
                        window: c,
                        windowTimeSpan: n
                    };
                    l.add(u.schedule(i, n, p))
                }
                return l
            }
            return a.a(e, t), e.prototype._next = function(t) {
                for (var e = this.windows, n = e.length, r = 0; r < n; r++) {
                    var i = e[r];
                    i.closed || (i.next(t), i.numberOfNextedValues >= this.maxWindowSize && this.closeWindow(i))
                }
            }, e.prototype._error = function(t) {
                for (var e = this.windows; e.length > 0;) e.shift().error(t);
                this.destination.error(t)
            }, e.prototype._complete = function() {
                for (var t = this.windows; t.length > 0;) {
                    var e = t.shift();
                    e.closed || e.complete()
                }
                this.destination.complete()
            }, e.prototype.openWindow = function() {
                var t = new d;
                return this.windows.push(t), this.destination.next(t), t
            }, e.prototype.closeWindow = function(t) {
                t.complete();
                var e = this.windows;
                e.splice(e.indexOf(t), 1)
            }, e
        }(c.a)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return function(n) {
            return n.lift(new l(t, e))
        }
    }
    e.a = r;
    var i = n(0),
        o = n(12),
        s = n(10),
        a = n(3),
        u = n(4),
        l = function() {
            function t(t, e) {
                this.openings = t, this.closingSelector = e
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new c(t, this.openings, this.closingSelector))
            }, t
        }(),
        c = function(t) {
            function e(e, n, r) {
                var i = t.call(this, e) || this;
                return i.openings = n, i.closingSelector = r, i.contexts = [], i.add(i.openSubscription = Object(u.a)(i, n, n)), i
            }
            return i.a(e, t), e.prototype._next = function(t) {
                var e = this.contexts;
                if (e)
                    for (var n = e.length, r = 0; r < n; r++) e[r].window.next(t)
            }, e.prototype._error = function(e) {
                var n = this.contexts;
                if (this.contexts = null, n)
                    for (var r = n.length, i = -1; ++i < r;) {
                        var o = n[i];
                        o.window.error(e), o.subscription.unsubscribe()
                    }
                t.prototype._error.call(this, e)
            }, e.prototype._complete = function() {
                var e = this.contexts;
                if (this.contexts = null, e)
                    for (var n = e.length, r = -1; ++r < n;) {
                        var i = e[r];
                        i.window.complete(), i.subscription.unsubscribe()
                    }
                t.prototype._complete.call(this)
            }, e.prototype._unsubscribe = function() {
                var t = this.contexts;
                if (this.contexts = null, t)
                    for (var e = t.length, n = -1; ++n < e;) {
                        var r = t[n];
                        r.window.unsubscribe(), r.subscription.unsubscribe()
                    }
            }, e.prototype.notifyNext = function(t, e, n, r, i) {
                if (t === this.openings) {
                    var a = void 0;
                    try {
                        a = (0, this.closingSelector)(e)
                    } catch (t) {
                        return this.error(t)
                    }
                    var l = new o.a,
                        c = new s.a,
                        h = {
                            window: l,
                            subscription: c
                        };
                    this.contexts.push(h);
                    var f = Object(u.a)(this, a, h);
                    f.closed ? this.closeWindow(this.contexts.length - 1) : (f.context = h, c.add(f)), this.destination.next(l)
                } else this.closeWindow(this.contexts.indexOf(t))
            }, e.prototype.notifyError = function(t) {
                this.error(t)
            }, e.prototype.notifyComplete = function(t) {
                t !== this.openSubscription && this.closeWindow(this.contexts.indexOf(t.context))
            }, e.prototype.closeWindow = function(t) {
                if (-1 !== t) {
                    var e = this.contexts,
                        n = e[t],
                        r = n.window,
                        i = n.subscription;
                    e.splice(t, 1), r.complete(), i.unsubscribe()
                }
            }, e
        }(a.a)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return function(e) {
            return e.lift(new u(t))
        }
    }
    e.a = r;
    var i = n(0),
        o = n(12),
        s = n(3),
        a = n(4),
        u = function() {
            function t(t) {
                this.closingSelector = t
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new l(t, this.closingSelector))
            }, t
        }(),
        l = function(t) {
            function e(e, n) {
                var r = t.call(this, e) || this;
                return r.destination = e, r.closingSelector = n, r.openWindow(), r
            }
            return i.a(e, t), e.prototype.notifyNext = function(t, e, n, r, i) {
                this.openWindow(i)
            }, e.prototype.notifyError = function(t, e) {
                this._error(t)
            }, e.prototype.notifyComplete = function(t) {
                this.openWindow(t)
            }, e.prototype._next = function(t) {
                this.window.next(t)
            }, e.prototype._error = function(t) {
                this.window.error(t), this.destination.error(t), this.unsubscribeClosingNotification()
            }, e.prototype._complete = function() {
                this.window.complete(), this.destination.complete(), this.unsubscribeClosingNotification()
            }, e.prototype.unsubscribeClosingNotification = function() {
                this.closingNotification && this.closingNotification.unsubscribe()
            }, e.prototype.openWindow = function(t) {
                void 0 === t && (t = null), t && (this.remove(t), t.unsubscribe());
                var e = this.window;
                e && e.complete();
                var n = this.window = new o.a;
                this.destination.next(n);
                var r;
                try {
                    r = (0, this.closingSelector)()
                } catch (t) {
                    return this.destination.error(t), void this.window.error(t)
                }
                this.add(this.closingNotification = Object(a.a)(this, r))
            }, e
        }(s.a)
}, function(t, e, n) {
    "use strict";

    function r() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        return function(e) {
            var n;
            "function" == typeof t[t.length - 1] && (n = t.pop());
            var r = t;
            return e.lift(new a(r, n))
        }
    }
    e.a = r;
    var i = n(0),
        o = n(3),
        s = n(4),
        a = function() {
            function t(t, e) {
                this.observables = t, this.project = e
            }
            return t.prototype.call = function(t, e) {
                return e.subscribe(new u(t, this.observables, this.project))
            }, t
        }(),
        u = function(t) {
            function e(e, n, r) {
                var i = t.call(this, e) || this;
                i.observables = n, i.project = r, i.toRespond = [];
                var o = n.length;
                i.values = new Array(o);
                for (var a = 0; a < o; a++) i.toRespond.push(a);
                for (var a = 0; a < o; a++) {
                    var u = n[a];
                    i.add(Object(s.a)(i, u, u, a))
                }
                return i
            }
            return i.a(e, t), e.prototype.notifyNext = function(t, e, n, r, i) {
                this.values[n] = e;
                var o = this.toRespond;
                if (o.length > 0) {
                    var s = o.indexOf(n); - 1 !== s && o.splice(s, 1)
                }
            }, e.prototype.notifyComplete = function() {}, e.prototype._next = function(t) {
                if (0 === this.toRespond.length) {
                    var e = [t].concat(this.values);
                    this.project ? this._tryProject(e) : this.destination.next(e)
                }
            }, e.prototype._tryProject = function(t) {
                var e;
                try {
                    e = this.project.apply(this, t)
                } catch (t) {
                    return void this.destination.error(t)
                }
                this.destination.next(e)
            }, e
        }(o.a)
}, function(t, e, n) {
    "use strict";

    function r() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        return function(e) {
            return e.lift.call(i.b.apply(void 0, [e].concat(t)))
        }
    }
    e.a = r;
    var i = n(97)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return function(e) {
            return e.lift(new i.a(t))
        }
    }
    e.a = r;
    var i = n(97)
}, function(t, e, n) {
    function r(t, e, n) {
        var r = e && n || 0,
            c = e || [];
        t = t || {};
        var h = t.node || i,
            f = void 0 !== t.clockseq ? t.clockseq : o;
        if (null == h || null == f) {
            var p = s();
            null == h && (h = i = [1 | p[0], p[1], p[2], p[3], p[4], p[5]]), null == f && (f = o = 16383 & (p[6] << 8 | p[7]))
        }
        var d = void 0 !== t.msecs ? t.msecs : (new Date).getTime(),
            g = void 0 !== t.nsecs ? t.nsecs : l + 1,
            m = d - u + (g - l) / 1e4;
        if (m < 0 && void 0 === t.clockseq && (f = f + 1 & 16383), (m < 0 || d > u) && void 0 === t.nsecs && (g = 0), g >= 1e4) throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");
        u = d, l = g, o = f, d += 122192928e5;
        var v = (1e4 * (268435455 & d) + g) % 4294967296;
        c[r++] = v >>> 24 & 255, c[r++] = v >>> 16 & 255, c[r++] = v >>> 8 & 255, c[r++] = 255 & v;
        var b = d / 4294967296 * 1e4 & 268435455;
        c[r++] = b >>> 8 & 255, c[r++] = 255 & b, c[r++] = b >>> 24 & 15 | 16, c[r++] = b >>> 16 & 255, c[r++] = f >>> 8 | 128, c[r++] = 255 & f;
        for (var y = 0; y < 6; ++y) c[r + y] = h[y];
        return e || a(c)
    }
    var i, o, s = n(152),
        a = n(153),
        u = 0,
        l = 0;
    t.exports = r
}, function(t, e, n) {
    function r(t, e, n) {
        var r = e && n || 0;
        "string" == typeof t && (e = "binary" === t ? new Array(16) : null, t = null), t = t || {};
        var s = t.random || (t.rng || i)();
        if (s[6] = 15 & s[6] | 64, s[8] = 63 & s[8] | 128, e)
            for (var a = 0; a < 16; ++a) e[r + a] = s[a];
        return e || o(s)
    }
    var i = n(152),
        o = n(153);
    t.exports = r
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.StorageService = void 0;
    var r = function() {
        function t() {}
        return t.setItem = function(t, e) {
            var n = JSON.stringify(e);
            localStorage.setItem(t, n)
        }, t.getItem = function(t, e) {
            void 0 === e && (e = !0);
            var n = localStorage.getItem(t);
            return e ? JSON.parse(n) : n
        }, t.purgeStorage = function() {
            localStorage.clear()
        }, t.removeItem = function(t) {
            localStorage.removeItem(t)
        }, t
    }();
    e.StorageService = r
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2);
    n.d(e, "Observable", function() {
        return r.a
    });
    var i = n(142);
    n.d(e, "ConnectableObservable", function() {
        return i.a
    });
    var o = n(139);
    n.d(e, "GroupedObservable", function() {
        return o.a
    });
    var s = n(33);
    n.d(e, "observable", function() {
        return s.a
    });
    var a = n(12);
    n.d(e, "Subject", function() {
        return a.a
    });
    var u = n(145);
    n.d(e, "BehaviorSubject", function() {
        return u.a
    });
    var l = n(93);
    n.d(e, "ReplaySubject", function() {
        return l.a
    });
    var c = n(69);
    n.d(e, "AsyncSubject", function() {
        return c.a
    });
    var h = n(148);
    n.d(e, "asapScheduler", function() {
        return h.a
    });
    var f = n(16);
    n.d(e, "asyncScheduler", function() {
        return f.a
    });
    var p = n(146);
    n.d(e, "queueScheduler", function() {
        return p.a
    });
    var d = n(315);
    n.d(e, "animationFrameScheduler", function() {
        return d.a
    });
    var g = n(318);
    n.d(e, "VirtualTimeScheduler", function() {
        return g.b
    }), n.d(e, "VirtualAction", function() {
        return g.a
    });
    var m = n(131);
    n.d(e, "Scheduler", function() {
        return m.a
    });
    var v = n(10);
    n.d(e, "Subscription", function() {
        return v.a
    });
    var b = n(1);
    n.d(e, "Subscriber", function() {
        return b.a
    });
    var y = n(65);
    n.d(e, "Notification", function() {
        return y.a
    }), n.d(e, "NotificationKind", function() {
        return y.b
    });
    var _ = n(83);
    n.d(e, "pipe", function() {
        return _.a
    });
    var w = n(95);
    n.d(e, "noop", function() {
        return w.a
    });
    var x = n(31);
    n.d(e, "identity", function() {
        return x.a
    });
    var T = n(319);
    n.d(e, "isObservable", function() {
        return T.a
    });
    var C = n(49);
    n.d(e, "ArgumentOutOfRangeError", function() {
        return C.a
    });
    var I = n(50);
    n.d(e, "EmptyError", function() {
        return I.a
    });
    var S = n(67);
    n.d(e, "ObjectUnsubscribedError", function() {
        return S.a
    });
    var O = n(125);
    n.d(e, "UnsubscriptionError", function() {
        return O.a
    });
    var E = n(150);
    n.d(e, "TimeoutError", function() {
        return E.a
    });
    var P = n(320);
    n.d(e, "bindCallback", function() {
        return P.a
    });
    var M = n(321);
    n.d(e, "bindNodeCallback", function() {
        return M.a
    });
    var k = n(85);
    n.d(e, "combineLatest", function() {
        return k.b
    });
    var L = n(63);
    n.d(e, "concat", function() {
        return L.a
    });
    var A = n(96);
    n.d(e, "defer", function() {
        return A.a
    });
    var R = n(24);
    n.d(e, "empty", function() {
        return R.b
    });
    var N = n(322);
    n.d(e, "forkJoin", function() {
        return N.a
    });
    var j = n(23);
    n.d(e, "from", function() {
        return j.a
    });
    var B = n(323);
    n.d(e, "fromEvent", function() {
        return B.a
    });
    var z = n(324);
    n.d(e, "fromEventPattern", function() {
        return z.a
    });
    var D = n(325);
    n.d(e, "generate", function() {
        return D.a
    });
    var F = n(326);
    n.d(e, "iif", function() {
        return F.a
    });
    var V = n(327);
    n.d(e, "interval", function() {
        return V.a
    });
    var U = n(141);
    n.d(e, "merge", function() {
        return U.a
    });
    var H = n(154);
    n.d(e, "never", function() {
        return H.b
    });
    var G = n(64);
    n.d(e, "of", function() {
        return G.a
    });
    var W = n(328);
    n.d(e, "onErrorResumeNext", function() {
        return W.a
    });
    var X = n(329);
    n.d(e, "pairs", function() {
        return X.a
    });
    var q = n(330);
    n.d(e, "partition", function() {
        return q.a
    });
    var Y = n(147);
    n.d(e, "race", function() {
        return Y.a
    });
    var K = n(331);
    n.d(e, "range", function() {
        return K.a
    });
    var $ = n(88);
    n.d(e, "throwError", function() {
        return $.a
    });
    var Z = n(132);
    n.d(e, "timer", function() {
        return Z.a
    });
    var J = n(332);
    n.d(e, "using", function() {
        return J.a
    });
    var Q = n(97);
    n.d(e, "zip", function() {
        return Q.b
    });
    var tt = n(133);
    n.d(e, "scheduled", function() {
        return tt.a
    }), n.d(e, "EMPTY", function() {
        return R.a
    }), n.d(e, "NEVER", function() {
        return H.a
    });
    var et = n(61);
    n.d(e, "config", function() {
        return et.a
    })
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return o
    });
    var r = n(316),
        i = n(317),
        o = new i.a(r.a)
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return o
    });
    var r = n(0),
        i = n(44),
        o = function(t) {
            function e(e, n) {
                var r = t.call(this, e, n) || this;
                return r.scheduler = e, r.work = n, r
            }
            return r.a(e, t), e.prototype.requestAsyncId = function(e, n, r) {
                return void 0 === r && (r = 0), null !== r && r > 0 ? t.prototype.requestAsyncId.call(this, e, n, r) : (e.actions.push(this), e.scheduled || (e.scheduled = requestAnimationFrame(function() {
                    return e.flush(null)
                })))
            }, e.prototype.recycleAsyncId = function(e, n, r) {
                if (void 0 === r && (r = 0), null !== r && r > 0 || null === r && this.delay > 0) return t.prototype.recycleAsyncId.call(this, e, n, r);
                0 === e.actions.length && (cancelAnimationFrame(n), e.scheduled = void 0)
            }, e
        }(i.a)
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return o
    });
    var r = n(0),
        i = n(45),
        o = function(t) {
            function e() {
                return null !== t && t.apply(this, arguments) || this
            }
            return r.a(e, t), e.prototype.flush = function(t) {
                this.active = !0, this.scheduled = void 0;
                var e, n = this.actions,
                    r = -1,
                    i = n.length;
                t = t || n.shift();
                do {
                    if (e = t.execute(t.state, t.delay)) break
                } while (++r < i && (t = n.shift()));
                if (this.active = !1, e) {
                    for (; ++r < i && (t = n.shift());) t.unsubscribe();
                    throw e
                }
            }, e
        }(i.a)
}, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return s
    }), n.d(e, "a", function() {
        return a
    });
    var r = n(0),
        i = n(44),
        o = n(45),
        s = function(t) {
            function e(e, n) {
                void 0 === e && (e = a), void 0 === n && (n = Number.POSITIVE_INFINITY);
                var r = t.call(this, e, function() {
                    return r.frame
                }) || this;
                return r.maxFrames = n, r.frame = 0, r.index = -1, r
            }
            return r.a(e, t), e.prototype.flush = function() {
                for (var t, e, n = this, r = n.actions, i = n.maxFrames;
                    (e = r[0]) && e.delay <= i && (r.shift(), this.frame = e.delay, !(t = e.execute(e.state, e.delay))););
                if (t) {
                    for (; e = r.shift();) e.unsubscribe();
                    throw t
                }
            }, e.frameTimeFactor = 10, e
        }(o.a),
        a = function(t) {
            function e(e, n, r) {
                void 0 === r && (r = e.index += 1);
                var i = t.call(this, e, n) || this;
                return i.scheduler = e, i.work = n, i.index = r, i.active = !0, i.index = e.index = r, i
            }
            return r.a(e, t), e.prototype.schedule = function(n, r) {
                if (void 0 === r && (r = 0), !this.id) return t.prototype.schedule.call(this, n, r);
                this.active = !1;
                var i = new e(this.scheduler, this.work);
                return this.add(i), i.schedule(n, r)
            }, e.prototype.requestAsyncId = function(t, n, r) {
                void 0 === r && (r = 0), this.delay = t.frame + r;
                var i = t.actions;
                return i.push(this), i.sort(e.sortActions), !0
            }, e.prototype.recycleAsyncId = function(t, e, n) {
                void 0 === n && (n = 0)
            }, e.prototype._execute = function(e, n) {
                if (!0 === this.active) return t.prototype._execute.call(this, e, n)
            }, e.sortActions = function(t, e) {
                return t.delay === e.delay ? t.index === e.index ? 0 : t.index > e.index ? 1 : -1 : t.delay > e.delay ? 1 : -1
            }, e
        }(i.a)
}, function(t, e, n) {
    "use strict";

    function r(t) {
        return !!t && (t instanceof i.a || "function" == typeof t.lift && "function" == typeof t.subscribe)
    }
    e.a = r;
    var i = n(2)
}, function(t, e, n) {
    "use strict";

    function r(t, e, n) {
        if (e) {
            if (!Object(h.a)(e)) return function() {
                for (var i = [], o = 0; o < arguments.length; o++) i[o] = arguments[o];
                return r(t, n).apply(void 0, i).pipe(Object(u.a)(function(t) {
                    return Object(c.a)(t) ? e.apply(void 0, t) : e(t)
                }))
            };
            n = e
        }
        return function() {
            for (var e = [], r = 0; r < arguments.length; r++) e[r] = arguments[r];
            var o, u = this,
                c = {
                    context: u,
                    subject: o,
                    callbackFunc: t,
                    scheduler: n
                };
            return new s.a(function(r) {
                if (n) {
                    var s = {
                        args: e,
                        subscriber: r,
                        params: c
                    };
                    return n.schedule(i, 0, s)
                }
                if (!o) {
                    o = new a.a;
                    var h = function() {
                        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                        o.next(t.length <= 1 ? t[0] : t), o.complete()
                    };
                    try {
                        t.apply(u, e.concat([h]))
                    } catch (t) {
                        Object(l.a)(o) ? o.error(t) : console.warn(t)
                    }
                }
                return o.subscribe(r)
            })
        }
    }

    function i(t) {
        var e = this,
            n = t.args,
            r = t.subscriber,
            i = t.params,
            s = i.callbackFunc,
            u = i.context,
            l = i.scheduler,
            c = i.subject;
        if (!c) {
            c = i.subject = new a.a;
            var h = function() {
                for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                var r = t.length <= 1 ? t[0] : t;
                e.add(l.schedule(o, 0, {
                    value: r,
                    subject: c
                }))
            };
            try {
                s.apply(u, n.concat([h]))
            } catch (t) {
                c.error(t)
            }
        }
        this.add(c.subscribe(r))
    }

    function o(t) {
        var e = t.value,
            n = t.subject;
        n.next(e), n.complete()
    }
    e.a = r;
    var s = n(2),
        a = n(69),
        u = n(17),
        l = n(79),
        c = n(15),
        h = n(22)
}, function(t, e, n) {
    "use strict";

    function r(t, e, n) {
        if (e) {
            if (!Object(h.a)(e)) return function() {
                for (var i = [], o = 0; o < arguments.length; o++) i[o] = arguments[o];
                return r(t, n).apply(void 0, i).pipe(Object(l.a)(function(t) {
                    return Object(f.a)(t) ? e.apply(void 0, t) : e(t)
                }))
            };
            n = e
        }
        return function() {
            for (var e = [], r = 0; r < arguments.length; r++) e[r] = arguments[r];
            var o = {
                subject: void 0,
                args: e,
                callbackFunc: t,
                scheduler: n,
                context: this
            };
            return new a.a(function(r) {
                var s = o.context,
                    a = o.subject;
                if (n) return n.schedule(i, 0, {
                    params: o,
                    subscriber: r,
                    context: s
                });
                if (!a) {
                    a = o.subject = new u.a;
                    var l = function() {
                        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                        var n = t.shift();
                        if (n) return void a.error(n);
                        a.next(t.length <= 1 ? t[0] : t), a.complete()
                    };
                    try {
                        t.apply(s, e.concat([l]))
                    } catch (t) {
                        Object(c.a)(a) ? a.error(t) : console.warn(t)
                    }
                }
                return a.subscribe(r)
            })
        }
    }

    function i(t) {
        var e = this,
            n = t.params,
            r = t.subscriber,
            i = t.context,
            a = n.callbackFunc,
            l = n.args,
            c = n.scheduler,
            h = n.subject;
        if (!h) {
            h = n.subject = new u.a;
            var f = function() {
                for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                var r = t.shift();
                if (r) e.add(c.schedule(s, 0, {
                    err: r,
                    subject: h
                }));
                else {
                    var i = t.length <= 1 ? t[0] : t;
                    e.add(c.schedule(o, 0, {
                        value: i,
                        subject: h
                    }))
                }
            };
            try {
                a.apply(i, l.concat([f]))
            } catch (t) {
                this.add(c.schedule(s, 0, {
                    err: t,
                    subject: h
                }))
            }
        }
        this.add(h.subscribe(r))
    }

    function o(t) {
        var e = t.value,
            n = t.subject;
        n.next(e), n.complete()
    }

    function s(t) {
        var e = t.err;
        t.subject.error(e)
    }
    e.a = r;
    var a = n(2),
        u = n(69),
        l = n(17),
        c = n(79),
        h = n(22),
        f = n(15)
}, function(t, e, n) {
    "use strict";

    function r() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        if (1 === t.length) {
            var n = t[0];
            if (Object(s.a)(n)) return i(n, null);
            if (Object(u.a)(n) && Object.getPrototypeOf(n) === Object.prototype) {
                var r = Object.keys(n);
                return i(r.map(function(t) {
                    return n[t]
                }), r)
            }
        }
        if ("function" == typeof t[t.length - 1]) {
            var o = t.pop();
            return t = 1 === t.length && Object(s.a)(t[0]) ? t[0] : t, i(t, null).pipe(Object(a.a)(function(t) {
                return o.apply(void 0, t)
            }))
        }
        return i(t, null)
    }

    function i(t, e) {
        return new o.a(function(n) {
            var r = t.length;
            if (0 === r) return void n.complete();
            for (var i = new Array(r), o = 0, s = 0, a = 0; a < r; a++) ! function(a) {
                var u = Object(l.a)(t[a]),
                    c = !1;
                n.add(u.subscribe({
                    next: function(t) {
                        c || (c = !0, s++), i[a] = t
                    },
                    error: function(t) {
                        return n.error(t)
                    },
                    complete: function() {
                        ++o !== r && c || (s === r && n.next(e ? e.reduce(function(t, e, n) {
                            return t[e] = i[n], t
                        }, {}) : i), n.complete())
                    }
                }))
            }(a)
        })
    }
    e.a = r;
    var o = n(2),
        s = n(15),
        a = n(17),
        u = n(81),
        l = n(23)
}, function(t, e, n) {
    "use strict";

    function r(t, e, n, o) {
        return Object(c.a)(n) && (o = n, n = void 0), o ? r(t, e, n).pipe(Object(h.a)(function(t) {
            return Object(l.a)(t) ? o.apply(void 0, t) : o(t)
        })) : new u.a(function(r) {
            function o(t) {
                arguments.length > 1 ? r.next(Array.prototype.slice.call(arguments)) : r.next(t)
            }
            i(t, e, o, r, n)
        })
    }

    function i(t, e, n, r, u) {
        var l;
        if (a(t)) {
            var c = t;
            t.addEventListener(e, n, u), l = function() {
                return c.removeEventListener(e, n, u)
            }
        } else if (s(t)) {
            var h = t;
            t.on(e, n), l = function() {
                return h.off(e, n)
            }
        } else if (o(t)) {
            var f = t;
            t.addListener(e, n), l = function() {
                return f.removeListener(e, n)
            }
        } else {
            if (!t || !t.length) throw new TypeError("Invalid event target");
            for (var p = 0, d = t.length; p < d; p++) i(t[p], e, n, r, u)
        }
        r.add(l)
    }

    function o(t) {
        return t && "function" == typeof t.addListener && "function" == typeof t.removeListener
    }

    function s(t) {
        return t && "function" == typeof t.on && "function" == typeof t.off
    }

    function a(t) {
        return t && "function" == typeof t.addEventListener && "function" == typeof t.removeEventListener
    }
    e.a = r;
    var u = n(2),
        l = n(15),
        c = n(42),
        h = n(17)
}, function(t, e, n) {
    "use strict";

    function r(t, e, n) {
        return n ? r(t, e).pipe(Object(a.a)(function(t) {
            return Object(o.a)(t) ? n.apply(void 0, t) : n(t)
        })) : new i.a(function(n) {
            var r, i = function() {
                for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                return n.next(1 === t.length ? t[0] : t)
            };
            try {
                r = t(i)
            } catch (t) {
                return void n.error(t)
            }
            if (Object(s.a)(e)) return function() {
                return e(i, r)
            }
        })
    }
    e.a = r;
    var i = n(2),
        o = n(15),
        s = n(42),
        a = n(17)
}, function(t, e, n) {
    "use strict";

    function r(t, e, n, r, u) {
        var l, c;
        if (1 == arguments.length) {
            var h = t;
            c = h.initialState, e = h.condition, n = h.iterate, l = h.resultSelector || s.a, u = h.scheduler
        } else void 0 === r || Object(a.a)(r) ? (c = t, l = s.a, u = r) : (c = t, l = r);
        return new o.a(function(t) {
            var r = c;
            if (u) return u.schedule(i, 0, {
                subscriber: t,
                iterate: n,
                condition: e,
                resultSelector: l,
                state: r
            });
            for (;;) {
                if (e) {
                    var o = void 0;
                    try {
                        o = e(r)
                    } catch (e) {
                        return void t.error(e)
                    }
                    if (!o) {
                        t.complete();
                        break
                    }
                }
                var s = void 0;
                try {
                    s = l(r)
                } catch (e) {
                    return void t.error(e)
                }
                if (t.next(s), t.closed) break;
                try {
                    r = n(r)
                } catch (e) {
                    return void t.error(e)
                }
            }
        })
    }

    function i(t) {
        var e = t.subscriber,
            n = t.condition;
        if (!e.closed) {
            if (t.needIterate) try {
                t.state = t.iterate(t.state)
            } catch (t) {
                return void e.error(t)
            } else t.needIterate = !0;
            if (n) {
                var r = void 0;
                try {
                    r = n(t.state)
                } catch (t) {
                    return void e.error(t)
                }
                if (!r) return void e.complete();
                if (e.closed) return
            }
            var i;
            try {
                i = t.resultSelector(t.state)
            } catch (t) {
                return void e.error(t)
            }
            if (!e.closed && (e.next(i), !e.closed)) return this.schedule(t)
        }
    }
    e.a = r;
    var o = n(2),
        s = n(31),
        a = n(22)
}, function(t, e, n) {
    "use strict";

    function r(t, e, n) {
        return void 0 === e && (e = o.a), void 0 === n && (n = o.a), Object(i.a)(function() {
            return t() ? e : n
        })
    }
    e.a = r;
    var i = n(96),
        o = n(24)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return void 0 === t && (t = 0), void 0 === e && (e = s.a), (!Object(a.a)(t) || t < 0) && (t = 0), e && "function" == typeof e.schedule || (e = s.a), new o.a(function(n) {
            return n.add(e.schedule(i, t, {
                subscriber: n,
                counter: 0,
                period: t
            })), n
        })
    }

    function i(t) {
        var e = t.subscriber,
            n = t.counter,
            r = t.period;
        e.next(n), this.schedule({
            subscriber: e,
            counter: n + 1,
            period: r
        }, r)
    }
    e.a = r;
    var o = n(2),
        s = n(16),
        a = n(62)
}, function(t, e, n) {
    "use strict";

    function r() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        if (0 === t.length) return a.a;
        var n = t[0],
            u = t.slice(1);
        return 1 === t.length && Object(s.a)(n) ? r.apply(void 0, n) : new i.a(function(t) {
            var e = function() {
                return t.add(r.apply(void 0, u).subscribe(t))
            };
            return Object(o.a)(n).subscribe({
                next: function(e) {
                    t.next(e)
                },
                error: e,
                complete: e
            })
        })
    }
    e.a = r;
    var i = n(2),
        o = n(23),
        s = n(15),
        a = n(24)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return e ? new o.a(function(n) {
            var r = Object.keys(t),
                o = new s.a;
            return o.add(e.schedule(i, 0, {
                keys: r,
                index: 0,
                subscriber: n,
                subscription: o,
                obj: t
            })), o
        }) : new o.a(function(e) {
            for (var n = Object.keys(t), r = 0; r < n.length && !e.closed; r++) {
                var i = n[r];
                t.hasOwnProperty(i) && e.next([i, t[i]])
            }
            e.complete()
        })
    }

    function i(t) {
        var e = t.keys,
            n = t.index,
            r = t.subscriber,
            i = t.subscription,
            o = t.obj;
        if (!r.closed)
            if (n < e.length) {
                var s = e[n];
                r.next([s, o[s]]), i.add(this.schedule({
                    keys: e,
                    index: n + 1,
                    subscriber: r,
                    subscription: i,
                    obj: o
                }))
            } else r.complete()
    }
    e.a = r;
    var o = n(2),
        s = n(10)
}, function(t, e, n) {
    "use strict";

    function r(t, e, n) {
        return [Object(s.a)(e, n)(new a.a(Object(o.a)(t))), Object(s.a)(Object(i.a)(e, n))(new a.a(Object(o.a)(t)))]
    }
    e.a = r;
    var i = n(144),
        o = n(84),
        s = n(34),
        a = n(2)
}, function(t, e, n) {
    "use strict";

    function r(t, e, n) {
        return void 0 === t && (t = 0), new o.a(function(r) {
            void 0 === e && (e = t, t = 0);
            var o = 0,
                s = t;
            if (n) return n.schedule(i, 0, {
                index: o,
                count: e,
                start: t,
                subscriber: r
            });
            for (;;) {
                if (o++ >= e) {
                    r.complete();
                    break
                }
                if (r.next(s++), r.closed) break
            }
        })
    }

    function i(t) {
        var e = t.start,
            n = t.index,
            r = t.count,
            i = t.subscriber;
        if (n >= r) return void i.complete();
        i.next(e), i.closed || (t.index = n + 1, t.start = e + 1, this.schedule(t))
    }
    e.a = r;
    var o = n(2)
}, function(t, e, n) {
    "use strict";

    function r(t, e) {
        return new i.a(function(n) {
            var r;
            try {
                r = t()
            } catch (t) {
                return void n.error(t)
            }
            var i;
            try {
                i = e(r)
            } catch (t) {
                return void n.error(t)
            }
            var a = i ? Object(o.a)(i) : s.a,
                u = a.subscribe(n);
            return function() {
                u.unsubscribe(), r && r.unsubscribe()
            }
        })
    }
    e.a = r;
    var i = n(2),
        o = n(23),
        s = n(24)
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.BrandProductBuilder = void 0;
    var r = n(51),
        i = function() {
            function t() {}
            return t.getInstance = function() {
                return null === t._instance && (t._instance = new t), t._instance
            }, t.prototype.buildTextItem = function(t, e, n) {
                if (null !== n) {
                    var i = n.getItemByTarget(e.target);
                    if (null !== i) {
                        var o = r.BrandProduct.getTemplateById(n.template.id, n.templates),
                            s = o.getItemByTarget(e.target);
                        i.content !== s.content && (e.content = i.content)
                    }
                }
            }, t.prototype.buildLogoItem = function(t, e, n) {
                void 0 === n && (n = null), e.logo = t.getLogo(e.logoType, e.withSlogan)
            }, t.prototype.buildSvgItem = function(t, e, n) {
                void 0 === n && (n = null)
            }, t.prototype.buildImageItem = function(t, e, n) {
                void 0 === n && (n = null)
            }, t._instance = null, t
        }();
    e.BrandProductBuilder = i
}, function(t, e, n) {
    "use strict";
    (function(t) {
        Object.defineProperty(e, "__esModule", {
            value: !0
        }), e.Request = void 0;
        var r = n(155),
            i = function() {
                function e() {}
                return e.getActiveRequest = function() {
                    return e.request || (e.request = new r.AxiosRequest), e.request
                }, e.ajax = function(t) {
                    return e.getActiveRequest().ajax(t)
                }, e.prototype.ajax = function(e) {
                    return t.reject("Abstract method does not have implementation.")
                }, e
            }();
        e.Request = i
    }).call(e, n(6))
}, function(t, e, n) {
    t.exports = n(336)
}, function(t, e, n) {
    "use strict";
    (function(e) {
        function r(t) {
            var e = new s(t),
                n = o(s.prototype.request, e);
            return i.extend(n, s.prototype, e), i.extend(n, e), n
        }
        var i = n(18),
            o = n(156),
            s = n(337),
            a = n(162),
            u = n(159),
            l = r(u);
        l.Axios = s, l.create = function(t) {
            return r(a(l.defaults, t))
        }, l.Cancel = n(163), l.CancelToken = n(350), l.isCancel = n(158), l.all = function(t) {
            return e.all(t)
        }, l.spread = n(351), t.exports = l, t.exports.default = l
    }).call(e, n(6))
}, function(t, e, n) {
    "use strict";
    (function(e) {
        function r(t) {
            this.defaults = t, this.interceptors = {
                request: new s,
                response: new s
            }
        }
        var i = n(18),
            o = n(157),
            s = n(338),
            a = n(339),
            u = n(162);
        r.prototype.request = function(t) {
            "string" == typeof t ? (t = arguments[1] || {}, t.url = arguments[0]) : t = t || {}, t = u(this.defaults, t), t.method ? t.method = t.method.toLowerCase() : this.defaults.method ? t.method = this.defaults.method.toLowerCase() : t.method = "get";
            var n = [a, void 0],
                r = e.resolve(t);
            for (this.interceptors.request.forEach(function(t) {
                    n.unshift(t.fulfilled, t.rejected)
                }), this.interceptors.response.forEach(function(t) {
                    n.push(t.fulfilled, t.rejected)
                }); n.length;) r = r.then(n.shift(), n.shift());
            return r
        }, r.prototype.getUri = function(t) {
            return t = u(this.defaults, t), o(t.url, t.params, t.paramsSerializer).replace(/^\?/, "")
        }, i.forEach(["delete", "get", "head", "options"], function(t) {
            r.prototype[t] = function(e, n) {
                return this.request(i.merge(n || {}, {
                    method: t,
                    url: e
                }))
            }
        }), i.forEach(["post", "put", "patch"], function(t) {
            r.prototype[t] = function(e, n, r) {
                return this.request(i.merge(r || {}, {
                    method: t,
                    url: e,
                    data: n
                }))
            }
        }), t.exports = r
    }).call(e, n(6))
}, function(t, e, n) {
    "use strict";

    function r() {
        this.handlers = []
    }
    var i = n(18);
    r.prototype.use = function(t, e) {
        return this.handlers.push({
            fulfilled: t,
            rejected: e
        }), this.handlers.length - 1
    }, r.prototype.eject = function(t) {
        this.handlers[t] && (this.handlers[t] = null)
    }, r.prototype.forEach = function(t) {
        i.forEach(this.handlers, function(e) {
            null !== e && t(e)
        })
    }, t.exports = r
}, function(t, e, n) {
    "use strict";
    (function(e) {
        function r(t) {
            t.cancelToken && t.cancelToken.throwIfRequested()
        }
        var i = n(18),
            o = n(340),
            s = n(158),
            a = n(159);
        t.exports = function(t) {
            return r(t), t.headers = t.headers || {}, t.data = o(t.data, t.headers, t.transformRequest), t.headers = i.merge(t.headers.common || {}, t.headers[t.method] || {}, t.headers), i.forEach(["delete", "get", "head", "post", "put", "patch", "common"], function(e) {
                delete t.headers[e]
            }), (t.adapter || a.adapter)(t).then(function(e) {
                return r(t), e.data = o(e.data, e.headers, t.transformResponse), e
            }, function(n) {
                return s(n) || (r(t), n && n.response && (n.response.data = o(n.response.data, n.response.headers, t.transformResponse))), e.reject(n)
            })
        }
    }).call(e, n(6))
}, function(t, e, n) {
    "use strict";
    var r = n(18);
    t.exports = function(t, e, n) {
        return r.forEach(n, function(n) {
            t = n(t, e)
        }), t
    }
}, function(t, e, n) {
    "use strict";
    var r = n(18);
    t.exports = function(t, e) {
        r.forEach(t, function(n, r) {
            r !== e && r.toUpperCase() === e.toUpperCase() && (t[e] = n, delete t[r])
        })
    }
}, function(t, e, n) {
    "use strict";
    var r = n(161);
    t.exports = function(t, e, n) {
        var i = n.config.validateStatus;
        !i || i(n.status) ? t(n) : e(r("Request failed with status code " + n.status, n.config, null, n.request, n))
    }
}, function(t, e, n) {
    "use strict";
    t.exports = function(t, e, n, r, i) {
        return t.config = e, n && (t.code = n), t.request = r, t.response = i, t.isAxiosError = !0, t.toJSON = function() {
            return {
                message: this.message,
                name: this.name,
                description: this.description,
                number: this.number,
                fileName: this.fileName,
                lineNumber: this.lineNumber,
                columnNumber: this.columnNumber,
                stack: this.stack,
                config: this.config,
                code: this.code
            }
        }, t
    }
}, function(t, e, n) {
    "use strict";
    var r = n(345),
        i = n(346);
    t.exports = function(t, e) {
        return t && !r(e) ? i(t, e) : e
    }
}, function(t, e, n) {
    "use strict";
    t.exports = function(t) {
        return /^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)
    }
}, function(t, e, n) {
    "use strict";
    t.exports = function(t, e) {
        return e ? t.replace(/\/+$/, "") + "/" + e.replace(/^\/+/, "") : t
    }
}, function(t, e, n) {
    "use strict";
    var r = n(18),
        i = ["age", "authorization", "content-length", "content-type", "etag", "expires", "from", "host", "if-modified-since", "if-unmodified-since", "last-modified", "location", "max-forwards", "proxy-authorization", "referer", "retry-after", "user-agent"];
    t.exports = function(t) {
        var e, n, o, s = {};
        return t ? (r.forEach(t.split("\n"), function(t) {
            if (o = t.indexOf(":"), e = r.trim(t.substr(0, o)).toLowerCase(), n = r.trim(t.substr(o + 1)), e) {
                if (s[e] && i.indexOf(e) >= 0) return;
                s[e] = "set-cookie" === e ? (s[e] ? s[e] : []).concat([n]) : s[e] ? s[e] + ", " + n : n
            }
        }), s) : s
    }
}, function(t, e, n) {
    "use strict";
    var r = n(18);
    t.exports = r.isStandardBrowserEnv() ? function() {
        function t(t) {
            var e = t;
            return n && (i.setAttribute("href", e), e = i.href), i.setAttribute("href", e), {
                href: i.href,
                protocol: i.protocol ? i.protocol.replace(/:$/, "") : "",
                host: i.host,
                search: i.search ? i.search.replace(/^\?/, "") : "",
                hash: i.hash ? i.hash.replace(/^#/, "") : "",
                hostname: i.hostname,
                port: i.port,
                pathname: "/" === i.pathname.charAt(0) ? i.pathname : "/" + i.pathname
            }
        }
        var e, n = /(msie|trident)/i.test(navigator.userAgent),
            i = document.createElement("a");
        return e = t(window.location.href),
            function(n) {
                var i = r.isString(n) ? t(n) : n;
                return i.protocol === e.protocol && i.host === e.host
            }
    }() : function() {
        return function() {
            return !0
        }
    }()
}, function(t, e, n) {
    "use strict";
    var r = n(18);
    t.exports = r.isStandardBrowserEnv() ? function() {
        return {
            write: function(t, e, n, i, o, s) {
                var a = [];
                a.push(t + "=" + encodeURIComponent(e)), r.isNumber(n) && a.push("expires=" + new Date(n).toGMTString()), r.isString(i) && a.push("path=" + i), r.isString(o) && a.push("domain=" + o), !0 === s && a.push("secure"), document.cookie = a.join("; ")
            },
            read: function(t) {
                var e = document.cookie.match(new RegExp("(^|;\\s*)(" + t + ")=([^;]*)"));
                return e ? decodeURIComponent(e[3]) : null
            },
            remove: function(t) {
                this.write(t, "", Date.now() - 864e5)
            }
        }
    }() : function() {
        return {
            write: function() {},
            read: function() {
                return null
            },
            remove: function() {}
        }
    }()
}, function(t, e, n) {
    "use strict";
    (function(e) {
        function r(t) {
            if ("function" != typeof t) throw new TypeError("executor must be a function.");
            var n;
            this.promise = new e(function(t) {
                n = t
            });
            var r = this;
            t(function(t) {
                r.reason || (r.reason = new i(t), n(r.reason))
            })
        }
        var i = n(163);
        r.prototype.throwIfRequested = function() {
            if (this.reason) throw this.reason
        }, r.source = function() {
            var t;
            return {
                token: new r(function(e) {
                    t = e
                }),
                cancel: t
            }
        }, t.exports = r
    }).call(e, n(6))
}, function(t, e, n) {
    "use strict";
    t.exports = function(t) {
        return function(e) {
            return t.apply(null, e)
        }
    }
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.TransformRectangle = void 0;
    var r = function() {
        function t(t, e, n, r) {
            this._p1 = t, this._p2 = e, this._p3 = n, this._p4 = r
        }
        return t.prototype._calculateLength = function(t, e) {
            var n = e.x - t.x,
                r = e.y - t.y;
            return Math.sqrt(n * n + r * r)
        }, Object.defineProperty(t.prototype, "p1", {
            get: function() {
                return this._p1
            },
            enumerable: !1,
            configurable: !0
        }), Object.defineProperty(t.prototype, "p2", {
            get: function() {
                return this._p2
            },
            enumerable: !1,
            configurable: !0
        }), Object.defineProperty(t.prototype, "p3", {
            get: function() {
                return this._p3
            },
            enumerable: !1,
            configurable: !0
        }), Object.defineProperty(t.prototype, "p4", {
            get: function() {
                return this._p4
            },
            enumerable: !1,
            configurable: !0
        }), Object.defineProperty(t.prototype, "width", {
            get: function() {
                return this._calculateLength(this._p1, this._p2)
            },
            enumerable: !1,
            configurable: !0
        }), Object.defineProperty(t.prototype, "height", {
            get: function() {
                return this._calculateLength(this._p1, this._p3)
            },
            enumerable: !1,
            configurable: !0
        }), t
    }();
    e.TransformRectangle = r
}, function(t, e, n) {
    "use strict";
    var r = this && this.__extends || function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                })(e, n)
        };
        return function(e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.CustomBPSvgItem = void 0;
    var i = n(21),
        o = n(99),
        s = n(20),
        a = n(14),
        u = n(40),
        l = n(71),
        c = function(t) {
            function e() {
                var e = t.call(this) || this;
                return e.id = null, e.svg = null, e.type = i.BPItem.CUSTOM_SVG, e
            }
            return r(e, t), e.deserialize = function(t) {
                var n = new e;
                n.group = t.group, n.maths = s.Maths.deserialize(t.maths), n.fill = u.BPItemFill.deserialize(t.fill), n.target = t.target, n.bounds = a.Rectangle.deserialize(t.content), n.imageUrl = t.url;
                var r = t.svg;
                if (n.id = r.id, n.id = r.emblemType === l.SvgIcon.PRIMITIVE ? l.SvgIcon.PRIMITIVE_ID : r.id, n.setSvgContentString(r.content), null != r.bounds) {
                    var i = r.bounds.split(";");
                    n.svgBounds = new a.Rectangle(parseFloat(i[0]), parseFloat(i[1]), parseFloat(i[2]), parseFloat(i[3]))
                } else n.svgBounds = n.bounds;
                return n
            }, e.prototype.serialize = function(e) {
                void 0 === e && (e = !1);
                var n = t.prototype.serialize.call(this);
                return n.url = this.imageUrl, n
            }, e.prototype.clone = function() {
                var t = new e;
                return t.group = this.group, t.maths = this.maths.clone(), t.fill = this.fill.clone(), t.target = this.target, t.content = this.content, t.id = this.id, t.svg = this.svg, t.svgBounds = this.svgBounds.clone(), t.bounds = this.bounds.clone(), t.product = this.product, t.imageUrl = this.imageUrl, t
            }, e.BP_ICON_ITYPE = 100001, e
        }(o.BPSvgItem);
    e.CustomBPSvgItem = c
}, function(t, e, n) {
    "use strict";
    (function(t) {
        var r = this && this.__extends || function() {
            var t = function(e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                    })(e, n)
            };
            return function(e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }();
        Object.defineProperty(e, "__esModule", {
            value: !0
        }), e.BPImageItem = void 0;
        var i = n(7),
            o = n(14),
            s = n(21),
            a = n(20),
            u = n(40),
            l = n(9),
            c = n(13),
            h = function(e) {
                function n() {
                    var t = e.call(this) || this;
                    return t.image = null, t.imageLoaded = !1, t.fill = new u.BPItemFill(l.ColorRange.BG_B), t.maths = new a.Maths, t.group = 1, t.type = s.BPItem.Image, t.content = null, t
                }
                return r(n, e), n.deserialize = function(t) {
                    var e = new n;
                    return e.imageUrl = t.url, e.bounds = o.Rectangle.deserialize(t.bounds), e.content = t.content, e.maths = a.Maths.deserialize(t.maths), e
                }, n.prototype.serialize = function(t) {
                    void 0 === t && (t = !1);
                    var n = e.prototype.serialize.call(this);
                    return n.bounds = this.bounds.serialize(), n.url = this.imageUrl, n
                }, n.prototype.clone = function() {
                    var t = new n;
                    return t.uid = this.uid, t.group = this.group, t.maths = this.maths.clone(), t.fill = this.fill ? this.fill.clone() : null, t.target = this.target, t.bounds = this.bounds.clone(), t.content = this.content, t.product = this.product, t.imageUrl = this.imageUrl, t
                }, n.prototype.loadDynamic = function(e, n) {
                    var r = this;
                    return void 0 === e && (e = null), void 0 === n && (n = 1), new t(function(t, e) {
                        r.image = new Image, r.image.crossOrigin = "anonymous", r.image.src = c.Site.getShowcaseImageUrl(r.imageUrl, n), r.image.onload = function() {
                            r.imageLoaded = !0, t()
                        }, r.image.onerror = function() {
                            e()
                        }
                    })
                }, n.prototype.calculateAlignMatrix = function() {
                    var t = new i.Matrix;
                    if (void 0 === this.content || null === this.content) return t;
                    var e = o.Rectangle.deserialize(this.content),
                        n = e.width / this.bounds.width,
                        r = n;
                    return r * this.bounds.height < e.height && (r = e.height / this.bounds.height, n = r), n > 1 && (n = 1, r = 1), t.scale(n, r), t.translate(e.x, e.y), t
                }, n
            }(s.BPItem);
        e.BPImageItem = h
    }).call(e, n(6))
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.PopupContextMenu = void 0;
    var r = n(368),
        i = n(8),
        o = n(183),
        s = n(36),
        a = function() {
            function t(t, e, n) {
                void 0 === n && (n = null), this.brand = null, this.menu = null, this.canvases = null, s.ApiAccess.init(n), this.brand = t, this.canvases = e, this.initMenu(), this.deleteUnusedMenus()
            }
            return t.prototype.generateSearchString = function(t) {
                for (var e = [], n = 0; n < t.length; n++) e[n] = '[data-scref="' + t[n] + '"]';
                return e.join(",")
            }, t.prototype.deleteUnusedMenus = function() {
                var t = document.getElementsByClassName("dropdown bootstrapMenu");
                if (t.length > 1)
                    for (var e = 0; e < t.length - 1; e++) t[e].remove(), e--
            }, t.prototype.initMenu = function() {
                if ("undefined" == typeof translation || null === translation) return void console.log("No translations");
                var t = null,
                    e = this.canvases,
                    n = this;
                this.menu = new r(this.generateSearchString(e), {
                    fetchElementData: function(t) {
                        return t
                    },
                    actions: [{
                        name: translation.SaveAsImage,
                        onClick: function(r) {
                            var a = r.data("scref"),
                                u = e.indexOf(a) + 1,
                                l = r[0];
                            if (null != n.brand) {
                                var c = n.brand.text,
                                    h = n.brand.number,
                                    f = n.brand.status;
                                c = c.replace(/ /g, "_"), t = null === h || f === i.Logo.STATUS_FAVORITE ? s.ApiAccess.isExist() ? c + "_brand_usage_#" + u + ".png" : c + "_brand_usage_#" + u + "_created_by_logaster.png" : s.ApiAccess.isExist() ? c + "_#" + h + "_brand_usage_#" + u + ".png" : c + "_#" + h + "_brand_usage_#" + u + "_created_by_logaster.png"
                            } else t = "download.png";
                            new o.CanvasDownloader(t, l).startDownload()
                        }
                    }]
                })
            }, t
        }();
    e.PopupContextMenu = a
}, , function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.BrandProductView = void 0;
    var r = n(412),
        i = n(413),
        o = n(414),
        s = n(7),
        a = n(21),
        u = n(415),
        l = function() {
            function t(t, e, n) {
                this._forceInit = !0, this.context2d = null, this.items = [], this.watermark = null, this.debugMode = !1, this.trimLine = 0, this._product = e, t.canvas.oncontextmenu = function() {
                    return !1
                }, this.context2d = t, this.itemsGroup = n
            }
            return Object.defineProperty(t.prototype, "product", {
                get: function() {
                    return this._product
                },
                set: function(t) {
                    this._product = t, this._forceInit = !0
                },
                enumerable: !1,
                configurable: !0
            }), t.prototype.init = function() {
                if (this._forceInit || !(this.items.length > 0)) {
                    this.items.length = 0;
                    for (var t = 0, e = this._product.items; t < e.length; t++) {
                        var n = e[t];
                        if (n.group === this.itemsGroup) {
                            var r = this.createItemView(n);
                            this.items.push(r)
                        }
                    }
                    this._forceInit = !1
                }
            }, t.prototype.draw = function() {
                this.init(), this.clear(), this.context2d.save(), this.context2d.fillStyle = "#ffffff", this.context2d.fillRect(0, 0, this.context2d.canvas.width, this.context2d.canvas.height), this.context2d.restore(), this.drawItems()
            }, t.prototype.drawItems = function() {
                for (var t = 0, e = this.items; t < e.length; t++) {
                    var n = e[t];
                    n.trimLine = this.trimLine, n.draw()
                }
            }, t.prototype.clear = function() {
                s.Matrix.resetContext2d(this.context2d), this.context2d.clearRect(0, 0, this.context2d.canvas.width, this.context2d.canvas.height)
            }, t.prototype.createItemView = function(t) {
                var e = null;
                switch (t.type) {
                    case a.BPItem.TEXT:
                        e = new u.BPTextItemView(t, this.context2d);
                        break;
                    case a.BPItem.LOGO:
                        e = new i.BPLogoItemView(t, this.context2d);
                        break;
                    case a.BPItem.SVG:
                    case a.BPItem.CUSTOM_SVG:
                        e = new r.BPSvgItemView(t, this.context2d);
                        break;
                    case a.BPItem.Image:
                        e = new o.BPImageItemView(t, this.context2d)
                }
                return e
            }, t
        }();
    e.BrandProductView = l
}, function(t, e, n) {
    "use strict";
    var r = this && this.__extends || function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                })(e, n)
        };
        return function(e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.TextIconView = void 0;
    var i = n(32),
        o = function(t) {
            function e() {
                return null !== t && t.apply(this, arguments) || this
            }
            return r(e, t), Object.defineProperty(e.prototype, "item", {
                get: function() {
                    return this._item
                },
                enumerable: !1,
                configurable: !0
            }), e
        }(i.LogoItemView);
    e.TextIconView = o
}, function(t, e, n) {
    "use strict";
    var r = this && this.__extends || function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                })(e, n)
        };
        return function(e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.TextView = void 0;
    var i = n(32),
        o = n(8),
        s = n(7),
        a = n(75),
        u = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.fontSize = o.Logo.LOGO_TEXT_SIZE, e
            }
            return r(e, t), Object.defineProperty(e.prototype, "item", {
                get: function() {
                    return this._item
                },
                enumerable: !1,
                configurable: !0
            }), e.prototype.initializeTransformable = function() {
                var t = this._item.bounds.width,
                    e = this._item.bounds.height;
                (t <= 0 || e <= 0) && (t = 10, e = this.item.font.capHeightPx()), this.transformable = new a.Transformable(t, e, this.getMatrixForTransformable(), this)
            }, e.prototype.drawPrimitive = function(t, e) {
                void 0 === e && (e = null), t.font = this.fontSize + "px '" + this.item.font.fontFamily + "'";
                var n = this.getMatrixForContext2d();
                if (0 === this.item.maths.kerning) this.setMatrixTransformations(n), t.fillText(this.item.text, 0, 0);
                else
                    for (var r = this.item.text.split(""), i = 0, o = new s.Matrix, a = 0; a < r.length; a++) {
                        var u = r[a],
                            l = this.item.font.glyphWidth(u);
                        if (a > 0) {
                            var c = r[a - 1];
                            i += this.item.font.kerning(c, u), i += this.item.maths.kerning
                        }
                        o.identity(), o.translate(this.item.font.fUnitsToPx(i), 0), o.concat(n), o.scale(this.zoom, this.zoom), null !== this.offsetMatrix && o.concat(this.offsetMatrix), o.setToContext2d(t), t.fillText(u, 0, 0), i += l
                    }
            }, e
        }(i.LogoItemView);
    e.TextView = u
}, function(t, e, n) {
    "use strict";
    var r = this && this.__extends || function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                })(e, n)
        };
        return function(e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.RichTextView = void 0;
    var i = n(32),
        o = function(t) {
            function e() {
                return null !== t && t.apply(this, arguments) || this
            }
            return r(e, t), Object.defineProperty(e.prototype, "item", {
                get: function() {
                    return this._item
                },
                enumerable: !1,
                configurable: !0
            }), e
        }(i.LogoItemView);
    e.RichTextView = o
}, function(t, e, n) {
    "use strict";
    var r = this && this.__extends || function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                })(e, n)
        };
        return function(e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.LineView = void 0;
    var i = n(32),
        o = function(t) {
            function e() {
                return null !== t && t.apply(this, arguments) || this
            }
            return r(e, t), Object.defineProperty(e.prototype, "item", {
                get: function() {
                    return this._item
                },
                enumerable: !1,
                configurable: !0
            }), e.prototype.drawPrimitive = function(t, e) {
                void 0 === e && (e = null), this.item.maths.p1.x == this.item.maths.p2.x ? this.context2d.fillRect(Math.round(Math.min(this.item.maths.p1.x, this.item.maths.p2.x) - this.item.maths.lineWidth / 2), Math.round(Math.min(this.item.maths.p1.y, this.item.maths.p2.y)), Math.round(this.item.maths.lineWidth), Math.round(Math.max(this.item.maths.p1.y, this.item.maths.p2.y) - Math.min(this.item.maths.p1.y, this.item.maths.p2.y))) : this.item.maths.p1.y == this.item.maths.p2.y ? this.context2d.fillRect(Math.round(Math.min(this.item.maths.p1.x, this.item.maths.p2.x)), Math.round(Math.min(this.item.maths.p1.y, this.item.maths.p2.y) - this.item.maths.lineWidth / 2), Math.round(Math.max(this.item.maths.p1.x, this.item.maths.p2.x) - Math.min(this.item.maths.p1.x, this.item.maths.p2.x)), Math.round(this.item.maths.lineWidth)) : (this.context2d.lineWidth = this.item.maths.lineWidth, this.context2d.beginPath(), this.context2d.moveTo(this.item.maths.p1.x, this.item.maths.p1.y), this.context2d.lineTo(this.item.maths.p2.x, this.item.maths.p2.y), this.context2d.stroke())
            }, e
        }(i.LogoItemView);
    e.LineView = o
}, function(t, e, n) {
    "use strict";
    var r = this && this.__extends || function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                })(e, n)
        };
        return function(e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.EllipseView = void 0;
    var i = n(32),
        o = function(t) {
            function e() {
                return null !== t && t.apply(this, arguments) || this
            }
            return r(e, t), Object.defineProperty(e.prototype, "item", {
                get: function() {
                    return this._item
                },
                enumerable: !1,
                configurable: !0
            }), e.prototype.drawPrimitive = function(t, e) {
                void 0 === e && (e = null), this.context2d.beginPath(), this.context2d.ellipse(this.item.width / 2, this.item.height / 2, this.item.width / 2, this.item.height / 2, 0, 0, 2 * Math.PI), 0 === this.item.stroke ? this.context2d.fill() : this.context2d.stroke()
            }, e
        }(i.LogoItemView);
    e.EllipseView = o
}, function(t, e, n) {
    "use strict";
    var r = this && this.__extends || function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                })(e, n)
        };
        return function(e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.RectView = void 0;
    var i = n(32),
        o = function(t) {
            function e() {
                return null !== t && t.apply(this, arguments) || this
            }
            return r(e, t), Object.defineProperty(e.prototype, "item", {
                get: function() {
                    return this._item
                },
                enumerable: !1,
                configurable: !0
            }), e.prototype.drawPrimitive = function(t, e) {
                void 0 === e && (e = null), this.context2d.beginPath(), this.context2d.moveTo(this.item.cornerRadius, 0), this.context2d.arcTo(this.item.width, 0, this.item.width, this.item.height, this.item.cornerRadius), this.context2d.arcTo(this.item.width, this.item.height, 0, this.item.height, this.item.cornerRadius), this.context2d.arcTo(0, this.item.height, 0, 0, this.item.cornerRadius), this.context2d.arcTo(0, 0, this.item.width, 0, this.item.cornerRadius), 0 === this.item.stroke ? this.context2d.fill() : this.context2d.stroke()
            }, e
        }(i.LogoItemView);
    e.RectView = o
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.SocialProductCategory = void 0;
    var r = function() {
        function t() {
            this.categoriesLink = "/static/v3/img/social_v2/"
        }
        return t.deserialize = function(e) {
            if (null === e) return null;
            var n = new t;
            return n.categoryId = e.categoryId, n.categoryName = e.categoryName, n.slug = e.slug, n.imgUrl = n.categoriesLink + e.slug.replace(/-/g, "_") + ".png", n
        }, t
    }();
    e.SocialProductCategory = r
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.Locker = void 0;
    var r = function() {
        function t() {}
        return t.acquire = function() {
            this.locked = !0
        }, t.release = function() {
            this.locked = !1
        }, t.locked = !1, t
    }();
    e.Locker = r
}, , function(t, e, n) {
    "use strict";
    (function(t) {
        Object.defineProperty(e, "__esModule", {
            value: !0
        }), e.TextureView = void 0;
        var r = n(13),
            i = function() {
                function e(e, n, r, i, o) {
                    var s = document.createElement("img");
                    t(s).attr("crossOrigin", "anonymous"), t(s).attr("src", n).one("load", function() {
                        var t = e.createPattern(s, "repeat");
                        e.fillStyle = t, e.fillRect(0, 0, i, o), e.globalCompositeOperation = "multiply", e.fillStyle = "#" + r, e.fillRect(0, 0, i, o)
                    })
                }
                return e.getNextTextureIndex = function() {
                    return null == this.textureIndex ? (this.textureIndex = Math.floor(Math.random() * (this.textureCount - 1)) + 1, this.textureIndex) : (this.textureIndex++, this.textureIndex > this.textureCount && (this.textureIndex = 1), this.textureIndex)
                }, e.getRandomUrl = function() {
                    return r.Site.STATIC_ROOT_URL + "/static/v3/texture/" + e.padNumber(e.getNextTextureIndex(), 2) + ".png"
                }, e.padNumber = function(t, e) {
                    for (var n = t.toString(); n.length < e;) n = "0" + n;
                    return n
                }, e.textureIndex = null, e.textureCount = 42, e
            }();
        e.TextureView = i
    }).call(e, n(5))
}, function(t, e, n) {
    "use strict";

    function r(t) {
        var e = h('<div class="dropdown bootstrapMenu" style="z-index:10000;position:absolute;" />'),
            n = h('<ul class="dropdown-menu" style="position:static;display:block;font-size:0.9em;" />'),
            r = [];
        r[0] = [], f.each(t.options.actionsGroups, function(t, e) {
            r[e + 1] = []
        });
        var i = !1;
        f.each(t.options.actions, function(e, n) {
            var o = !1;
            f.each(t.options.actionsGroups, function(t, e) {
                f.contains(t, n) && (r[e + 1].push(n), o = !0)
            }), !1 === o && r[0].push(n), void 0 !== e.iconClass && (i = !0)
        });
        var o = !0;
        return f.each(r, function(e) {
            0 != e.length && (!1 === o && n.append('<li class="divider"></li>'), o = !1, f.each(e, function(e) {
                var r = t.options.actions[e];
                !0 === i ? n.append('<li role="presentation" data-action="' + e + '"><a href="#" role="menuitem"><i class="fa fa-fw fa-lg ' + (r.iconClass || "") + '"></i> <span class="actionName"></span></a></li>') : n.append('<li role="presentation" data-action="' + e + '"><a href="#" role="menuitem"><span class="actionName"></span></a></li>')
            }), n.append('<li role="presentation" class="noActionsMessage disabled"><a href="#" role="menuitem"><span>' + t.options.noActionsMessage + "</span></a></li>"))
        }), e.append(n)
    }

    function i(t) {
        var e = null;
        switch (t.options.menuEvent) {
            case "click":
                e = "click";
                break;
            case "right-click":
                e = "contextmenu";
                break;
            case "hover":
                e = "mouseenter";
                break;
            default:
                throw new Error("Unknown BootstrapMenu 'menuEvent' option")
        }
        t.$container.on(e + t.namespace, t.selector, function(e) {
            var n = h(this);
            return t.open(n, e), !1
        })
    }

    function o(t) {
        t.$container.off(t.namespace)
    }

    function s(t) {
        var e = t.options._actionSelectEvent + t.namespace;
        t.$menu.on(e, function(e) {
            e.preventDefault(), e.stopPropagation();
            var n = h(e.target),
                r = n.closest("[data-action]");
            if (r && r.length && !r.is(".disabled")) {
                var i = r.data("action"),
                    o = t.options.fetchElementData(t.$openTarget);
                t.options.actions[i].onClick(o), t.close()
            }
        })
    }

    function a(t) {
        t.$menu.off(t.namespace)
    }

    function u(t) {
        switch (t.options.menuEvent) {
            case "click":
            case "right-click":
                break;
            case "hover":
                var e = t.$openTarget.add(t.$menu);
                e.on("mouseleave" + t.closeNamespace, function(n) {
                    var r = n.toElement || n.relatedTarget;
                    t.$openTarget.is(r) || t.$menu.is(r) || (e.off(t.closeNamespace), t.close())
                });
                break;
            default:
                throw new Error("Unknown BootstrapMenu 'menuEvent' option")
        }
        t.$container.on("click" + t.closeNamespace, function() {
            t.close()
        })
    }

    function l(t) {
        t.$container.off(t.closeNamespace)
    }
    var c = n(369),
        h = n(5);
    n(370);
    var f = function() {
        throw new Error("Custom lodash build for BootstrapMenu. lodash chaining is not included")
    };
    f.noop = n(371), f.each = n(372), f.contains = n(386), f.extend = n(393), f.uniqueId = n(400), f.isFunction = n(174);
    var p = {
            container: "body",
            fetchElementData: f.noop,
            menuSource: "mouse",
            menuPosition: "belowLeft",
            menuEvent: "right-click",
            actionsGroups: [],
            noActionsMessage: "No available actions",
            _actionSelectEvent: "click"
        },
        d = function(t, e) {
            this.selector = t, this.options = f.extend({}, p, e), this.namespace = f.uniqueId(".BootstrapMenu_"), this.closeNamespace = f.uniqueId(".BootstrapMenuClose_"), this.init()
        },
        g = [];
    d.prototype.init = function() {
        this.$container = h(this.options.container), this.$menu = r(this), this.$menuList = this.$menu.children(), this.$menu.hide().appendTo(this.$container), this.$openTarget = null, this.openEvent = null, i(this), s(this), g.push(this)
    }, d.prototype.updatePosition = function() {
        var t = null,
            e = null,
            n = null;
        switch (this.options.menuSource) {
            case "element":
                e = this.$openTarget;
                break;
            case "mouse":
                e = this.openEvent;
                break;
            default:
                throw new Error("Unknown BootstrapMenu 'menuSource' option")
        }
        switch (this.options.menuPosition) {
            case "belowRight":
                t = "right top", n = "right bottom";
                break;
            case "belowLeft":
                t = "left top", n = "left bottom";
                break;
            case "aboveRight":
                t = "right bottom", n = "right top";
                break;
            case "aboveLeft":
                t = "left bottom", n = "left top";
                break;
            default:
                throw new Error("Unknown BootstrapMenu 'menuPosition' option")
        }
        this.$menu.css({
            display: "block"
        }), this.$menu.css({
            height: this.$menuList.height(),
            width: this.$menuList.width()
        }), this.$menu.position({
            my: t,
            at: n,
            of: e
        })
    }, d.prototype.open = function(t, e) {
        var n = this;
        d.closeAll(), this.$openTarget = t, this.openEvent = e;
        var r = n.options.fetchElementData(n.$openTarget),
            i = this.$menu.find("[data-action]"),
            o = this.$menu.find(".noActionsMessage");
        i.show(), o.hide();
        var s = 0;
        i.each(function() {
            var t = h(this),
                e = t.data("action"),
                i = n.options.actions[e],
                o = i.classNames || null;
            if (o && f.isFunction(o) && (o = o(r)), t.attr("class", c(o || "")), i.isShown && !1 === i.isShown(r)) return void t.hide();
            s++, t.find(".actionName").html(f.isFunction(i.name) && i.name(r) || i.name), i.isEnabled && !1 === i.isEnabled(r) && t.addClass("disabled")
        }), 0 === s && o.show(), this.updatePosition(), this.$menu.show(), u(this)
    }, d.prototype.close = function() {
        this.$menu.hide(), l(this)
    }, d.prototype.destroy = function() {
        this.close(), o(this), a(this)
    }, d.closeAll = function() {
        f.each(g, function(t) {
            t.close()
        })
    }, t.exports = d
}, function(t, e, n) {
    var r, i;
    /*!
      Copyright (c) 2018 Jed Watson.
      Licensed under the MIT License (MIT), see
      http://jedwatson.github.io/classnames
    */
    ! function() {
        "use strict";

        function n() {
            for (var t = [], e = 0; e < arguments.length; e++) {
                var r = arguments[e];
                if (r) {
                    var i = typeof r;
                    if ("string" === i || "number" === i) t.push(r);
                    else if (Array.isArray(r)) {
                        if (r.length) {
                            var s = n.apply(null, r);
                            s && t.push(s)
                        }
                    } else if ("object" === i)
                        if (r.toString === Object.prototype.toString)
                            for (var a in r) o.call(r, a) && r[a] && t.push(a);
                        else t.push(r.toString())
                }
            }
            return t.join(" ")
        }
        var o = {}.hasOwnProperty;
        void 0 !== t && t.exports ? (n.default = n, t.exports = n) : (r = [], void 0 !== (i = function() {
            return n
        }.apply(e, r)) && (t.exports = i))
    }()
}, function(t, e, n) {
    var r, i, o;
    /*!
     * jQuery UI Position 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     *
     * http://api.jqueryui.com/position/
     */
    ! function(s) {
        i = [n(5), n(168)], r = s, void 0 !== (o = "function" == typeof r ? r.apply(e, i) : r) && (t.exports = o)
    }(function(t) {
        return function() {
            function e(t, e, n) {
                return [parseFloat(t[0]) * (h.test(t[0]) ? e / 100 : 1), parseFloat(t[1]) * (h.test(t[1]) ? n / 100 : 1)]
            }

            function n(e, n) {
                return parseInt(t.css(e, n), 10) || 0
            }

            function r(e) {
                var n = e[0];
                return 9 === n.nodeType ? {
                    width: e.width(),
                    height: e.height(),
                    offset: {
                        top: 0,
                        left: 0
                    }
                } : t.isWindow(n) ? {
                    width: e.width(),
                    height: e.height(),
                    offset: {
                        top: e.scrollTop(),
                        left: e.scrollLeft()
                    }
                } : n.preventDefault ? {
                    width: 0,
                    height: 0,
                    offset: {
                        top: n.pageY,
                        left: n.pageX
                    }
                } : {
                    width: e.outerWidth(),
                    height: e.outerHeight(),
                    offset: e.offset()
                }
            }
            var i, o = Math.max,
                s = Math.abs,
                a = /left|center|right/,
                u = /top|center|bottom/,
                l = /[\+\-]\d+(\.[\d]+)?%?/,
                c = /^\w+/,
                h = /%$/,
                f = t.fn.position;
            t.position = {
                scrollbarWidth: function() {
                    if (void 0 !== i) return i;
                    var e, n, r = t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),
                        o = r.children()[0];
                    return t("body").append(r), e = o.offsetWidth, r.css("overflow", "scroll"), n = o.offsetWidth, e === n && (n = r[0].clientWidth), r.remove(), i = e - n
                },
                getScrollInfo: function(e) {
                    var n = e.isWindow || e.isDocument ? "" : e.element.css("overflow-x"),
                        r = e.isWindow || e.isDocument ? "" : e.element.css("overflow-y"),
                        i = "scroll" === n || "auto" === n && e.width < e.element[0].scrollWidth;
                    return {
                        width: "scroll" === r || "auto" === r && e.height < e.element[0].scrollHeight ? t.position.scrollbarWidth() : 0,
                        height: i ? t.position.scrollbarWidth() : 0
                    }
                },
                getWithinInfo: function(e) {
                    var n = t(e || window),
                        r = t.isWindow(n[0]),
                        i = !!n[0] && 9 === n[0].nodeType;
                    return {
                        element: n,
                        isWindow: r,
                        isDocument: i,
                        offset: r || i ? {
                            left: 0,
                            top: 0
                        } : t(e).offset(),
                        scrollLeft: n.scrollLeft(),
                        scrollTop: n.scrollTop(),
                        width: n.outerWidth(),
                        height: n.outerHeight()
                    }
                }
            }, t.fn.position = function(i) {
                if (!i || !i.of) return f.apply(this, arguments);
                i = t.extend({}, i);
                var h, p, d, g, m, v, b = t(i.of),
                    y = t.position.getWithinInfo(i.within),
                    _ = t.position.getScrollInfo(y),
                    w = (i.collision || "flip").split(" "),
                    x = {};
                return v = r(b), b[0].preventDefault && (i.at = "left top"), p = v.width, d = v.height, g = v.offset, m = t.extend({}, g), t.each(["my", "at"], function() {
                    var t, e, n = (i[this] || "").split(" ");
                    1 === n.length && (n = a.test(n[0]) ? n.concat(["center"]) : u.test(n[0]) ? ["center"].concat(n) : ["center", "center"]), n[0] = a.test(n[0]) ? n[0] : "center", n[1] = u.test(n[1]) ? n[1] : "center", t = l.exec(n[0]), e = l.exec(n[1]), x[this] = [t ? t[0] : 0, e ? e[0] : 0], i[this] = [c.exec(n[0])[0], c.exec(n[1])[0]]
                }), 1 === w.length && (w[1] = w[0]), "right" === i.at[0] ? m.left += p : "center" === i.at[0] && (m.left += p / 2), "bottom" === i.at[1] ? m.top += d : "center" === i.at[1] && (m.top += d / 2), h = e(x.at, p, d), m.left += h[0], m.top += h[1], this.each(function() {
                    var r, a, u = t(this),
                        l = u.outerWidth(),
                        c = u.outerHeight(),
                        f = n(this, "marginLeft"),
                        v = n(this, "marginTop"),
                        T = l + f + n(this, "marginRight") + _.width,
                        C = c + v + n(this, "marginBottom") + _.height,
                        I = t.extend({}, m),
                        S = e(x.my, u.outerWidth(), u.outerHeight());
                    "right" === i.my[0] ? I.left -= l : "center" === i.my[0] && (I.left -= l / 2), "bottom" === i.my[1] ? I.top -= c : "center" === i.my[1] && (I.top -= c / 2), I.left += S[0], I.top += S[1], r = {
                        marginLeft: f,
                        marginTop: v
                    }, t.each(["left", "top"], function(e, n) {
                        t.ui.position[w[e]] && t.ui.position[w[e]][n](I, {
                            targetWidth: p,
                            targetHeight: d,
                            elemWidth: l,
                            elemHeight: c,
                            collisionPosition: r,
                            collisionWidth: T,
                            collisionHeight: C,
                            offset: [h[0] + S[0], h[1] + S[1]],
                            my: i.my,
                            at: i.at,
                            within: y,
                            elem: u
                        })
                    }), i.using && (a = function(t) {
                        var e = g.left - I.left,
                            n = e + p - l,
                            r = g.top - I.top,
                            a = r + d - c,
                            h = {
                                target: {
                                    element: b,
                                    left: g.left,
                                    top: g.top,
                                    width: p,
                                    height: d
                                },
                                element: {
                                    element: u,
                                    left: I.left,
                                    top: I.top,
                                    width: l,
                                    height: c
                                },
                                horizontal: n < 0 ? "left" : e > 0 ? "right" : "center",
                                vertical: a < 0 ? "top" : r > 0 ? "bottom" : "middle"
                            };
                        p < l && s(e + n) < p && (h.horizontal = "center"), d < c && s(r + a) < d && (h.vertical = "middle"), o(s(e), s(n)) > o(s(r), s(a)) ? h.important = "horizontal" : h.important = "vertical", i.using.call(this, t, h)
                    }), u.offset(t.extend(I, {
                        using: a
                    }))
                })
            }, t.ui.position = {
                fit: {
                    left: function(t, e) {
                        var n, r = e.within,
                            i = r.isWindow ? r.scrollLeft : r.offset.left,
                            s = r.width,
                            a = t.left - e.collisionPosition.marginLeft,
                            u = i - a,
                            l = a + e.collisionWidth - s - i;
                        e.collisionWidth > s ? u > 0 && l <= 0 ? (n = t.left + u + e.collisionWidth - s - i, t.left += u - n) : t.left = l > 0 && u <= 0 ? i : u > l ? i + s - e.collisionWidth : i : u > 0 ? t.left += u : l > 0 ? t.left -= l : t.left = o(t.left - a, t.left)
                    },
                    top: function(t, e) {
                        var n, r = e.within,
                            i = r.isWindow ? r.scrollTop : r.offset.top,
                            s = e.within.height,
                            a = t.top - e.collisionPosition.marginTop,
                            u = i - a,
                            l = a + e.collisionHeight - s - i;
                        e.collisionHeight > s ? u > 0 && l <= 0 ? (n = t.top + u + e.collisionHeight - s - i, t.top += u - n) : t.top = l > 0 && u <= 0 ? i : u > l ? i + s - e.collisionHeight : i : u > 0 ? t.top += u : l > 0 ? t.top -= l : t.top = o(t.top - a, t.top)
                    }
                },
                flip: {
                    left: function(t, e) {
                        var n, r, i = e.within,
                            o = i.offset.left + i.scrollLeft,
                            a = i.width,
                            u = i.isWindow ? i.scrollLeft : i.offset.left,
                            l = t.left - e.collisionPosition.marginLeft,
                            c = l - u,
                            h = l + e.collisionWidth - a - u,
                            f = "left" === e.my[0] ? -e.elemWidth : "right" === e.my[0] ? e.elemWidth : 0,
                            p = "left" === e.at[0] ? e.targetWidth : "right" === e.at[0] ? -e.targetWidth : 0,
                            d = -2 * e.offset[0];
                        c < 0 ? ((n = t.left + f + p + d + e.collisionWidth - a - o) < 0 || n < s(c)) && (t.left += f + p + d) : h > 0 && ((r = t.left - e.collisionPosition.marginLeft + f + p + d - u) > 0 || s(r) < h) && (t.left += f + p + d)
                    },
                    top: function(t, e) {
                        var n, r, i = e.within,
                            o = i.offset.top + i.scrollTop,
                            a = i.height,
                            u = i.isWindow ? i.scrollTop : i.offset.top,
                            l = t.top - e.collisionPosition.marginTop,
                            c = l - u,
                            h = l + e.collisionHeight - a - u,
                            f = "top" === e.my[1],
                            p = f ? -e.elemHeight : "bottom" === e.my[1] ? e.elemHeight : 0,
                            d = "top" === e.at[1] ? e.targetHeight : "bottom" === e.at[1] ? -e.targetHeight : 0,
                            g = -2 * e.offset[1];
                        c < 0 ? ((r = t.top + p + d + g + e.collisionHeight - a - o) < 0 || r < s(c)) && (t.top += p + d + g) : h > 0 && ((n = t.top - e.collisionPosition.marginTop + p + d + g - u) > 0 || s(n) < h) && (t.top += p + d + g)
                    }
                },
                flipfit: {
                    left: function() {
                        t.ui.position.flip.left.apply(this, arguments), t.ui.position.fit.left.apply(this, arguments)
                    },
                    top: function() {
                        t.ui.position.flip.top.apply(this, arguments), t.ui.position.fit.top.apply(this, arguments)
                    }
                }
            }
        }(), t.ui.position
    })
}, function(t, e) {
    function n() {}
    t.exports = n
}, function(t, e, n) {
    t.exports = n(373)
}, function(t, e, n) {
    var r = n(374),
        i = n(375),
        o = n(384),
        s = o(r, i);
    t.exports = s
}, function(t, e) {
    function n(t, e) {
        for (var n = -1, r = t.length; ++n < r && !1 !== e(t[n], n, t););
        return t
    }
    t.exports = n
}, function(t, e, n) {
    var r = n(376),
        i = n(383),
        o = i(r);
    t.exports = o
}, function(t, e, n) {
    function r(t, e) {
        return i(t, e, o)
    }
    var i = n(377),
        o = n(100);
    t.exports = r
}, function(t, e, n) {
    var r = n(378),
        i = r();
    t.exports = i
}, function(t, e, n) {
    function r(t) {
        return function(e, n, r) {
            for (var o = i(e), s = r(e), a = s.length, u = t ? a : -1; t ? u-- : ++u < a;) {
                var l = s[u];
                if (!1 === n(o[l], l, o)) break
            }
            return e
        }
    }
    var i = n(172);
    t.exports = r
}, function(t, e, n) {
    function r(t) {
        return null != t && (i(t) ? c.test(u.call(t)) : o(t) && s.test(t))
    }
    var i = n(174),
        o = n(101),
        s = /^\[object .+?Constructor\]$/,
        a = Object.prototype,
        u = Function.prototype.toString,
        l = a.hasOwnProperty,
        c = RegExp("^" + u.call(l).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
    t.exports = r
}, function(t, e) {
    function n(t) {
        return function(e) {
            return null == e ? void 0 : e[t]
        }
    }
    t.exports = n
}, function(t, e, n) {
    function r(t) {
        for (var e = u(t), n = e.length, r = n && t.length, l = !!r && a(r) && (o(t) || i(t)), h = -1, f = []; ++h < n;) {
            var p = e[h];
            (l && s(p, r) || c.call(t, p)) && f.push(p)
        }
        return f
    }
    var i = n(175),
        o = n(102),
        s = n(114),
        a = n(53),
        u = n(382),
        l = Object.prototype,
        c = l.hasOwnProperty;
    t.exports = r
}, function(t, e, n) {
    function r(t) {
        if (null == t) return [];
        u(t) || (t = Object(t));
        var e = t.length;
        e = e && a(e) && (o(t) || i(t)) && e || 0;
        for (var n = t.constructor, r = -1, l = "function" == typeof n && n.prototype === t, h = Array(e), f = e > 0; ++r < e;) h[r] = r + "";
        for (var p in t) f && s(p, e) || "constructor" == p && (l || !c.call(t, p)) || h.push(p);
        return h
    }
    var i = n(175),
        o = n(102),
        s = n(114),
        a = n(53),
        u = n(74),
        l = Object.prototype,
        c = l.hasOwnProperty;
    t.exports = r
}, function(t, e, n) {
    function r(t, e) {
        return function(n, r) {
            var a = n ? i(n) : 0;
            if (!o(a)) return t(n, r);
            for (var u = e ? a : -1, l = s(n);
                (e ? u-- : ++u < a) && !1 !== r(l[u], u, l););
            return n
        }
    }
    var i = n(113),
        o = n(53),
        s = n(172);
    t.exports = r
}, function(t, e, n) {
    function r(t, e) {
        return function(n, r, s) {
            return "function" == typeof r && void 0 === s && o(n) ? t(n, r) : e(n, i(r, s, 3))
        }
    }
    var i = n(176),
        o = n(102);
    t.exports = r
}, function(t, e) {
    function n(t) {
        return t
    }
    t.exports = n
}, function(t, e, n) {
    t.exports = n(387)
}, function(t, e, n) {
    function r(t, e, n, r) {
        var f = t ? o(t) : 0;
        return u(f) || (t = c(t), f = t.length), n = "number" != typeof n || r && a(e, n, r) ? 0 : n < 0 ? h(f + n, 0) : n || 0, "string" == typeof t || !s(t) && l(t) ? n <= f && t.indexOf(e, n) > -1 : !!f && i(t, e, n) > -1
    }
    var i = n(388),
        o = n(113),
        s = n(102),
        a = n(177),
        u = n(53),
        l = n(390),
        c = n(391),
        h = Math.max;
    t.exports = r
}, function(t, e, n) {
    function r(t, e, n) {
        if (e !== e) return i(t, n);
        for (var r = n - 1, o = t.length; ++r < o;)
            if (t[r] === e) return r;
        return -1
    }
    var i = n(389);
    t.exports = r
}, function(t, e) {
    function n(t, e, n) {
        for (var r = t.length, i = e + (n ? 0 : -1); n ? i-- : ++i < r;) {
            var o = t[i];
            if (o !== o) return i
        }
        return -1
    }
    t.exports = n
}, function(t, e, n) {
    function r(t) {
        return "string" == typeof t || i(t) && a.call(t) == o
    }
    var i = n(101),
        o = "[object String]",
        s = Object.prototype,
        a = s.toString;
    t.exports = r
}, function(t, e, n) {
    function r(t) {
        return i(t, o(t))
    }
    var i = n(392),
        o = n(100);
    t.exports = r
}, function(t, e) {
    function n(t, e) {
        for (var n = -1, r = e.length, i = Array(r); ++n < r;) i[n] = t[e[n]];
        return i
    }
    t.exports = n
}, function(t, e, n) {
    t.exports = n(394)
}, function(t, e, n) {
    var r = n(395),
        i = n(396),
        o = n(398),
        s = o(function(t, e, n) {
            return n ? r(t, e, n) : i(t, e)
        });
    t.exports = s
}, function(t, e, n) {
    function r(t, e, n) {
        for (var r = -1, o = i(e), s = o.length; ++r < s;) {
            var a = o[r],
                u = t[a],
                l = n(u, e[a], a, t, e);
            (l === l ? l === u : u !== u) && (void 0 !== u || a in t) || (t[a] = l)
        }
        return t
    }
    var i = n(100);
    t.exports = r
}, function(t, e, n) {
    function r(t, e) {
        return null == e ? t : i(e, o(e), t)
    }
    var i = n(397),
        o = n(100);
    t.exports = r
}, function(t, e) {
    function n(t, e, n) {
        n || (n = {});
        for (var r = -1, i = e.length; ++r < i;) {
            var o = e[r];
            n[o] = t[o]
        }
        return n
    }
    t.exports = n
}, function(t, e, n) {
    function r(t) {
        return s(function(e, n) {
            var r = -1,
                s = null == e ? 0 : n.length,
                a = s > 2 ? n[s - 2] : void 0,
                u = s > 2 ? n[2] : void 0,
                l = s > 1 ? n[s - 1] : void 0;
            for ("function" == typeof a ? (a = i(a, l, 5), s -= 2) : (a = "function" == typeof l ? l : void 0, s -= a ? 1 : 0), u && o(n[0], n[1], u) && (a = s < 3 ? void 0 : a, s = 1); ++r < s;) {
                var c = n[r];
                c && t(e, c, a)
            }
            return e
        })
    }
    var i = n(176),
        o = n(177),
        s = n(399);
    t.exports = r
}, function(t, e) {
    function n(t, e) {
        if ("function" != typeof t) throw new TypeError(r);
        return e = i(void 0 === e ? t.length - 1 : +e || 0, 0),
            function() {
                for (var n = arguments, r = -1, o = i(n.length - e, 0), s = Array(o); ++r < o;) s[r] = n[e + r];
                switch (e) {
                    case 0:
                        return t.call(this, s);
                    case 1:
                        return t.call(this, n[0], s);
                    case 2:
                        return t.call(this, n[0], n[1], s)
                }
                var a = Array(e + 1);
                for (r = -1; ++r < e;) a[r] = n[r];
                return a[e] = s, t.apply(this, a)
            }
    }
    var r = "Expected a function",
        i = Math.max;
    t.exports = n
}, function(t, e, n) {
    function r(t) {
        var e = ++o;
        return i(t) + e
    }
    var i = n(401),
        o = 0;
    t.exports = r
}, function(t, e) {
    function n(t) {
        return null == t ? "" : t + ""
    }
    t.exports = n
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.PngMetadata = e.PngChunk = void 0;
    var r = function() {
        function t() {}
        return t
    }();
    e.PngChunk = r;
    var i = function() {
        function t(e) {
            this.content = null, this.list = null, this.joinChunk = function() {
                var e = t.PNG_SIG;
                for (var n in this.list) {
                    var r = this.list[n],
                        i = "";
                    i += this.itos(r.size, 4), i += r.type, i += r.data, i += this.itos(r.crc, 4), e += i
                }
                return e
            }, this.content = window.atob(e.substr(e.indexOf(",") + 1)), this.list = this.splitChunk()
        }
        return t.prototype.isPNG = function() {
            return this.content.substr(0, 8) == t.PNG_SIG
        }, t.prototype.splitChunk = function() {
            if (!this.isPNG()) return null;
            for (var t = this.content.substr(8), e = [];
                "" != t;) {
                var n = new r,
                    i = this.stoi(t.substr(0, 4));
                i < 0 && (i = 0);
                var o = t.substr(0, i + 12);
                t = t.substr(i + 12), n.size = i, n.type = o.substr(4, 4), n.data = o.substr(8, i), n.crc = this.stoi(o.substr(8 + i, 4)), e.push(n)
            }
            return e
        }, t.prototype.stoi = function(t) {
            for (var e = 0, n = 0; n < t.length; n++) {
                e = e << 8 | 255 & t.charCodeAt(n)
            }
            return e
        }, t.prototype.itos = function(t, e) {
            for (var n = [], r = e - 1; r >= 0;) {
                var i = 255 & t;
                n[r--] = i, t >>= 8
            }
            return n = n.map(function(t) {
                return String.fromCharCode(t)
            }), n.join("")
        }, t.prototype.crc32 = function(t) {
            for (var e = [0, 1996959894, 3993919788, 2567524794, 124634137, 1886057615, 3915621685, 2657392035, 249268274, 2044508324, 3772115230, 2547177864, 162941995, 2125561021, 3887607047, 2428444049, 498536548, 1789927666, 4089016648, 2227061214, 450548861, 1843258603, 4107580753, 2211677639, 325883990, 1684777152, 4251122042, 2321926636, 335633487, 1661365465, 4195302755, 2366115317, 997073096, 1281953886, 3579855332, 2724688242, 1006888145, 1258607687, 3524101629, 2768942443, 901097722, 1119000684, 3686517206, 2898065728, 853044451, 1172266101, 3705015759, 2882616665, 651767980, 1373503546, 3369554304, 3218104598, 565507253, 1454621731, 3485111705, 3099436303, 671266974, 1594198024, 3322730930, 2970347812, 795835527, 1483230225, 3244367275, 3060149565, 1994146192, 31158534, 2563907772, 4023717930, 1907459465, 112637215, 2680153253, 3904427059, 2013776290, 251722036, 2517215374, 3775830040, 2137656763, 141376813, 2439277719, 3865271297, 1802195444, 476864866, 2238001368, 4066508878, 1812370925, 453092731, 2181625025, 4111451223, 1706088902, 314042704, 2344532202, 4240017532, 1658658271, 366619977, 2362670323, 4224994405, 1303535960, 984961486, 2747007092, 3569037538, 1256170817, 1037604311, 2765210733, 3554079995, 1131014506, 879679996, 2909243462, 3663771856, 1141124467, 855842277, 2852801631, 3708648649, 1342533948, 654459306, 3188396048, 3373015174, 1466479909, 544179635, 3110523913, 3462522015, 1591671054, 702138776, 2966460450, 3352799412, 1504918807, 783551873, 3082640443, 3233442989, 3988292384, 2596254646, 62317068, 1957810842, 3939845945, 2647816111, 81470997, 1943803523, 3814918930, 2489596804, 225274430, 2053790376, 3826175755, 2466906013, 167816743, 2097651377, 4027552580, 2265490386, 503444072, 1762050814, 4150417245, 2154129355, 426522225, 1852507879, 4275313526, 2312317920, 282753626, 1742555852, 4189708143, 2394877945, 397917763, 1622183637, 3604390888, 2714866558, 953729732, 1340076626, 3518719985, 2797360999, 1068828381, 1219638859, 3624741850, 2936675148, 906185462, 1090812512, 3747672003, 2825379669, 829329135, 1181335161, 3412177804, 3160834842, 628085408, 1382605366, 3423369109, 3138078467, 570562233, 1426400815, 3317316542, 2998733608, 733239954, 1555261956, 3268935591, 3050360625, 752459403, 1541320221, 2607071920, 3965973030, 1969922972, 40735498, 2617837225, 3943577151, 1913087877, 83908371, 2512341634, 3803740692, 2075208622, 213261112, 2463272603, 3855990285, 2094854071, 198958881, 2262029012, 4057260610, 1759359992, 534414190, 2176718541, 4139329115, 1873836001, 414664567, 2282248934, 4279200368, 1711684554, 285281116, 2405801727, 4167216745, 1634467795, 376229701, 2685067896, 3608007406, 1308918612, 956543938, 2808555105, 3495958263, 1231636301, 1047427035, 2932959818, 3654703836, 1088359270, 936918e3, 2847714899, 3736837829, 1202900863, 817233897, 3183342108, 3401237130, 1404277552, 615818150, 3134207493, 3453421203, 1423857449, 601450431, 3009837614, 3294710456, 1567103746, 711928724, 3020668471, 3272380065, 1510334235, 755167117], n = -1, r = 0; r < t.length; r++) n = n >>> 8 ^ e[255 & (n ^ t.charCodeAt(r))];
            return (-1 ^ n) >>> 0
        }, t.prototype.createChunk = function(t, e) {
            var n = new r;
            return n.type = t, n.data = e, n.size = e.length, n.crc = this.crc32(t + e), n
        }, t.prototype.insertTextChunk = function(t, e) {
            return null == this.list ? (console.log("Cannot parse PNG and chunk will not be added."), !1) : (this.list.splice(1, 0, this.createChunk("tEXt", t + String.fromCharCode(0) + e)), !0)
        }, t.prototype.getBase64Content = function() {
            return null == this.list ? (console.log("Cannot parse PNG"), "data:image/png;base64," + this.content) : "data:image/png;base64," + window.btoa(this.joinChunk())
        }, t.PNG_SIG = String.fromCharCode(137, 80, 78, 71, 13, 10, 26, 10), t
    }();
    e.PngMetadata = i
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.InputDevice = void 0;
    var r = function() {
        function t() {}
        return t.getKeyboard = function(e, n, r) {
            if (t.keyboardX = n, t.keyboardY = r, e.keyCode == t.ARROW_UP) t.keyboardY = r - t.keyboardStep;
            else if (e.keyCode == t.ARROW_RIGHT) t.keyboardX = n + t.keyboardStep;
            else if (e.keyCode == t.ARROW_DOWN) t.keyboardY = r + t.keyboardStep;
            else {
                if (e.keyCode != t.ARROW_LEFT) return !1;
                t.keyboardX = n - t.keyboardStep
            }
            return !0
        }, t.getMouse = function(e, n) {
            n || (n = e.currentTarget), e.touches ? e.touches.length && (t.mouseX = parseInt(e.touches[0].pageX), t.mouseY = parseInt(e.touches[0].pageY)) : (t.mouseX = parseInt(e.clientX), t.mouseY = parseInt(e.clientY));
            var r = n.getBoundingClientRect();
            return t.mouseX += n.scrollLeft - n.clientLeft - r.left, t.mouseY += n.scrollTop - n.clientTop - r.top, t
        }, t.KEYDOWN = "keydown", t.keyboardStep = 1, t.keyboardX = 0, t.keyboardY = 0, t.ARROW_UP = 38, t.ARROW_RIGHT = 39, t.ARROW_DOWN = 40, t.ARROW_LEFT = 37, t.mouseX = 0, t.mouseY = 0, t.isTouchSupported = "ontouchstart" in window, t.START = t.isTouchSupported ? "touchstart" : "mousedown", t.MOVE = t.isTouchSupported ? "touchmove" : "mousemove", t.END = t.isTouchSupported ? "touchend" : "mouseup", t.LEAVE = t.isTouchSupported ? "touchleave" : "mouseleave", t
    }();
    e.InputDevice = r
}, function(t, e, n) {
    "use strict";
    (function(t) {
        var r = this && this.__extends || function() {
            var t = function(e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                    })(e, n)
            };
            return function(e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }();
        Object.defineProperty(e, "__esModule", {
            value: !0
        }), e.BrandProductLayer = void 0;
        var i = n(57),
            o = n(7),
            s = n(11),
            a = n(9),
            u = n(8),
            l = n(21),
            c = n(27),
            h = function(e) {
                function n() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.matrix = null, t.view = null, t.tempContext2d = null, t.wmMatrix = null, t.wmImage = null, t.wmLogoOpacity = .8, t
                }
                return r(n, e), n.prototype.draw = function(t, e, n, r, i) {}, n.prototype.initCachedProps = function(t, e, n) {}, n.prototype.initWatermarkData = function(t, e) {
                    this.withSlogan = this.view.product.getItem(l.BPItem.LOGO).withSlogan, this.colorCombination = this.view.product.getItem(l.BPItem.SVG).fill.getColorCombination(t.colorRange), this.tempContext2d = c.Context2DManager.forTemp(e.canvas.width, e.canvas.height)
                }, n.prototype.loadDynamic = function(e) {
                    var r = e.getLogo(this.type, this.withSlogan);
                    if (r.status !== u.Logo.STATUS_S && r.status !== u.Logo.STATUS_L && r.status !== u.Logo.STATUS_SUBSCRIPTION_20 && r.status !== u.Logo.STATUS_SUBSCRIPTION_PACK_20) {
                        var i = this,
                            o = this.getWatermarkUrl(e);
                        if (!(null !== this.wmImage && this.wmImage.width > 0 && this.wmImage.height > 0 && -1 !== this.wmImage.src.indexOf(o))) {
                            this.wmMatrix = null;
                            return void 0 !== n.wmImagesPromises[o] ? n.wmImagesPromises[o] : new t(function(t, n) {
                                i.wmImage = new Image, i.wmImage.crossOrigin = "anonymous", i.wmImage.src = i.getWatermarkUrl(e), i.wmImage.onload = function() {
                                    t()
                                }, i.wmImage.onerror = function() {
                                    n()
                                }
                            })
                        }
                    }
                }, n.prototype.getWatermarkUrl = function(t) {
                    var e, n = this.type;
                    return this.type >= u.Logo.START_INDEX && (n = t.getLogo(this.type).makerType), this.width <= 155 ? e = n === u.Logo.HORIZONTAL || n === u.Logo.TEXT ? "watermarks/small_horizontal.png" : "watermarks/small_square.png" : this.width > 150 && this.width <= 340 ? e = n === u.Logo.HORIZONTAL || n === u.Logo.TEXT ? "watermarks/medium_horizontal.png" : "watermarks/medium_square.png" : this.width > 340 && this.width <= 410 ? e = "watermarks/large_horizontal.png" : this.width > 410 && (e = "watermarks/extra_large_horizontal.png"), this.getFullUrl(e)
                }, n.prototype.needWatermark = function(t, e) {
                    void 0 === e && (e = null);
                    var n = t.getLogo(this.type, this.withSlogan, e);
                    return (this.type !== u.Logo.HORIZONTAL || !1 !== this.withSlogan || this.colorCombination.bgColor !== a.ColorRange.BG_WHITE || this.colorCombination.elColor !== a.ColorRange.EL_LOGO1) && (n.status !== u.Logo.STATUS_S && n.status !== u.Logo.STATUS_M && n.status !== u.Logo.STATUS_L && n.status !== u.Logo.STATUS_SUBSCRIPTION_20 && n.status !== u.Logo.STATUS_SUBSCRIPTION_PACK_20 && ((n.status !== u.Logo.STATUS_XS || this.colorCombination.bgColor !== a.ColorRange.BG_WHITE || this.colorCombination.elColor !== a.ColorRange.EL_LOGO1) && ((n.status !== u.Logo.STATUS_XS || this.colorCombination.bgColor !== a.ColorRange.BG_GRAY || "747474" !== this.colorCombination.elColor) && !(this.width <= 100))))
                }, n.prototype.drawWatermark = function(t, e, r) {
                    if (this.initWatermarkData(t, r), this.needWatermark(t, e)) {
                        var i = (this.wmImage.width - this.width) / 2,
                            s = (this.wmImage.height - this.height) / 2;
                        this.wmMatrix = new o.Matrix, this.wmMatrix.translate(-i, -s), this.wmMatrix.concat(this.matrix);
                        var a = this.colorCombination.getFill(null);
                        null === a && (a = n.wmDefaultFill), this.tempContext2d.save(), a.toContext2d(this.tempContext2d), this.tempContext2d.fillRect(0, 0, this.tempContext2d.canvas.width, this.tempContext2d.canvas.height), this.wmMatrix.setToContext2d(this.tempContext2d), this.tempContext2d.globalCompositeOperation = "destination-in", this.tempContext2d.drawImage(this.wmImage, 0, 0), this.tempContext2d.restore(), r.save(), r.globalAlpha = this.getBgWmOpacity(t), r.drawImage(this.tempContext2d.canvas, 0, 0), r.restore()
                    }
                }, n.prototype.getBgWmOpacity = function(t) {
                    var e = t.colorRange.getFill(this.colorCombination.bgColor),
                        r = t.colorRange.getFill(this.colorCombination.bgColor, this.colorCombination.elColor);
                    null === r && (r = n.wmDefaultFill);
                    var i = e.hex,
                        o = r.hex,
                        s = i + ";" + o;
                    if (void 0 !== n.wmAlphaCache[s]) return n.wmAlphaCache[s];
                    for (var u = .7, l = u; l <= .9; l += .03) {
                        var c = a.ColorRange.blendColorsAlpha(i, o, l),
                            h = a.ColorRange.contrast(i, c);
                        if (u = l, h >= 1.1) break
                    }
                    return n.wmAlphaCache[s] = u, u
                }, n.wmImagesPromises = {}, n.wmDefaultFill = new s.Fill("000000"), n.wmAlphaCache = {}, n
            }(i.Layer);
        e.BrandProductLayer = h
    }).call(e, n(6))
}, , , , , , , function(t, e, n) {
    "use strict";
    var r = this && this.__extends || function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                })(e, n)
        };
        return function(e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.BusinessCardLayer = void 0;
    var i = n(57),
        o = n(7),
        s = n(435),
        a = n(55),
        u = n(404),
        l = n(27),
        c = n(5),
        h = function(t) {
            function e(e, n, r, o) {
                void 0 === o && (o = a.BusinessCard.FRONT_SIDE);
                var s = t.call(this) || this;
                return s.trimLine = 0, s.view = null, s.businessCard = null, s.type = i.LayerType.BusinessCard, s.width = e, s.height = n, s.matrixSrc = r, s.itemsGroup = o, s
            }
            return r(e, t), e.prototype.draw = function(t, e, n, r, i) {
                var o = c(e.canvas).data("bcid");
                0 == o ? this.businessCard = t.businessCards[t.businessCards.length - 1] : "" !== o && (this.businessCard = t.getBusinessCardById(o)), this.businessCard = this.businessCard.clone(), this.initCachedProps(t, this.businessCard, n), this.view.product = this.businessCard, this.view.trimLine = this.trimLine, this.view.draw(), e.save(), this.matrix.setToContext2d(e), e.drawImage(this.view.context2d.canvas, 0, 0), e.restore()
            }, e.prototype.initCachedProps = function(t, e, n) {
                this.matrix = o.Matrix.deserialize(this.matrixSrc), null !== n && this.matrix.concat(n), this.matrix.scale(this.canvasScale, this.canvasScale), null === this.view || this.view.product.id !== e.id ? this.view = new s.BusinessCardView(l.Context2DManager.forBrandProduct(this.width, this.height), e, this.itemsGroup) : this.view.context2d = l.Context2DManager.forBrandProduct(this.width, this.height)
            }, e
        }(u.BrandProductLayer);
    e.BusinessCardLayer = h
}, function(t, e, n) {
    "use strict";
    var r = this && this.__extends || function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                })(e, n)
        };
        return function(e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.BPSvgItemView = void 0;
    var i = n(104),
        o = n(56),
        s = n(7),
        a = n(167),
        u = n(75),
        l = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e._fitBoundsMatrix = null, e._tm = null, e
            }
            return r(e, t), Object.defineProperty(e.prototype, "item", {
                get: function() {
                    return this._item
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "fitBoundsMatrix", {
                get: function() {
                    return null === this._fitBoundsMatrix && (this._fitBoundsMatrix = this.calculateFitBoundsMatrix()), this._fitBoundsMatrix
                },
                enumerable: !1,
                configurable: !0
            }), e.prototype.drawItem = function(e) {
                t.prototype.drawItem.call(this, e), e.setToContext2d(this.context2d);
                var n = this.item.fill.getColorCombination(this.item.product.brand.colorRange).getFill(null),
                    r = o.BaseSvgExporter.changeEmblemAppearance(this.item.svg, n);
                this.drawSvg(r)
            }, e.prototype.drawSvg = function(t) {
                null == e.canvgOptions && (e.canvgOptions = {
                    ignoreMouse: !0,
                    ignoreAnimation: !0,
                    ignoreDimensions: !0,
                    ignoreClear: !0,
                    offsetX: 0,
                    offsetY: 0,
                    scaleWidth: 0,
                    scaleHeight: 0
                }), i(this.context2d.canvas, t, e.canvgOptions)
            }, e.prototype.calculateFitBoundsMatrix = function() {
                var t = new s.Matrix;
                t.translate(-this.item.svgBounds.x, -this.item.svgBounds.y);
                var e = this.item.bounds.width / this.item.svgBounds.width,
                    n = this.item.bounds.height / this.item.svgBounds.height;
                return t.scale(e, n), t.translate(this.item.bounds.x, this.item.bounds.y), t
            }, e.prototype.fromBasis = function() {
                var e = this.fitBoundsMatrix.clone();
                return e.concat(t.prototype.fromBasis.call(this)), e
            }, e.prototype.toBasis = function(e) {
                e = t.prototype.toBasis.call(this, e);
                var n = this.fitBoundsMatrix.clone();
                return n.invert(), e.concat(n), e
            }, e.prototype.initializeTransformable = function() {
                this.transformable = new u.Transformable(this.item.svgBounds.width, this.item.svgBounds.height, this.getMatrixForTransformable(), this)
            }, e.prototype.getMatrixForTransformable = function() {
                return null === this._tm && (this._tm = this.fromBasis()), this._tm
            }, e.prototype.getMatrixFromTransformable = function() {
                return this.transformable.matrix.clone()
            }, e.canvgOptions = null, e
        }(a.BPItemView);
    e.BPSvgItemView = l
}, function(t, e, n) {
    "use strict";
    var r = this && this.__extends || function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                })(e, n)
        };
        return function(e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.BPLogoItemView = void 0;
    var i = n(167),
        o = n(166),
        s = n(27),
        a = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.logoView = null, e.tempContext2d = null, e
            }
            return r(e, t), Object.defineProperty(e.prototype, "item", {
                get: function() {
                    return this._item
                },
                enumerable: !1,
                configurable: !0
            }), e.prototype.drawItem = function(e) {
                t.prototype.drawItem.call(this, e), this.tempContext2d = s.Context2DManager.forBrandProductItem(this.context2d.canvas.width, this.context2d.canvas.height), null === this.logoView && (this.logoView = new o.LogoView(this.tempContext2d), this.logoView.padding = 0, this.logoView.traceRect = this.item.bounds), this.logoView.offsetMatrix = e, this.logoView.logo = this.item.logo, this.logoView.draw(this.item.fill.getColorCombination(this.item.product.brand.colorRange)), this.context2d.drawImage(this.tempContext2d.canvas, 0, 0)
            }, e
        }(i.BPItemView);
    e.BPLogoItemView = a
}, function(t, e, n) {
    "use strict";
    var r = this && this.__extends || function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                })(e, n)
        };
        return function(e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.BPImageItemView = void 0;
    var i = n(167),
        o = function(t) {
            function e() {
                var e = null !== t && t.apply(this, arguments) || this;
                return e.traceRect = null, e
            }
            return r(e, t), Object.defineProperty(e.prototype, "item", {
                get: function() {
                    return this._item
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "transformableWidth", {
                get: function() {
                    return this.item.bounds.width
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(e.prototype, "transformableHeight", {
                get: function() {
                    return this.item.bounds.height
                },
                enumerable: !1,
                configurable: !0
            }), e.prototype.drawItem = function(e) {
                var n = this;
                if (this.item.imageLoaded) {
                    t.prototype.drawItem.call(this, e);
                    var r = this.item.calculateAlignMatrix();
                    r.concat(e), r.setToContext2d(this.context2d), this.context2d.drawImage(this.item.image, 0, 0, this.item.bounds.width, this.item.bounds.height)
                } else this.item.loadDynamic().then(function() {
                    t.prototype.drawItem.call(n, e);
                    var r = n.item.calculateAlignMatrix();
                    r.concat(e), r.setToContext2d(n.context2d), n.context2d.drawImage(n.item.image, 0, 0, n.item.bounds.width, n.item.bounds.height)
                })
            }, e
        }(i.BPItemView);
    e.BPImageItemView = o
}, function(t, e, n) {
    "use strict";
    var r = this && this.__extends || function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                })(e, n)
        };
        return function(e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.BPTextItemView = void 0;
    var i = n(7),
        o = n(167),
        s = n(51),
        a = n(75),
        u = function(t) {
            function e() {
                return null !== t && t.apply(this, arguments) || this
            }
            return r(e, t), Object.defineProperty(e.prototype, "item", {
                get: function() {
                    return this._item
                },
                enumerable: !1,
                configurable: !0
            }), e.prototype.initializeTransformable = function() {
                var t = this._item.bounds.width,
                    e = this._item.bounds.height;
                (t <= 0 || e <= 0) && (t = 10, e = this.item.font.capHeightPx()), this.transformable = new a.Transformable(t, e, this.getMatrixForTransformable(), this)
            }, e.prototype.drawItem = function(e) {
                t.prototype.drawItem.call(this, e), this.context2d.font = s.BrandProduct.TEXT_SIZE + "px '" + this.item.font.fontFamily + "'";
                for (var n = this.item.content.split("\n"), r = 0; r < n.length; r++) {
                    var o = n[r];
                    if (r > 0) {
                        var a = new i.Matrix;
                        a.translate(0, Math.round(1.2 * s.BrandProduct.TEXT_SIZE)), a.concat(e), e = a
                    }
                    if (0 === this.item.maths.kerning) e.setToContext2d(this.context2d), this.context2d.fillText(o, 0, 0);
                    else
                        for (var u = o.split(""), l = 0, c = new i.Matrix, r = 0; r < u.length; r++) {
                            var h = u[r],
                                f = this.item.font.glyphWidth(h);
                            if (r > 0) {
                                var p = u[r - 1];
                                l += this.item.font.kerning(p, h), l += this.item.maths.kerning
                            }
                            c.identity(), c.translate(this.item.font.fUnitsToPx(l), 0), c.concat(e), c.setToContext2d(this.context2d), this.context2d.fillText(h, 0, 0), l += f
                        }
                }
            }, e
        }(o.BPItemView);
    e.BPTextItemView = u
}, , , , function(t, e, n) {
    "use strict";
    (function(t) {
        Object.defineProperty(e, "__esModule", {
            value: !0
        }), e.Cursor = void 0;
        var r = n(178),
            i = n(403),
            o = n(179),
            s = function() {
                function e(n) {
                    this.current = e.DEFAULT, this.keep = !1, this.iconOffsetX = -20, this.iconOffsetY = 37, this.boundaryElement = n, this.iconContainer = t(".cursor-icon"), this.icon = this.iconContainer.find("span"), this.updateIconPosition = this.updateIconPosition.bind(this), this.leave = this.leave.bind(this), this.enter = this.enter.bind(this), this.boundaryElement.addEventListener("mouseout", this.leave), this.boundaryElement.addEventListener("mouseenter", this.enter)
                }
                return e.getCursorByControl = function(t) {
                    var n = e.DEFAULT;
                    switch (t.type) {
                        case r.Control.SCALE_X:
                        case r.Control.SCALE_Y:
                        case r.Control.SCALE_UNIFORM:
                            n = e.SCALE;
                            break;
                        case r.Control.ROTATE:
                            n = e.ROTATE;
                            break;
                        case r.Control.TRANSLATE:
                            n = e.MOVE
                    }
                    return n
                }, e.prototype.leave = function() {
                    this.boundaryElement.style.cursor = "default", this.iconContainer.addClass("hidden")
                }, e.prototype.enter = function() {
                    this.keep && this.set(this.current, null, null, !0)
                }, e.prototype.start = function(t, n) {
                    this.keep = !0;
                    var r = e.getCursorByControl(t);
                    this.set(r, t, n), this.boundaryElement.addEventListener(i.InputDevice.MOVE, this.updateIconPosition)
                }, e.prototype.end = function() {
                    this.keep = !1, this.boundaryElement.removeEventListener(i.InputDevice.MOVE, this.updateIconPosition)
                }, e.prototype.set = function(t, n, r, i) {
                    if (void 0 === n && (n = null), void 0 === r && (r = null), void 0 === i && (i = !1), 1 != this.keep || 0 != i) {
                        switch (this.icon.removeClass("glyphicon-move glyphicon-repeat glyphicon-resize-vertical"), t) {
                            case e.DEFAULT:
                                this.boundaryElement.style.cursor = "default", this.iconContainer.addClass("hidden").css({
                                    transform: "none"
                                });
                                break;
                            case e.POINTER:
                                this.boundaryElement.style.cursor = "pointer", this.iconContainer.addClass("hidden").css({
                                    transform: "none"
                                });
                                break;
                            case e.MOVE:
                                this.icon.addClass("glyphicon-move"), this.boundaryElement.style.cursor = "default", this.updateIconPosition(), this.iconContainer.removeClass("hidden").css({
                                    transform: "none"
                                });
                                break;
                            case e.SCALE:
                                this.rotateIcon(n, r), this.icon.addClass("glyphicon-resize-vertical"), this.boundaryElement.style.cursor = "default", this.updateIconPosition(), this.iconContainer.removeClass("hidden")
                        }
                        this.current = t
                    }
                }, e.prototype.rotateIcon = function(t, e) {
                    if (null != t && null != e) {
                        var n = o.TransformationFactors.calculateTransformationFactors(e),
                            i = n.degreesAngle;
                        switch (t.type) {
                            case r.Control.SCALE_X:
                                i += 90;
                                break;
                            case r.Control.SCALE_Y:
                                i += 0;
                                break;
                            case r.Control.SCALE_UNIFORM:
                                n.scaleY > 0 && n.scaleX > 0 || n.scaleY < 0 && n.scaleX < 0 ? 0 == t.u && 0 == t.v || 1 == t.u && 1 == t.v ? i += 135 : i += 45 : 0 == t.u && 0 == t.v || 1 == t.u && 1 == t.v ? i += 45 : i += 135;
                                break;
                            default:
                                i = 0
                        }
                        this.iconContainer.css({
                            transform: "rotate(" + i + "deg"
                        })
                    }
                }, e.prototype.updateIconPosition = function() {
                    this.iconContainer.css({
                        top: i.InputDevice.mouseY + this.iconOffsetY + "px",
                        left: i.InputDevice.mouseX + this.iconOffsetX + "px"
                    })
                }, e.DEFAULT = 1, e.POINTER = 2, e.MOVE = 3, e.ROTATE = 4, e.SCALE = 5, e
            }();
        e.Cursor = s
    }).call(e, n(5))
}, , , , , , , , , , , , function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.TransformTool = void 0;
    var r = n(7),
        i = n(178),
        o = function() {
            function t(t) {
                this.target = null, this.startMatrix = new r.Matrix, this.regStartU = .5, this.regStartV = .5, this.startX = 0, this.startY = 0, this.preMatrix = new r.Matrix, this.postMatrix = new r.Matrix, this.endMatrix = new r.Matrix, this.regEndU = .5, this.regEndV = .5, this.endX = 0, this.endY = 0, this.dU = 0, this.dV = 0, this.regX = 0, this.regY = 0, this.inv = new r.Matrix, this.control = null, this.controls = [], this.fillStyle = "#FFF", this.strokeStyle = "#000", this.lineWidth = 1, this.container = t
            }
            return t.prototype.setTarget = function(t) {
                this.target !== t && (this.target = t, this.updateFromTarget())
            }, t.prototype.updateFromTarget = function() {
                this.target && this.target.matrix && (this.endMatrix.copyFrom(this.target.matrix), this.commit(), this.updateRegistration(), this.updateControls())
            }, t.prototype.setControls = function(t) {
                if (this.controls.length = 0, t && t.length) {
                    var e = 0,
                        n = t.length;
                    for (e = 0; e < n; e++) t[e].tool = this, this.controls[e] = t[e], this.controls[e].updatePosition()
                }
            }, t.prototype.updateControls = function() {
                var t = 0,
                    e = this.controls.length;
                for (t = 0; t < e; t++) this.controls[t].updatePosition()
            }, t.prototype.getControlAt = function(t, e) {
                for (var n = this.controls.length; n--;)
                    if (this.controls[n].contains(t, e)) return this.controls[n];
                return null
            }, t.prototype.draw = function() {
                if (this.shouldDraw()) {
                    var t = 0,
                        e = this.controls.length;
                    for (t = 0; t < e; t++) this.controls[t].draw(this.container)
                }
            }, t.prototype.shouldDraw = function() {
                return null != this.target
            }, t.prototype.start = function(t, e, n) {
                if (void 0 === n && (n = void 0), !this.target) return !1;
                if (this.end(), this.control = n || this.getControlAt(t, e), this.control) {
                    if (this.startX = t, this.startY = e, this.dU = 0, this.dV = 0, this.control.dynamicUV) {
                        var r = t - this.startMatrix.tx,
                            i = e - this.startMatrix.ty;
                        this.control.u = (this.inv.a * r + this.inv.c * i) / this.target.width, this.control.v = (this.inv.d * i + this.inv.b * r) / this.target.height
                    }
                    return this.updateRegistration(), !0
                }
                return !1
            }, t.prototype.move = function(t, e) {
                this.updateMoveValues(t, e), this.control && (this.applyControl(), this.updateTransform(), this.updateTarget(), this.updateRegistration(), this.updateControls())
            }, t.prototype.end = function() {
                this.commit(), this.control = null
            }, t.prototype.updateMoveValues = function(t, e) {
                this.endX = t, this.endY = e;
                var n = this.endX - this.startX,
                    r = this.endY - this.startY;
                this.dU = (this.inv.a * n + this.inv.c * r) / this.target.width, this.dV = (this.inv.d * r + this.inv.b * n) / this.target.height
            }, t.prototype.applyControl = function() {
                if (this.control) {
                    if (null !== this.control.transformCallback && !this.control.transformCallback(this.control)) return;
                    var t = 0,
                        e = 0,
                        n = this.target.width,
                        r = this.target.height,
                        o = this.control.u - this.regStartU,
                        s = this.control.v - this.regStartV;
                    switch (o > 0 ? o * n < 1 && (o = 1 / n) : o * n > -1 && (o = -1 / n), s > 0 ? s * r < 1 && (s = 1 / r) : s * r > -1 && (s = -1 / r), this.control.type) {
                        case i.Control.SCALE:
                            t = (o + this.dU) / o, e = (s + this.dV) / s, this.preMatrix.scale(t, e);
                            break;
                        case i.Control.SCALE_X:
                            t = (o + this.dU) / o, this.preMatrix.scale(t, 1);
                            break;
                        case i.Control.SCALE_Y:
                            e = (s + this.dV) / s, this.preMatrix.scale(1, e);
                            break;
                        case i.Control.SCALE_UNIFORM:
                            t = (o + this.dU) / o, e = (s + this.dV) / s, n = e ? Math.abs(t / e) : 0, r = t ? Math.abs(e / t) : 0, 0 === n || 0 === r ? (t = 0, e = 0) : n > r ? t *= r : e *= n, this.preMatrix.scale(t, e);
                            break;
                        case i.Control.SKEW_X:
                            this.preMatrix.c = n / r * (this.dU / s);
                            break;
                        case i.Control.SKEW_Y:
                            this.preMatrix.b = r / n * (this.dV / o);
                            break;
                        case i.Control.ROTATE_SCALE:
                            t = this.startX - this.regX, e = this.startY - this.regY;
                            var a = this.endX - this.regX,
                                u = this.endY - this.regY,
                                l = Math.atan2(u, a) - Math.atan2(e, t);
                            this.postMatrix.rotate(l);
                            var c = Math.sqrt(t * t + e * e);
                            0 === c ? this.preMatrix.scale(0, 0) : (c = Math.sqrt(a * a + u * u) / c, this.preMatrix.scale(c, c));
                            break;
                        case i.Control.ROTATE:
                            t = Math.atan2(this.startY - this.regY, this.startX - this.regX), e = Math.atan2(this.endY - this.regY, this.endX - this.regX), this.postMatrix.rotate(e - t);
                            break;
                        case i.Control.TRANSLATE:
                            this.postMatrix.translate(this.endX - this.startX, this.endY - this.startY);
                            break;
                        case i.Control.REGISTRATION:
                            this.regEndU = this.regStartU + this.dU, this.regEndV = this.regStartV + this.dV
                    }
                }
            }, t.prototype.updateRegistration = function() {
                var t = this.regEndU * this.target.width,
                    e = this.regEndV * this.target.height,
                    n = this.endMatrix;
                this.regX = n.tx + n.a * t + n.c * e, this.regY = n.ty + n.d * e + n.b * t
            }, t.prototype.updateTransform = function() {
                this.endMatrix.identity(), this.endMatrix.concat(this.preMatrix), this.endMatrix.concat(this.startMatrix);
                var t = this.endMatrix.tx + this.postMatrix.tx,
                    e = this.endMatrix.ty + this.postMatrix.ty;
                this.endMatrix.concat(this.postMatrix), this.endMatrix.tx = t, this.endMatrix.ty = e, this.applyRegistrationOffset(), this.preMatrix.identity(), this.postMatrix.identity()
            }, t.prototype.applyRegistrationOffset = function() {
                if (0 !== this.regEndU || 0 !== this.regEndV) {
                    var t = this.regEndU * this.target.width,
                        e = this.regEndV * this.target.height,
                        n = this.startMatrix.a * t + this.startMatrix.c * e,
                        r = this.startMatrix.d * e + this.startMatrix.b * t;
                    n -= this.endMatrix.a * t + this.endMatrix.c * e, r -= this.endMatrix.d * e + this.endMatrix.b * t, this.endMatrix.translate(n, r)
                }
            }, t.prototype.updateTarget = function() {
                this.target && this.target.matrix && !this.target.matrix.equals(this.endMatrix) && (this.target.matrix.copyFrom(this.endMatrix), null !== this.target.changed && this.target.changed())
            }, t.prototype.commit = function() {
                this.regStartU = this.regEndU, this.regStartV = this.regEndV, this.startMatrix.copyFrom(this.endMatrix), this.sanitizeStartMatrix(), this.inv.copyFrom(this.startMatrix), this.inv.invert()
            }, t.prototype.sanitizeStartMatrix = function() {
                this.target && (0 === this.startMatrix.a && 0 === this.startMatrix.b && (this.startMatrix.a = 1 / this.target.width), 0 === this.startMatrix.d && 0 === this.startMatrix.c && (this.startMatrix.d = 1 / this.target.height))
            }, t
        }();
    e.TransformTool = o
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.ControlBase = void 0;
    var r = n(178),
        i = function() {
            function t(e, n, r, i, o, s) {
                void 0 === n && (n = void 0), void 0 === r && (r = void 0), void 0 === i && (i = 0), void 0 === o && (o = 0), void 0 === s && (s = t.SIZE), this.tool = null, this.x = 0, this.y = 0, this.hitTestTarget = !1, this.shape = null, this.dynamicUV = !1, this.drawCallback = null, this.transformCallback = null, this.type = e, this.offsetX = i, this.offsetY = o, this.size = s, this.setDefaultShape(), this.u = n, this.v = r
            }
            return t.prototype.setDefaultShape = function() {
                switch (this.type) {
                    case r.Control.ROTATE:
                    case r.Control.ROTATE_SCALE:
                    case r.Control.REGISTRATION:
                        this.shape = r.Control.SHAPE_ARC;
                        break;
                    case r.Control.SCALE:
                    case r.Control.SCALE_UNIFORM:
                    case r.Control.SCALE_X:
                    case r.Control.SCALE_Y:
                    case r.Control.SKEW_X:
                    case r.Control.SKEW_Y:
                        this.shape = r.Control.SHAPE_SQUARE;
                        break;
                    case r.Control.BORDER:
                        this.shape = r.Control.SHAPE_BORDER
                }
            }, t.prototype.updatePosition = function() {
                if (this.tool && this.tool.target) {
                    if (this.type === r.Control.REGISTRATION) return this.x = this.tool.regX, void(this.y = this.tool.regY);
                    var t = this.tool.endMatrix,
                        e = this.tool.target.width * this.u,
                        n = this.tool.target.height * this.v;
                    this.x = t.tx + t.a * e + t.c * n, this.y = t.ty + t.d * n + t.b * e;
                    var i = 0;
                    this.offsetX && (i = t.getRotationX(), this.x += this.offsetX * Math.cos(i), this.y += this.offsetX * Math.sin(i)), this.offsetY && (i = t.getRotationY(), this.x += this.offsetY * Math.sin(i), this.y += this.offsetY * Math.cos(i))
                }
            }, t.prototype.draw = function(t) {
                if ((null === this.drawCallback || this.drawCallback(this, t)) && !(this.size <= 0)) {
                    var e = 0,
                        n = 0;
                    switch (t.save(), t.beginPath(), t.fillStyle = this.tool.fillStyle, t.strokeStyle = this.tool.strokeStyle, t.lineWidth = this.tool.lineWidth, this.shape) {
                        case r.Control.SHAPE_CIRCLE:
                            t.arc(this.x, this.y, this.size / 2, 0, 2 * Math.PI), t.fill(), t.stroke();
                            break;
                        case r.Control.SHAPE_SQUARE:
                            e = this.x - this.size / 2 | 0, n = this.y - this.size / 2 | 0, t.fillRect(e, n, this.size, this.size), t.strokeRect(e, n, this.size, this.size);
                            break;
                        case r.Control.SHAPE_BORDER:
                            t.fillStyle = "";
                            var i = this.tool.target,
                                o = this.tool.endMatrix;
                            t.moveTo(o.tx, o.ty), e = o.tx + o.a * i.width, n = o.ty + o.b * i.width, t.lineTo(e, n), e = o.tx + o.a * i.width + o.c * i.height, n = o.ty + o.d * i.height + o.b * i.width, t.lineTo(e, n), e = o.tx + o.c * i.height, n = o.ty + o.d * i.height, t.lineTo(e, n), t.lineTo(o.tx, o.ty), t.stroke()
                    }
                    t.restore()
                }
            }, t.prototype.contains = function(t, e) {
                if (this.hitTestTarget) {
                    var n = this.tool.target;
                    return n.matrix.containsPoint(t, e, n.width, n.height)
                }
                var r = Math.abs(this.x - t),
                    i = Math.abs(this.y - e),
                    o = this.size / 2;
                return r < o && i < o
            }, t.SCALE = 1, t.SCALE_X = 2, t.SCALE_Y = 3, t.SCALE_UNIFORM = 4, t.ROTATE = 5, t.TRANSLATE = 6, t.REGISTRATION = 7, t.SKEW_X = 8, t.SKEW_Y = 9, t.BORDER = 10, t.TARGET = 11, t.ROTATE_SCALE = 12, t.SHAPE_CIRCLE = 1, t.SHAPE_SQUARE = 2, t.SHAPE_ARC = 3, t.SHAPE_BORDER = void 0, t.SIZE = 15, t
        }();
    e.ControlBase = i
}, , , function(t, e, n) {
    "use strict";
    var r = this && this.__extends || function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                })(e, n)
        };
        return function(e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.BusinessCardView = void 0;
    var i = n(357),
        o = function(t) {
            function e() {
                return null !== t && t.apply(this, arguments) || this
            }
            return r(e, t), e
        }(i.BrandProductView);
    e.BusinessCardView = o
}, , , , function(t, e, n) {
    "use strict";
    (function(t) {
        var r = this && this.__extends || function() {
            var t = function(e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                    })(e, n)
            };
            return function(e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }();
        Object.defineProperty(e, "__esModule", {
            value: !0
        }), e.ColorPicker = void 0;
        var i = n(28),
            o = n(165),
            s = n(9),
            a = n(184),
            u = function(e) {
                function n(r, o, s, a) {
                    void 0 === a && (a = !1);
                    var u = e.call(this) || this;
                    return u._pickerElement = null, u._suggestedPickers = null, u._colorPicker = null, u._color = "", u._onColorChanged = null, u._onClosePicker = null, u._horizontal = !1, u.colorRange = null, u.inputColorChars = "1234567890ABCDEFabcdef", u.typing = !1, null == n.template && (n.template = i.template(t(".color-picker-template").html())), u._pickerElement = r, u._pickerElement.on("click", u.openPicker), u._pickerElement.on("click", u.openHandler), u._onColorChanged = o, u._onClosePicker = s, u._horizontal = a, u
                }
                return r(n, e), n.prototype.bindHandlers = function() {
                    e.prototype.bindHandlers.call(this), this.openPicker = this.openPicker.bind(this), this.destroyPicker = this.destroyPicker.bind(this), this.onColorChange = this.onColorChange.bind(this), this.onKeyDownColor = this.onKeyDownColor.bind(this), this.onInputColor = this.onInputColor.bind(this), this.suggestedColorClick = this.suggestedColorClick.bind(this)
                }, Object.defineProperty(n.prototype, "color", {
                    get: function() {
                        return this._color
                    },
                    set: function(t) {
                        this._color = t, null != this._colorPicker && (this._colorPicker.color.hexString = t), this._pickerElement.css("background-color", "#" + t)
                    },
                    enumerable: !1,
                    configurable: !0
                }), n.prototype.openPicker = function(e) {
                    if (e.stopPropagation(), null == this._colorPicker) {
                        var r = n.template({});
                        this._pickerElement.html(r), this._horizontal && this._pickerElement.find(".color-popup").addClass("horizontal"), this._colorPicker = new o.ColorPicker("#color-wheel-wrapper", {
                            width: 227,
                            height: 227,
                            markerRadius: 4
                        }), "" != this._color && (this._colorPicker.color.hexString = this._color, t(this._pickerElement).find(".color-preview .color-item").css("background-color", this._colorPicker.color.hexString), t(this._pickerElement).find(".color-preview input").val(this._color)), this._suggestedPickers = this._pickerElement.find(".color-item"), null != this.colorRange && (this._pickerElement.find(".color-item.color1").css("background-color", "#" + s.ColorRange.toColorString(this.colorRange.colors[0])), this._pickerElement.find(".color-item.color2").css("background-color", "#" + s.ColorRange.toColorString(this.colorRange.colors[1])), this._pickerElement.find(".color-item.color3").css("background-color", "#" + s.ColorRange.toColorString(this.colorRange.colors[2])), this._pickerElement.find(".color-item.color4").css("background-color", "#" + s.ColorRange.toColorString(this.colorRange.colors[3])), this._pickerElement.find(".color-item.color5").css("background-color", "#" + s.ColorRange.toColorString(this.colorRange.colors[4]))), this._colorPicker.on("color:change", this.onColorChange), this._pickerElement.find(".color-preview input").on("keydown", this.onKeyDownColor), this._pickerElement.find(".color-preview input").on("input", this.onInputColor), this._suggestedPickers.on("click.suggestedColor", this.suggestedColorClick), t(document).on("click.colorPickerGlobal", this.destroyPicker)
                    }
                }, n.prototype.closePicker = function() {
                    null !== this._suggestedPickers && this._suggestedPickers.unbind("click.suggestedColor"), t(document).unbind("click.colorPickerGlobal"), this._pickerElement.html(""), this._colorPicker = null, this._suggestedPickers = null
                }, n.prototype.destroyPicker = function(e) {
                    this._pickerElement.is(e.target) || 0 != this._pickerElement.has(e.target).length || (this._suggestedPickers.unbind("click.suggestedColor"), t(document).unbind("click.colorPickerGlobal"), this._pickerElement.html(""), this._colorPicker = null, this._suggestedPickers = null, this._onClosePicker())
                }, n.prototype.onColorChange = function() {
                    this._color = this._colorPicker.color.hexString.replace("#", ""), this._color = this.fix3DigitHex(this._color), this._pickerElement.find(".color-preview .color-item").css("background-color", this._colorPicker.color.hexString), !1 === this.typing && this._pickerElement.find(".color-preview input").val(this._color), this._pickerElement.css("background-color", this._colorPicker.color.hexString), this._onColorChanged()
                }, n.prototype.isHex = function(t) {
                    for (var e = 0, n = t; e < n.length; e++) {
                        var r = n[e];
                        if (-1 === this.inputColorChars.indexOf(r)) return !1
                    }
                    return !0
                }, n.prototype.onKeyDownColor = function(t) {
                    var e = t.which;
                    if ((!0 !== t.ctrlKey || 86 !== e) && (32 === e || e >= 48 && e < 91 || e >= 96 && e < 112 || e > 145)) {
                        var n = t.key; - 1 === this.inputColorChars.indexOf(n) && (t.preventDefault(), t.stopImmediatePropagation())
                    }
                }, n.prototype.onInputColor = function(e) {
                    this.typing = !0;
                    var n = t(e.target).val();
                    3 !== n.length && 6 !== n.length || !this.isHex(n) || (this.color = n), this.typing = !1
                }, n.prototype.suggestedColorClick = function(e) {
                    var n = new o.Color;
                    n.rgbString = t(e.target).css("background-color"), this.color = n.hexString.replace("#", ""), this._onColorChanged()
                }, n.prototype.hide = function() {
                    this.closePicker()
                }, n.prototype.fix3DigitHex = function(t) {
                    return null == t ? "000000" : "NaN" === t.toString() ? "000000" : 3 === t.length ? t[0] + t[0] + t[1] + t[1] + t[2] + t[2] : t
                }, n.template = null, n
            }(a.LogasterPopup);
        e.ColorPicker = u
    }).call(e, n(5))
}, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function(t, e, n) {
    "use strict";
    (function(t) {
        var r = this && this.__extends || function() {
            var t = function(e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                    })(e, n)
            };
            return function(e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }();
        Object.defineProperty(e, "__esModule", {
            value: !0
        }), e.BrandProductEditableView = void 0;
        var i = n(28),
            o = n(357),
            s = n(8),
            a = n(178),
            u = n(431),
            l = n(419),
            c = n(21),
            h = n(26),
            f = n(108),
            p = n(403),
            d = n(7),
            g = n(179),
            m = n(111),
            v = n(20),
            b = n(40),
            y = n(9),
            _ = n(14),
            w = n(58),
            x = function(e) {
                function n(n, r, o, a) {
                    var c = e.call(this, n, r, o) || this;
                    c.moveElementHandler = null, c.deselectEventHandler = null, c.componentWithHoverBorder = null, c.selectedElement = null, c.selectedElementHandler = null, c.textItemFont = h.Font.fromId(60037), c.savedLogoBounds = null, c.templateMode = !1, c.duplicateMode = !1, c.canvas = c.context2d.canvas, c.tool = new u.TransformTool(c.context2d), c.cursor = new l.Cursor(c.canvas);
                    var f = Math.max(c.product.widthMm, c.product.heightMm) / s.Logo.LOGO_SUGGESTION_WIDTH / 4;
                    return c.savedLogoBounds = new _.Rectangle(0, 0, s.Logo.LOGO_SUGGESTION_WIDTH * f, s.Logo.LOGO_SUGGESTION_HEIGHT * f), c.bindHandlers(), c.setupTool(), c.saveHistoryHandler = a, c.saveHistoryDebounced = i.debounce(c.saveHistoryHandler, 700), c.sidebar = t(".logaster3 .sidebar"), c
                }
                return r(n, e), Object.defineProperty(n.prototype, "product", {
                    get: function() {
                        return this._product
                    },
                    set: function(t) {
                        var e = this;
                        this._product = t;
                        for (var n = 0, r = this._product.items; n < r.length; n++) {
                            var i = r[n];
                            if (i.type === c.BPItem.TEXT) {
                                this.textItemFont = i.font;
                                break
                            }
                        }
                        this._forceInit = !0, t.loadDynamic().then(function() {
                            e.draw()
                        })
                    },
                    enumerable: !1,
                    configurable: !0
                }), n.prototype.bindHandlers = function() {
                    this.up = this.up.bind(this), this.down = this.down.bind(this), this.move = this.move.bind(this), this.keyboardMove = this.keyboardMove.bind(this), this.render = this.render.bind(this), this.handleDrawSelected = this.handleDrawSelected.bind(this), this.hover = this.hover.bind(this), this.leave = this.leave.bind(this), this.canvas.addEventListener(p.InputDevice.START, this.down), this.canvas.addEventListener(p.InputDevice.MOVE, this.hover), this.canvas.addEventListener(p.InputDevice.LEAVE, this.leave), document.addEventListener(p.InputDevice.KEYDOWN, this.keyboardMove)
                }, n.prototype.setupTool = function() {
                    var t = this.getTransformToolControls();
                    this.tool.setControls(t)
                }, n.prototype.draw = function() {
                    this.resetTransformable(), e.prototype.draw.call(this), this.addDisplayListObjects(), this.drawTransformToolBorder(), null !== this.watermark && this.drawWatermark()
                }, n.prototype.addDisplayListObjects = function() {
                    for (var t = 0, e = this.items; t < e.length; t++) {
                        e[t].initializeTransformable()
                    }
                }, n.prototype.drawTransformToolBorder = function() {
                    if (null !== this.selectedElement) {
                        for (var t = null, e = 0, n = this.items; e < n.length; e++) {
                            var r = n[e];
                            if (this.selectedElement.uid == r.item.uid) {
                                t = r.transformable;
                                break
                            }
                        }
                        this.tool.setTarget(t), this.tool.draw()
                    }
                }, n.prototype.resetTransformable = function() {
                    for (var t = 0, e = this.items; t < e.length; t++) {
                        e[t].resetTransformable()
                    }
                }, n.prototype.getTransformToolControls = function(t) {
                    void 0 === t && (t = null);
                    var e = new a.Control(a.Control.TRANSLATE);
                    e.hitTestTarget = !0;
                    var n = new a.Control(a.Control.TARGET);
                    n.drawCallback = this.handleDrawSelected;
                    var r = [n, e, new a.Control(a.Control.BORDER), new a.Control(a.Control.SCALE_UNIFORM, 0, 0, 0, 0, 6, "#747474", "#747474", 2), new a.Control(a.Control.SCALE_UNIFORM, 0, 1, 0, 0, 6, "#747474", "#747474", 2), new a.Control(a.Control.SCALE_UNIFORM, 1, 0, 0, 0, 6, "#747474", "#747474", 2), new a.Control(a.Control.SCALE_UNIFORM, 1, 1, 0, 0, 6, "#747474", "#747474", 2)];
                    return (this.templateMode || this.duplicateMode) && t === c.BPItem.LOGO || r.push(new a.Control(a.Control.ROTATE, .5, 0, 0, -10, 10, "#747474", "#747474", 2)), t != c.BPItem.SVG && t != c.BPItem.CUSTOM_SVG || (r.push(new a.Control(a.Control.SCALE_X, 1, .5, 0, 0, 6, "#747474", "#747474", 2)), r.push(new a.Control(a.Control.SCALE_Y, .5, 1, 0, 0, 6, "#747474", "#747474", 2))), r
                }, n.prototype.handleDrawSelected = function(t, e) {
                    return !1
                }, n.prototype.up = function(t) {
                    this.tool.startMatrix.equals(this.tool.endMatrix) || this.saveHistoryHandler(), this.cursor.end(), this.tool.end(), this.canvas.removeEventListener(p.InputDevice.MOVE, this.move), document.removeEventListener(p.InputDevice.END, this.up), requestAnimationFrame(this.render), null !== this.deselectEventHandler && this.deselectEventHandler(), t.preventDefault()
                }, n.prototype.down = function(t) {
                    p.InputDevice.getMouse(t, this.canvas);
                    var e = this.tool.start(p.InputDevice.mouseX, p.InputDevice.mouseY);
                    if (!e && this.selectComponent(p.InputDevice.mouseX, p.InputDevice.mouseY) && (e = this.tool.start(p.InputDevice.mouseX, p.InputDevice.mouseY, this.findControlByType(a.Control.TRANSLATE))), e) {
                        this.canvas.addEventListener(p.InputDevice.MOVE, this.move), document.addEventListener(p.InputDevice.END, this.up);
                        var n = this.tool.getControlAt(p.InputDevice.mouseX, p.InputDevice.mouseY);
                        null !== n && this.cursor.start(n, this.tool.target.matrix)
                    }
                    requestAnimationFrame(this.render), t.preventDefault(), this.setSelectedElementByTool()
                }, n.prototype.move = function(t) {
                    if (p.InputDevice.getMouse(t, this.canvas), this.tool.move(p.InputDevice.mouseX, p.InputDevice.mouseY), requestAnimationFrame(this.render), t.preventDefault(), this.moveElementHandler && this.tool.control) {
                        var e = [a.Control.SCALE_X, a.Control.SCALE_Y, a.Control.SCALE_UNIFORM],
                            n = -1 !== e.indexOf(this.tool.control.type);
                        this.moveElementHandler(n)
                    }
                }, n.prototype.keyboardMove = function(e) {
                    !t(e.target).is("input, button, textarea") && null != this.tool.target && p.InputDevice.getKeyboard(e, this.tool.startX, this.tool.startY) && (e.preventDefault(), this.tool.start(this.tool.startX, this.tool.startY, this.findControlByType(a.Control.TRANSLATE)), this.tool.move(p.InputDevice.keyboardX, p.InputDevice.keyboardY), requestAnimationFrame(this.render), this.moveElementHandler && this.moveElementHandler(!1), this.saveHistoryDebounced())
                }, n.prototype.selectComponent = function(t, e) {
                    for (var n = null, r = this.items.length; r--;) {
                        n = this.items[r];
                        var i = n.transformable;
                        if (i.matrix.containsPoint(t, e, i.width, i.height)) return this.tool.target !== n.transformable && (n.item.type === c.BPItem.SVG ? (this.tool.setTarget(null), !1) : (this.tool.setTarget(n.transformable), !0))
                    }
                    return this.tool.setTarget(null), !1
                }, n.prototype.setSelectedElementByTool = function() {
                    var t = null !== this.selectedElement ? this.selectedElement.uid : null;
                    if (this.tool.target)
                        for (var e = this.tool.target.owner, n = 0, r = this.items; n < r.length; n++) {
                            var i = r[n];
                            e === i && (this.selectedElement = i.item)
                        } else this.selectedElement = null;
                    (null !== this.selectedElement ? this.selectedElement.uid : null) != t && this.selectedElementHandler && this.selectedElementHandler()
                }, n.prototype.findControlByType = function(t) {
                    var e = 0,
                        n = this.tool.controls.length;
                    for (e = 0; e < n; e++)
                        if (this.tool.controls[e].type == t) return this.tool.controls[e];
                    return null
                }, n.prototype.render = function() {
                    this.clear(), this.drawDisplayList(), this.tool.draw(), null !== this.watermark && this.drawWatermark()
                }, n.prototype.drawDisplayList = function() {
                    for (var t = 0, e = this.items; t < e.length; t++) {
                        e[t].draw()
                    }
                }, n.prototype.drawWatermark = function() {
                    this.context2d.drawImage(this.watermark, 0, 0)
                }, n.prototype.hover = function(t) {
                    p.InputDevice.getMouse(t, this.canvas);
                    var e = null;
                    this.tool.target && (e = this.tool.getControlAt(p.InputDevice.mouseX, p.InputDevice.mouseY));
                    for (var n = null, r = this.items.length; r--;) {
                        var i = this.items[r];
                        if (i.transformable.matrix.containsPoint(p.InputDevice.mouseX, p.InputDevice.mouseY, i.transformable.width, i.transformable.height) && this.tool.target !== i.transformable) {
                            n = i, i.item.type === c.BPItem.SVG && (n = null);
                            break
                        }
                    }
                    var o = l.Cursor.DEFAULT,
                        s = null;
                    null !== e ? (o = l.Cursor.getCursorByControl(e), s = this.tool.target.matrix) : null !== n && (o = l.Cursor.POINTER), this.cursor.iconOffsetX = (window.innerWidth - (this.canvas.width + this.sidebar.width())) / 2, this.cursor.set(o, e, s);
                    var a = !1;
                    null !== n && null === this.selectedElement ? a = !0 : null !== n && null !== this.selectedElement && null === e && null !== this.tool.target && n !== this.tool.target.owner && (a = !0), a && n !== this.componentWithHoverBorder ? (this.componentWithHoverBorder = n, this.render(), n.drawBorder()) : a || null === this.componentWithHoverBorder || (this.componentWithHoverBorder = null, this.render())
                }, n.prototype.leave = function() {
                    null !== this.componentWithHoverBorder && (this.componentWithHoverBorder = null, this.render())
                }, n.prototype.saveItemTransform = function() {
                    for (var t = 0, e = this.items; t < e.length; t++) {
                        e[t].saveItemTransform()
                    }
                }, n.prototype.setSelectedElementById = function(t) {
                    for (var e = 0, n = this._product.items; e < n.length; e++) {
                        var r = n[e];
                        if (r.uid === t) return void(this.selectedElement = r)
                    }
                    this.selectedElement = null
                }, n.prototype.getSelectedItemSize = function() {
                    if (null === this.selectedElement) return null;
                    for (var t = null, e = 0, n = this.items; e < n.length; e++) {
                        var r = n[e];
                        if (this.selectedElement.uid == r.item.uid) {
                            t = r.getMatrixFromTransformable();
                            break
                        }
                    }
                    var i = g.TransformationFactors.calculateTransformationFactors(t);
                    return {
                        width: this.selectedElement.bounds.width * i.scaleX,
                        height: this.selectedElement.bounds.height * i.scaleY
                    }
                }, n.prototype.selectText = function(t) {
                    (null !== this.selectedElement ? this.selectedElement.uid : null) !== t && (null === t ? this.resetSelectedComponent() : this.setSelectedElementById(t), this.saveItemTransform(), this.draw())
                }, n.prototype.changeLogo = function(t, e) {
                    var n = this.getLogoItem(),
                        r = null,
                        i = this.getTransformToolControls(c.BPItem.LOGO);
                    if (this.tool.setControls(i), null === n && (n = e.getLogoItem(this.itemsGroup), null !== n ? n = n.clone() : (n = new m.BPLogoItem, n.maths = new v.Maths, n.fill = new b.BPItemFill(y.ColorRange.BG_WHITE, y.ColorRange.EL_LOGO1), n.bounds = this.savedLogoBounds.clone(), n.maths.matrix = n.getInitialSizeMatrix(n.bounds)), n.product = this._product, this._product.items.push(n), r = this.createItemView(n), this.items.push(r)), n.group = this.itemsGroup, n.logo = t, n.logoType = t.makerType, n.withSlogan = Boolean(t.makerSlogans), null === r)
                        for (var o = 0, s = this.items; o < s.length; o++) {
                            var a = s[o];
                            a.item.type === c.BPItem.LOGO && (r = a)
                        }
                    r.initializeTransformable(), this.setSelectedElementById(n.uid), this.saveItemTransform(), this.draw()
                }, n.prototype.getLogoItem = function() {
                    for (var t = null, e = 0, n = this._product.items; e < n.length; e++) {
                        var r = n[e];
                        if (r.group === this.itemsGroup && r.type === c.BPItem.LOGO) {
                            t = r;
                            break
                        }
                    }
                    return t
                }, n.prototype.getBPSvgItem = function() {
                    for (var t = null, e = 0, n = this._product.items; e < n.length; e++) {
                        var r = n[e];
                        if (r.group === this.itemsGroup && (r.type === c.BPItem.SVG || r.type === c.BPItem.CUSTOM_SVG)) {
                            r.type, c.BPItem.CUSTOM_SVG, t = r;
                            break
                        }
                    }
                    return t
                }, n.prototype.getTextItems = function() {
                    for (var t = [], e = 0, n = this._product.items; e < n.length; e++) {
                        var r = n[e];
                        r.group === this.itemsGroup && r.type === c.BPItem.TEXT && t.push(r)
                    }
                    return t
                }, n.prototype.removeLogo = function() {
                    var t = this.getLogoItem(),
                        e = this.getSelectedItemView();
                    if (null !== t) {
                        this.savedLogoBounds = t.bounds.clone();
                        var n = this._product.items.indexOf(t);
                        n > -1 && this._product.items.splice(n, 1), null !== this.selectedElement && t === this.selectedElement && this.resetSelectedComponent(), this.saveItemTransform(), this.items.splice(this.items.indexOf(e), 1), this.draw()
                    }
                }, n.prototype.resetSelectedComponent = function() {
                    this.tool.setTarget(null), this.setSelectedElementByTool()
                }, n.prototype.changeItemSize = function(t) {
                    if (null !== this.selectedElement) {
                        this.saveItemTransform();
                        var e = new d.Matrix,
                            n = this.selectedElement.maths.matrix,
                            r = this.getSelectedItemSize(),
                            i = t / r.height;
                        e.scale(i, i), e.concat(n);
                        var o, s = (r.width - r.width * i) / 2;
                        o = this.selectedElement.type === c.BPItem.TEXT ? (t - r.height) / 2 : (r.height - t) / 2;
                        var a = this.context2d.canvas.width / this.selectedElement.product.widthMm,
                            u = this.context2d.canvas.height / this.selectedElement.product.heightMm;
                        e.translate(s / a, o / u), this.selectedElement.maths.matrix = e, this.draw()
                    }
                }, n.prototype.getSelectedElementView = function() {
                    var t = null;
                    if (null === this.selectedElement) return t;
                    for (var e = 0, n = this.items; e < n.length; e++) {
                        var r = n[e];
                        if (r.item === this.selectedElement) {
                            t = r;
                            break
                        }
                    }
                    return t
                }, n.prototype.addText = function(t, e) {
                    void 0 === e && (e = y.ColorRange.BG_WHITE);
                    var n = new f.BPTextItem,
                        r = this._product.widthMm / this.canvas.width;
                    n.group = this.itemsGroup, n.content = t, n.maths = new w.TextMaths, n.maths.matrix.translate(30, 30), n.maths.matrix.scale(r, r), n.fill = new b.BPItemFill(e, y.ColorRange.EL_TEXT), n.font = this.textItemFont, n.product = this._product, this._product.items.push(n);
                    var i = this.createItemView(n);
                    return i.initializeTransformable(), this.items.push(i), this.setSelectedElementById(n.uid), this.saveItemTransform(), this.draw(), n
                }, n.prototype.changeText = function(t, e) {
                    for (var n = 0, r = this.items; n < r.length; n++) {
                        var i = r[n];
                        e == i.item.uid && (i.item.content = t)
                    }
                    this.saveItemTransform(), this.draw()
                }, n.prototype.removeText = function(t) {
                    for (var e = null, n = 0; n < this._product.items.length; n++) {
                        if (this._product.items[n].uid === t) {
                            e = this._product.items.splice(n, 1)[0];
                            break
                        }
                    }
                    null !== e && null !== this.selectedElement && e === this.selectedElement && this.resetSelectedComponent(), this.saveItemTransform();
                    for (var r = 0, i = this.items; r < i.length; r++) {
                        var o = i[r];
                        if (o.item.uid === t) {
                            this.items.splice(this.items.indexOf(o), 1);
                            break
                        }
                    }
                    this.draw()
                }, n.prototype.getSelectedItemView = function() {
                    for (var t = 0, e = this.items; t < e.length; t++) {
                        var n = e[t];
                        if (n.item.uid == this.selectedElement.uid) return n
                    }
                    return null
                }, n.prototype.moveLayer = function(t) {
                    var e;
                    if ("up" === t) e = 1;
                    else {
                        if ("down" !== t) return;
                        e = -1
                    }
                    for (var n = this._product.items.length, r = 0; r < n; r++) {
                        var i = this._product.items[r];
                        if (i.uid === this.selectedElement.uid) {
                            var o = r + e;
                            if (o >= 0 && o < n) {
                                i = this._product.items.splice(r, 1)[0], this._product.items.splice(o, 0, i);
                                var s = this.items.splice(r, 1)[0];
                                this.items.splice(o, 0, s), this.draw()
                            }
                            return
                        }
                    }
                }, n
            }(o.BrandProductView);
        e.BrandProductEditableView = x
    }).call(e, n(5))
}, function(t, e, n) {
    "use strict";
    (function(t) {
        Object.defineProperty(e, "__esModule", {
            value: !0
        }), e.BrandProductEditApp = void 0;
        var r = n(28),
            i = n(182),
            o = n(26),
            s = n(9),
            a = n(164),
            u = n(439),
            l = n(365),
            c = n(21),
            h = n(493),
            f = n(357),
            p = n(494),
            d = n(76),
            g = function() {
                function e() {
                    this._brand = null, this.template = null, this.needLayouts = !0, this.fontsGot = !1, this.presentation = null, this.bpHistory = null, this.saveHistoryDebounced = null, this.templateMode = null, this.duplicateMode = null, o.Font.init(), s.ColorRange.init(), this.$el = t(".logaster3 .edit-product-page"), this.editTitle = t(".logaster3 .header .editable-title"), this.editIcon = t(".logaster3 .header .icon-pencil"), this.layoutNavTab = this.$el.find(".nav-layout"), this.layoutTabContent = this.$el.find("#layout .content"), this.layoutToolbar = this.$el.find("#layout .toolbar"), this.layoutContainer = this.layoutTabContent.find(".layouts-container"), this.textNavTab = this.$el.find(".nav-text"), this.textTabContent = this.$el.find("#text .content"), this.textToolbar = this.$el.find("#text .toolbar"), this.imageNavTab = this.$el.find(".nav-image"), this.imageTabContent = this.$el.find("#image .content"), this.imageToolbar = this.$el.find("#image .toolbar"), this.primitivesNavTab = this.$el.find(".nav-primitives"), this.primitivesTabContent = this.$el.find("#primitives .content"), this.primitivesToolbar = this.$el.find("#primitives .toolbar"), this.logoNavTab = this.$el.find(".nav-logo"), this.logoTabContent = this.$el.find("#logo .content"), this.logoToolbar = this.$el.find("#logo .toolbar"), this.removeLogoBtn = this.logoToolbar.find(".remove-logo"), this.logoInfos = this.logoTabContent.find(".logo-info"), this.logos = this.logoTabContent.find(".logo"), this.navTabs = t(".logaster3 .edit-product-page .nav-tabs a[data-toggle='tab']"), this.saveBtn = t(".logaster3 .header .save-btn"), this.undoBtn = t(".logaster3 .edit-header .undo-btn"), this.redoBtn = t(".logaster3 .edit-header .redo-btn"), a.WaitLocker.appElement = this.$el, l.Locker.acquire(), a.WaitLocker.start(), t(window).on("load", function() {
                        a.WaitLocker.stop()
                    }), this.bpHistory = new p.BrandProductHistory, this.saveHistoryDebounced = r.debounce(this.saveHistoryHandler, 700)
                }
                return Object.defineProperty(e.prototype, "productUrl", {
                    get: function() {
                        return ""
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.init = function(t, e, n) {
                    this._brand = i.Brand.deserialize(t), this.setOnBeforeUnload(), this.textColorPicker.colorRange = this._brand.colorRange, this.logoColorPicker.colorRange = this._brand.colorRange, this.renderTextToolbarComponents(), this.renderLogoToolbarComponents()
                }, e.prototype.bindHandlers = function() {
                    this.updateClickHandler = this.updateClickHandler.bind(this), this.editTitleClickHandler = this.editTitleClickHandler.bind(this), this.editTitleKeyDownHandler = this.editTitleKeyDownHandler.bind(this), this.charsCountHandler = this.charsCountHandler.bind(this), this.selectTextHandler = this.selectTextHandler.bind(this), this.textChangedHandler = this.textChangedHandler.bind(this), this.textDeleteHandler = this.textDeleteHandler.bind(this), this.selectFontHandler = this.selectFontHandler.bind(this), this.changeItemSizeHandler = this.changeItemSizeHandler.bind(this), this.switchLayersCallback = this.switchLayersCallback.bind(this), this.changeTextTransformHandler = this.changeTextTransformHandler.bind(this), this.changeTextKerningHandler = this.changeTextKerningHandler.bind(this), this.changeLogoHandler = this.changeLogoHandler.bind(this), this.removeLogoHandler = this.removeLogoHandler.bind(this), this.selectedElementHandler = this.selectedElementHandler.bind(this), this.moveElementHandler = this.moveElementHandler.bind(this), this.saveHistoryHandler = this.saveHistoryHandler.bind(this), this.navTabShownHandler = this.navTabShownHandler.bind(this), this.setOnBeforeUnload = this.setOnBeforeUnload.bind(this), this.resetOnBeforeUnload = this.resetOnBeforeUnload.bind(this), this.updateLogoControls = this.updateLogoControls.bind(this), this.calculateLayoutsContainerSize = this.calculateLayoutsContainerSize.bind(this), this.initLogoTabControls = this.initLogoTabControls.bind(this), this.initPrimitivesTabControls = this.initPrimitivesTabControls.bind(this), this.initTextTabControls = this.initTextTabControls.bind(this), this.initImageTabControls = this.initImageTabControls.bind(this), this.hideDropDownsHandler = this.hideDropDownsHandler.bind(this), this.colorChangedHandler = this.colorChangedHandler.bind(this), this.undoBtnClickHandler = this.undoBtnClickHandler.bind(this), this.redoBtnClickHandler = this.redoBtnClickHandler.bind(this), this.updateLayoutControls = this.updateLayoutControls.bind(this), this.deselectElementHandler = this.deselectElementHandler.bind(this), this.saveBtn.on("click", this.updateClickHandler), this.removeLogoBtn.on("click", this.removeLogoHandler), this.logoInfos.on("click", this.changeLogoHandler), this.editIcon.on("click", this.editTitleClickHandler), this.editTitle.on("click", this.editTitleClickHandler), this.editTitle.on("keydown", this.editTitleKeyDownHandler), this.editTitle.on("paste", this.charsCountHandler), this.logoNavTab.on("shown.bs.tab", this.navTabShownHandler), this.layoutNavTab.on("shown.bs.tab", this.navTabShownHandler), this.textNavTab.on("shown.bs.tab", this.navTabShownHandler), this.imageNavTab.on("shown.bs.tab", this.navTabShownHandler), this.primitivesNavTab.on("shown.bs.tab", this.navTabShownHandler), this.undoBtn.on("click", this.undoBtnClickHandler), this.redoBtn.on("click", this.redoBtnClickHandler), t(window).on("resize", this.calculateLayoutsContainerSize)
                }, e.prototype.initTextTabControls = function() {
                    this.textColorPicker = new u.ColorPicker(this.textToolbar.find(".color-widget"), this.colorChangedHandler, this.saveHistoryHandler), this.textColorPicker.openCallback = this.hideDropDownsHandler, this.toolbarControls.push(this.textColorPicker)
                }, e.prototype.initLogoTabControls = function() {
                    this.logoColorPicker = new u.ColorPicker(this.logoToolbar.find(".color-widget"), this.colorChangedHandler, this.saveHistoryHandler), this.logoColorPicker.openCallback = this.hideDropDownsHandler
                }, e.prototype.initPrimitivesTabControls = function() {}, e.prototype.initImageTabControls = function() {}, e.prototype.renderLogoToolbarComponents = function() {}, e.prototype.renderTextToolbarComponents = function() {}, e.prototype.loadFonts = function(t, e) {
                    if (o.Font.isLoaded(t)) return void e();
                    a.WaitLocker.start(), o.Font.load(t).then(function() {
                        e(), a.WaitLocker.stop(), l.Locker.release()
                    })
                }, e.prototype.colorChangedHandler = function() {
                    switch (this.view.selectedElement.type) {
                        case c.BPItem.TEXT:
                            this.view.saveItemTransform(), this.view.selectedElement.fill.setColor(this._brand.colorRange, this.textColorPicker.color), this.view.draw(), this.drawPresentation();
                            break;
                        case c.BPItem.LOGO:
                            this.view.saveItemTransform(), this.view.selectedElement.fill.setColor(this._brand.colorRange, this.logoColorPicker.color), this.view.draw(), this.drawPresentation()
                    }
                }, e.prototype.saveHistoryHandler = function() {
                    this.bpHistory.canBack() && this.undoBtn.removeClass("disable")
                }, e.prototype.undoBtnClickHandler = function() {
                    var t = this.bpHistory.back();
                    null !== t && this.renderBPFromHistory(t), this.bpHistory.canNotBack() && this.undoBtn.addClass("disable"), this.redoBtn.removeClass("disable")
                }, e.prototype.redoBtnClickHandler = function() {
                    var t = this.bpHistory.forward();
                    null !== t && this.renderBPFromHistory(t), this.bpHistory.canNotForward() && this.redoBtn.addClass("disable"), this.undoBtn.removeClass("disable")
                }, e.prototype.renderBPFromHistory = function(t) {}, e.prototype.hideDropDownsHandler = function(e) {
                    for (var n = 0, r = this.toolbarControls; n < r.length; n++) {
                        var i = r[n];
                        e !== i && i.hide()
                    }
                    t(".logaster3 .dropdown").removeClass("open")
                }, e.prototype.updateClickHandler = function() {
                    var t = this;
                    if (!l.Locker.locked) {
                        l.Locker.acquire(), this.view.saveItemTransform(), this.view.product.text = this.editTitle.text();
                        var e = this,
                            n = null,
                            r = null;
                        this.templateMode || this.duplicateMode ? (n = this.view.product.saveTemplate(), r = this._brand.id) : n = null == this.view.product.id ? this.view.product.save() : this.view.product.update(), a.WaitLocker.start(), n.then(function(n) {
                            var i = new URLSearchParams(location.search).get("next");
                            if (e.resetOnBeforeUnload(), t.templateMode || t.duplicateMode) return void(window.location.href = n.adminUrl);
                            if (null !== i) return void(window.location.href = window.location.origin + i);
                            var o = null !== n.brandId ? n.brandId : r;
                            window.location.href = e.productUrl.replace("{id}", "" + o)
                        })
                    }
                }, e.prototype.editTitleClickHandler = function() {
                    this.editTitle.focus()
                }, e.prototype.editTitleKeyDownHandler = function(t) {
                    -1 === [8, 46, 37, 38, 39, 40].indexOf(t.keyCode) && (this.editTitle.text().length > 40 || 13 === t.keyCode) && t.preventDefault()
                }, e.prototype.charsCountHandler = function(t) {
                    t.preventDefault();
                    var e = t.originalEvent.clipboardData.getData("text/plain");
                    e.length > 40 && (e = e.slice(0, 40), this.editTitle.text(e))
                }, e.prototype.selectTextHandler = function(t) {
                    var e = t.target,
                        n = e.hasAttribute("data-uid") ? parseInt(e.getAttribute("data-uid")) : null;
                    this.view.selectText(n), null !== n && this.selectedElementHandler()
                }, e.prototype.textChangedHandler = function(t) {
                    var e = t.target,
                        n = e.hasAttribute("data-uid") ? parseInt(e.getAttribute("data-uid")) : null,
                        r = e.value;
                    if (r = d.LanguageScript.removeUnsupportedChars(r), null === n && "" !== r) {
                        var i = this.view.addText(r, this.template.getProductBG());
                        e.setAttribute("data-uid", "" + i.uid), e.removeAttribute("placeholder");
                        var o = this.createTextField();
                        this.textTabContent.find(".input-group").append(o), this.selectedElementHandler(), this.saveHistoryHandler()
                    } else this.view.changeText(r, n), this.setAttrRowsTextField(r, e), this.saveHistoryDebounced();
                    this.drawPresentation(), this.disableSaveBtn()
                }, e.prototype.textDeleteHandler = function(e) {
                    var n = e.target,
                        r = n.hasAttribute("data-uid") ? parseInt(n.getAttribute("data-uid")) : null,
                        i = n.value;
                    null !== r && "" === i && (this.view.removeText(r), t(n.parentElement).remove(), this.drawPresentation(), this.disableSaveBtn())
                }, e.prototype.createTextField = function(e) {
                    void 0 === e && (e = null);
                    var n = document.createElement("div"),
                        r = document.createElement("textarea");
                    if (r.className = "form-control", null !== e) {
                        if (null !== e.target) {
                            var i = document.createElement("p");
                            i.className = "component-title", i.innerText = this.getTextByTarget(e.target), n.appendChild(i)
                        }
                        r.setAttribute("data-uid", "" + e.uid), t(r).val(e.content), this.setAttrRowsTextField(e.content, r)
                    } else r.setAttribute("rows", "1"), r.setAttribute("placeholder", translation.NewText);
                    return r.setAttribute("maxLength", "256"), t(r).on("click", this.selectTextHandler).on("input", this.textChangedHandler).on("blur", this.textDeleteHandler), n.appendChild(r), n
                }, e.prototype.getTextByTarget = function(t) {
                    var e = "";
                    if (null === t) return e;
                    switch (t) {
                        case h.BPTextItemTarget.FirstName:
                            e = translation.FirstName;
                            break;
                        case h.BPTextItemTarget.LastName:
                            e = translation.SecondName;
                            break;
                        case h.BPTextItemTarget.Position:
                            e = translation.Position;
                            break;
                        case h.BPTextItemTarget.Telephone:
                            e = translation.Phone;
                            break;
                        case h.BPTextItemTarget.Email:
                            e = translation.Email;
                            break;
                        case h.BPTextItemTarget.Company:
                            e = translation.CompanyName;
                            break;
                        case h.BPTextItemTarget.Address:
                            e = translation.Address;
                            break;
                        case h.BPTextItemTarget.Website:
                            e = translation.Website
                    }
                    return e
                }, e.prototype.setAttrRowsTextField = function(t, e, n) {
                    void 0 === n && (n = 3);
                    var r = t.split("\n").length;
                    r = r <= n ? r : n, e.setAttribute("rows", "" + r)
                }, e.prototype.changeLogoHandler = function(t) {
                    var e = t.currentTarget,
                        n = e.hasAttribute("data-lid") ? parseInt(e.getAttribute("data-lid")) : null;
                    this.view.changeLogo(this._brand.getLogoById(n), this.template), this.saveHistoryHandler(), this.updateLogoControls(), this.drawPresentation(), this.selectedElementHandler()
                }, e.prototype.removeLogoHandler = function() {
                    this.view.removeLogo(), this.saveHistoryHandler(), this.updateLogoControls(), this.drawPresentation(), this.selectedElementHandler()
                }, e.prototype.selectedElementHandler = function() {
                    if (this.textToolbar.addClass("hidden"), this.logoToolbar.addClass("hidden"), this.imageToolbar.addClass("hidden"), this.primitivesToolbar.addClass("hidden"), null != this.view.selectedElement) switch (this.view.selectedElement.type) {
                        case c.BPItem.TEXT:
                            this.textNavTab.tab("show"), this.textToolbar.removeClass("hidden"), this.textTabContent.find("textarea[data-uid=" + this.view.selectedElement.uid + "]").focus(), this.textColorPicker.color = this.view.selectedElement.fill.getColorCombination(this._brand.colorRange).getFill(null).color;
                            break;
                        case c.BPItem.LOGO:
                            this.logoNavTab.tab("show"), this.logoToolbar.removeClass("hidden"), this.logoColorPicker.color = this.view.selectedElement.fill.getColorCombination(this._brand.colorRange).getFill(null).color;
                            break;
                        case c.BPItem.Image:
                            this.imageNavTab.tab("show"), this.imageToolbar.removeClass("hidden")
                    }
                }, e.prototype.deselectElementHandler = function() {
                    this.drawPresentation()
                }, e.prototype.moveElementHandler = function(t) {
                    null != this.view.selectedElement && this.view.saveItemTransform()
                }, e.prototype.updateLogoControls = function() {
                    this.logos.removeClass("active");
                    var t = this.view.getLogoItem();
                    null !== t ? (this.logoInfos.find("strong").text(translation.ReplaceLogo), this.removeLogoBtn.removeClass("hidden"), this.logoInfos.filter("[data-lid=" + t.logo.id + "]").parents(".logo").addClass("active")) : (this.logoInfos.find("strong").text(translation.AddLogo), this.removeLogoBtn.addClass("hidden"))
                }, e.prototype.calculateLayoutsContainerSize = function() {
                    var t = document.body.clientHeight - this.layoutContainer.offset().top - 10;
                    this.layoutContainer.css({
                        height: t
                    })
                }, e.prototype.selectFontHandler = function(t) {
                    var e = this;
                    this.loadFonts([t], function() {
                        e.saveHistoryHandler(), e.drawPresentation()
                    })
                }, e.prototype.changeItemSizeHandler = function(t) {
                    this.view.changeItemSize(t), this.drawPresentation()
                }, e.prototype.switchLayersCallback = function(t) {
                    this.view.moveLayer(t), this.saveHistoryHandler(), this.drawPresentation()
                }, e.prototype.changeTextTransformHandler = function(t) {
                    this.drawPresentation()
                }, e.prototype.changeTextKerningHandler = function(t) {
                    this.drawPresentation()
                }, e.prototype.renderTextInputs = function() {
                    this.textTabContent.empty();
                    var t = document.createElement("div");
                    t.className = "input-group";
                    for (var e, n = this.view.getTextItems(), r = 0, i = n; r < i.length; r++) {
                        var o = i[r];
                        o.type == c.BPItem.TEXT && (e = this.createTextField(o), t.appendChild(e))
                    }
                    e = this.createTextField(), t.appendChild(e), this.textTabContent.append(t)
                }, e.prototype.createLayoutPreviews = function(t) {
                    for (var e = 0, n = t; e < n.length; e++) {
                        var r = n[e];
                        this.createLayoutPreview(r)
                    }
                    this.layoutInfos = this.layoutContainer.find(".layout-info")
                }, e.prototype.createLayoutPreview = function(e) {
                    var n = t("<div/>"),
                        r = t("<div/>").append("<strong/>"),
                        i = document.createElement("canvas");
                    e.widthMm > e.heightMm ? (i.width = 170, i.height = Math.round(170 * e.heightMm / e.widthMm)) : (i.width = Math.round(170 * e.widthMm / e.heightMm), i.height = 170);
                    var o = {
                        height: i.height + 16 + 2,
                        "line-height": i.height + 16 + 2 + "px"
                    };
                    r.css(o), r[0].dataset.tid = "" + e.template.id, r.addClass("layout-info hidden"), t(i).addClass("layout-canvas"), r.on("click", this.changeLayoutHandler), n.addClass("layout-view"), t(n).on("mouseenter", function(e) {
                        t(".layouts-container .layout-view .layout-info").addClass("hidden"), t(e.currentTarget).find(".layout-info").removeClass("hidden")
                    }), r.on("mouseleave", function(e) {
                        t(e.currentTarget).addClass("hidden")
                    });
                    var s = new f.BrandProductView(i.getContext("2d"), e, 1);
                    s.product.loadDynamic().then(function() {
                        s.draw()
                    }), n.append(r), n.append(i), this.layoutContainer.append(n)
                }, e.prototype.updateLayoutControls = function() {
                    var t = this.layoutContainer.find(".layout-view"),
                        e = t.find(".layout-info").filter("[data-tid=" + this.template.id + "]");
                    t.removeClass("active"), e.parents(".layout-view").addClass("active"), this.layoutInfos.find("strong").text(translation.ChooseThisDesign), e.find("strong").text(translation.CurrentDesign)
                }, e.prototype.changeLayoutHandler = function(t) {}, e.prototype.navTabShownHandler = function(e) {
                    this.currentNavTab = t(e.currentTarget), this.presentation = null, this.currentNavTab.is(this.textNavTab) ? this.stepName = "text" : this.currentNavTab.is(this.layoutNavTab) ? this.stepName = "layout" : this.currentNavTab.is(this.logoNavTab) ? this.stepName = "logo" : this.currentNavTab.is(this.imageNavTab) ? this.stepName = "image" : this.currentNavTab.is(this.primitivesNavTab) && (this.stepName = "primitives")
                }, e.prototype.goToTabByHash = function(t) {
                    this.currentNavTab = this.navTabs.filter('[aria-controls="' + t + '"]'), this.currentNavTab.tab("show")
                }, e.prototype.setOnBeforeUnload = function() {
                    window.onbeforeunload = function() {
                        return translation.LeavingPageText
                    }
                }, e.prototype.resetOnBeforeUnload = function() {
                    window.onbeforeunload = null
                }, e.prototype.drawPresentation = function() {}, e.prototype.disableSaveBtn = function() {
                    this.saveBtn.toggleClass("disabled", !this.view.product.isValid())
                }, e
            }();
        e.BrandProductEditApp = g
    }).call(e, n(5))
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.BPTextItemTarget = void 0;
    ! function(t) {
        t[t.None = 0] = "None", t[t.FirstName = 1] = "FirstName", t[t.LastName = 2] = "LastName", t[t.Position = 3] = "Position", t[t.Telephone = 4] = "Telephone", t[t.Email = 5] = "Email", t[t.Company = 6] = "Company", t[t.Address = 7] = "Address", t[t.Website = 8] = "Website"
    }(e.BPTextItemTarget || (e.BPTextItemTarget = {}))
}, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.BrandProductHistory = void 0;
    var r = function() {
        function t() {
            this.product = null, this.productSnapshots = [], this.currentIndex = -1, this.snapshotsLimit = 30
        }
        return t.prototype.back = function() {
            var t = null;
            return this.currentIndex > 0 && (this.currentIndex--, t = this.productSnapshots[this.currentIndex]), t
        }, t.prototype.forward = function() {
            return this.currentIndex === this.productSnapshots.length - 1 ? null : (this.currentIndex++, this.productSnapshots[this.currentIndex])
        }, t.prototype.addSnapshot = function(t, e) {
            this.productSnapshots.length > this.snapshotsLimit && (this.productSnapshots.shift(), this.currentIndex--), this.currentIndex++;
            var n = {
                editor: t,
                product: e.clone()
            };
            this.productSnapshots.splice(this.currentIndex, 0, n)
        }, t.prototype.canNotBack = function() {
            return 0 === this.currentIndex
        }, t.prototype.canNotForward = function() {
            return this.currentIndex === this.productSnapshots.length - 1
        }, t.prototype.canBack = function() {
            return this.productSnapshots.length > 1
        }, t
    }();
    e.BrandProductHistory = r
}, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function(t, e, n) {
    "use strict";
    (function(t) {
        var r = this && this.__extends || function() {
            var t = function(e, n) {
                return (t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                    })(e, n)
            };
            return function(e, n) {
                function r() {
                    this.constructor = e
                }
                t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
            }
        }();
        Object.defineProperty(e, "__esModule", {
            value: !0
        }), e.BusinessCardEditApp = void 0;
        var i = n(55),
            o = n(9),
            s = n(528),
            a = n(164),
            u = n(529),
            l = n(367),
            c = n(492),
            h = n(51),
            f = function(e) {
                function n(t, n, r, o, s) {
                    var a = e.call(this) || this;
                    return a._businessCard = null, a.currentSide = i.BusinessCard.FRONT_SIDE, a.frontContext2d = document.getElementById(t).getContext("2d"), a.backContext2d = document.getElementById(n).getContext("2d"), a.frontBackSwitcher = a.$el.find(".side-switcher"), a.bindHandlers(), a.toolbarControls = [], a.initTextTabControls(), a.initLogoTabControls(), a.init(r, o, s), a
                }
                return r(n, e), Object.defineProperty(n.prototype, "productUrl", {
                    get: function() {
                        return i.BusinessCard.BRAND_PRODUCT_URL
                    },
                    enumerable: !1,
                    configurable: !0
                }), n.prototype.init = function(t, n, r) {
                    e.prototype.init.call(this, t, n, r), this._businessCard = i.BusinessCard.deserialize(n, this._brand), this._businessCard = this._brand.getBusinessCardById(this._businessCard.id), 0 === r.length ? this.template = this._businessCard.template : this.template = i.BusinessCard.deserialize(r, this._brand), this.saveHistoryHandler(), this.view1 = new u.BusinessCardEditableView(this.frontContext2d, this._businessCard, i.BusinessCard.FRONT_SIDE, this.saveHistoryHandler), this.view1.selectedElementHandler = this.selectedElementHandler, this.view1.moveElementHandler = this.moveElementHandler, this.view1.deselectEventHandler = this.deselectElementHandler, this.view2 = new u.BusinessCardEditableView(this.backContext2d, this._businessCard, i.BusinessCard.BACK_SIDE, this.saveHistoryHandler), this.view2.selectedElementHandler = this.selectedElementHandler, this.view2.moveElementHandler = this.moveElementHandler, this.view2.deselectEventHandler = this.deselectElementHandler;
                    var o = this._businessCard.usedFonts(),
                        s = this._brand.usedFonts(),
                        a = this;
                    this.loadFonts(o.concat(s), function() {
                        a.fontsGot = !0, a.resourceLoadedHandler()
                    })
                }, n.prototype.bindHandlers = function() {
                    e.prototype.bindHandlers.call(this), this.sideChangedHandler = this.sideChangedHandler.bind(this), this.changeLayoutHandler = this.changeLayoutHandler.bind(this), this.frontBackSwitcher.find("button").on("click", this.sideChangedHandler)
                }, n.prototype.saveHistoryHandler = function() {
                    this.bpHistory.addSnapshot(this.stepName, this._businessCard), e.prototype.saveHistoryHandler.call(this)
                }, n.prototype.renderBPFromHistory = function(t) {
                    this._businessCard = t.product.clone(), this.template = this._businessCard.template, this._brand.updateBusinessCard(this._businessCard), this.view1.product = this._businessCard, this.view2.product = this._businessCard, this.renderTextInputs(), this.goToTabByHash(t.editor), this.updateLogoControls(), this.updateLayoutControls(), this.drawPresentation()
                }, n.prototype.replaceBusinessCard = function(t, e) {
                    if (null !== e) {
                        var n = this._brand.businessCards.indexOf(e); - 1 !== n && this._brand.businessCards.splice(n, 1)
                    }
                    this._brand.businessCards.push(t)
                }, n.prototype.updateVisibleView = function() {
                    this.currentSide == i.BusinessCard.FRONT_SIDE ? this.view = this.view1 : this.currentSide == i.BusinessCard.BACK_SIDE && (this.view = this.view2)
                }, n.prototype.updateSelectedSide = function(t) {
                    void 0 === t && (t = i.BusinessCard.FRONT_SIDE), this.currentSide = t, this.updateVisibleView(), this.frontBackSwitcher.find("button").removeClass("selected");
                    var e = null,
                        n = this.$el.find(".product-sides");
                    this.currentSide == i.BusinessCard.FRONT_SIDE ? (n.removeClass("flipped"), e = this.frontBackSwitcher.find(".front-side")) : (n.addClass("flipped"), e = this.frontBackSwitcher.find(".back-side")), e.addClass("selected"), this.updateLogoControls(), this.renderTextInputs()
                }, n.prototype.sideChangedHandler = function(e) {
                    var n = t(e.currentTarget).data("side");
                    n != this.currentSide && (this.view.saveItemTransform(), this.view.resetSelectedComponent(), this.view.draw(), this.updateSelectedSide(n))
                }, n.prototype.resourceLoadedHandler = function() {
                    this.fontsGot && (this.updateSelectedSide(), this.view1.product = this._businessCard, this.view2.product = this._businessCard, this.drawBackgroundPreview(), this.drawPresentation(), this.layoutNavTab.tab("show"))
                }, n.prototype.drawBackgroundPreview = function() {
                    var t = this.$el.find(".product-preview .texture-canvas")[0];
                    new l.TextureView(t.getContext("2d"), l.TextureView.getRandomUrl(), this._businessCard.brand.colorRange.getBgColor(o.ColorRange.BG_B), t.width, t.height)
                }, n.prototype.drawPresentation = function() {
                    null === this.presentation && (this.presentation = new s.BusinessCardEdit), this.presentation.draw(this._brand, null)
                }, n.prototype.changeLayoutHandler = function(t) {
                    var e = t.currentTarget,
                        n = parseInt(e.getAttribute("data-tid"));
                    this.presentation = null;
                    for (var r = 0, o = i.BusinessCard.templates; r < o.length; r++) {
                        var s = o[r];
                        if (s.id === n) {
                            this.template = s;
                            var a = i.BusinessCard.create(this._brand, this.template, this._businessCard);
                            a.id = this._businessCard.id, this.replaceBusinessCard(a, this._businessCard), this._businessCard = a, this.view1.product = a, this.view2.product = a, this.saveHistoryHandler(), this.drawPresentation(), this.updateSelectedSide(), this.updateLayoutControls();
                            break
                        }
                    }
                }, n.prototype.navTabShownHandler = function(n) {
                    var r = this,
                        o = t(n.currentTarget);
                    o.is(this.logoNavTab) && this.updateLogoControls(), o.is(this.layoutNavTab) && this.needLayouts && (a.WaitLocker.start(), h.BrandProduct.createBrandProducts(this._brand, 15, i.BusinessCard.loadTemplates).then(function(t) {
                        for (var e = [], n = 0, i = t; n < i.length; n++) {
                            var o = i[n];
                            e = e.concat(o.usedFonts())
                        }
                        r.loadFonts(e, function() {
                            this.createLayoutPreviews(t), this.updateLayoutControls(), this.calculateLayoutsContainerSize(), this.needLayouts = !1, a.WaitLocker.stop()
                        }.bind(r))
                    })), e.prototype.navTabShownHandler.call(this, n)
                }, n
            }(c.BrandProductEditApp);
        e.BusinessCardEditApp = f, window.Logaster = window.Logaster || {}, window.Logaster.BusinessCardEditApp = f
    }).call(e, n(5))
}, function(t, e, n) {
    "use strict";
    var r = this && this.__extends || function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                })(e, n)
        };
        return function(e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.BusinessCardEdit = void 0;
    var i = n(70),
        o = n(8),
        s = n(38),
        a = n(37),
        u = n(9),
        l = n(52),
        c = n(411),
        h = n(41),
        f = n(55),
        p = function(t) {
            function e() {
                return null !== t && t.apply(this, arguments) || this
            }
            return r(e, t), e.prototype.getShowcases = function() {
                return [new a.LogoShowcase(0, [new l.LogoLayer([new s.LogoLayerItem(o.Logo.HORIZONTAL, 166, 60, "1 0 0 1 12 10", u.ColorRange.BG_WHITE, !0)])], "lschs"), new a.LogoShowcase(0, [new l.LogoLayer([new s.LogoLayerItem(o.Logo.HORIZONTAL, 166, 60, "1 0 0 1 12 10", u.ColorRange.BG_WHITE, !1)])], "lsch"), new a.LogoShowcase(0, [new l.LogoLayer([new s.LogoLayerItem(o.Logo.VERTICAL, 100, 70, "1 0 0 1 45 5", u.ColorRange.BG_WHITE, !0)])], "lscvs"), new a.LogoShowcase(0, [new l.LogoLayer([new s.LogoLayerItem(o.Logo.VERTICAL, 100, 70, "1 0 0 1 45 5", u.ColorRange.BG_WHITE, !1)])], "lscv"), new a.LogoShowcase(0, [new l.LogoLayer([new s.LogoLayerItem(o.Logo.TEXT, 144, 50, "1 0 0 1 22 15", u.ColorRange.BG_WHITE, !0)])], "lscts"), new a.LogoShowcase(0, [new l.LogoLayer([new s.LogoLayerItem(o.Logo.TEXT, 144, 50, "1 0 0 1 25 15", u.ColorRange.BG_WHITE, !1)])], "lsct"), new a.LogoShowcase(0, [new h.ImageLayer("bc/01.png"), new h.ImageLayer("bc/02.png"), new c.BusinessCardLayer(362, 201, "1 0 0 1 95 34"), new h.ImageLayer("bc/03.png"), new h.ImageLayer("bc/04.png"), new h.ImageLayer("bc/05.png"), new h.ImageLayer("bc/06.png"), new c.BusinessCardLayer(364, 199, "0.959 -0.284 0.351 0.939 11.5 269.5", f.BusinessCard.BACK_SIDE), new h.ImageLayer("bc/07.png")], "bc2")]
            }, e.key = "[BusinessCardEdit]", e
        }(i.Presentation);
    e.BusinessCardEdit = p
}, function(t, e, n) {
    "use strict";
    var r = this && this.__extends || function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                })(e, n)
        };
        return function(e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
        }
    }();
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.BusinessCardEditableView = void 0;
    var i = n(491),
        o = function(t) {
            function e(e, n, r, i) {
                var o = t.call(this, e, n, r, i) || this;
                return o.cursor.iconOffsetY += 60, o
            }
            return r(e, t), e
        }(i.BrandProductEditableView);
    e.BusinessCardEditableView = o
}]);